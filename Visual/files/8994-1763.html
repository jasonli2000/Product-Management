<html>
<link rel="stylesheet" href="../datatable/css/demo_page.css" type="text/css" id=""/>
<link rel="stylesheet" href="../datatable/css/demo_table.css" type="text/css" id=""/>
<link rel="stylesheet" href="../style.css" type="text/css" id=""/>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../datatable/js/jquery.dataTables.js"></script>
<!-- Google Analytics -->
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-43872538-6', 'osehra.org');
 ga('send', 'pageview');
</script>


<script type="text/javascript" id="js">
  $(document).ready(function() {
  // call the tablesorter plugin
      $("#ODk5NC0xNzYz").dataTable({
        "bPaginate": false,
        "bLengthChange": false,
        "bInfo": false,
        "bStateSave": true,
        "bSort": false
      });
}); </script>

<body id="dt_example"><div id="container" style="width:80%"><h1>ROR REPORT RETRIEVE (1763) &nbsp;&nbsp;  REMOTE PROCEDURE (8994)</h1>
<div id="demo"><table id="ODk5NC0xNzYz" class="display">
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>ROR REPORT RETRIEVE</td>
</tr>
<tr>
<td>TAG</td>
<td>GETXML</td>
</tr>
<tr>
<td>ROUTINE</td>
<td><a href="http://code.osehra.org/dox/Routine_RORRP011.html">RORRP011</a></td>
</tr>
<tr>
<td>RETURN VALUE TYPE</td>
<td>ARRAY</td>
</tr>
<tr>
<td>AVAILABILITY</td>
<td>RESTRICTED</td>
</tr>
<tr>
<td>WORD WRAP ON</td>
<td>TRUE</td>
</tr>
<tr>
<td>VERSION</td>
<td>1</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td><pre>
The ROR REPORT RETRIEVE remote procedure returns an array that contains
the report (in XML format) generated by the task.
</pre>
</td>
</tr>
<tr>
<td>INPUT PARAMETER</td>
<td>
<ol>
<li>
<dt>INPUT PARAMETER:  &nbsp;&nbsp;TASK</dt>
<dt>PARAMETER TYPE:  &nbsp;&nbsp;LITERAL</dt>
<dt>REQUIRED:  &nbsp;&nbsp;YES</dt>
<dt>SEQUENCE NUMBER:  &nbsp;&nbsp;1</dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Task number returned either by the ROR REPORT SCHEDULE or ROR TASK LIST
remote procedures.
</pre>
</dt>
</li>
<li>
<dt>INPUT PARAMETER:  &nbsp;&nbsp;FROM</dt>
<dt>PARAMETER TYPE:  &nbsp;&nbsp;LITERAL</dt>
<dt>SEQUENCE NUMBER:  &nbsp;&nbsp;2</dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
A string that indicates where to start/continue the rendering process. It 
contains three "^"-pieces:
 
  ^1: IEN of the report element
 
  ^2: Where exactly the rendering process has stopped
      (see the $$XMLREP^RORTSK10 function for details)
 
  ^3: IEN of the text line (if the 2nd piece = 3)
 
To continue the rendering from the point where it stopped during the
previous call of the remote procedure, just assign the non-empty value
returned in the RESULT[0] by the previous call.
 
By default (if $G(FROM)'&gt;0), the rendering starts from the beginning of 
the report.
 
NOTE: 
 
Despite this description, you must not make any assumptions about
structure of this parameter (it can be changed at any time without
warning). The only exception is the IEN of the report element. You can
assign a positive value to this parameter before the call to start the
rendering from the corresponding element.
</pre>
</dt>
</li>
<li>
<dt>INPUT PARAMETER:  &nbsp;&nbsp;MAXSIZE</dt>
<dt>PARAMETER TYPE:  &nbsp;&nbsp;LITERAL</dt>
<dt>SEQUENCE NUMBER:  &nbsp;&nbsp;3</dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Either the maximum number of lines to retrieve or the maximum size of the
output in bytes (append the "B" to the number). By default (if
$G(MAXSIZE)'&gt;0,) the whole report (starting from the point indicated by
the FROM parameter if it is defined) is retrieved.
 
  Examples:
    500    Retrieve no more that 500 lines
    4096B  Retrieve no mor than 4Kb
 
NOTE: If the "B" suffix is used, the size of the retrieved
      portion of the document can be somewhat bigger than
      MAXSIZE! The last line of the chunk is not truncated
      even if the size will be bigger than MAXSIZE.
</pre>
</dt>
</li>
<li>
<dt>INPUT PARAMETER:  &nbsp;&nbsp;SORT</dt>
<dt>PARAMETER TYPE:  &nbsp;&nbsp;LIST</dt>
<dt>SEQUENCE NUMBER:  &nbsp;&nbsp;4</dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The SORT list defines how the different parts of the report are sorted.
It should be defined as follow:
 
  SORT(i)="ParentElementName=SortElementName"
 
An optional D[ESC] modifier (the abbreviation of 'descending') can be
added after the SortElementName. They should be sepearted by the ':'.
 
For example, if the report has the following structure:
 
  &lt;REPORT&gt;
    &lt;PATIENT&gt;
      &lt;NAME&gt; ... &lt;/NAME&gt;
      &lt;DOB&gt; ... &lt;/DOB&gt;
      &lt;SELRULES&gt;
        &lt;RULE&gt;
          &lt;NAME&gt; ... &lt;/NAME&gt;
          &lt;DATE&gt; ... &lt;/DATE&gt;
        &lt;/RULE&gt;
        ...
      &lt;/SELRULES&gt;
    &lt;/PATIENT&gt;
    ...
  &lt;/REPORT&gt;
 
and the SORT parameter is defined by the client application as follow:
 
  with RPCBroker do begin     
    Param[3].PType := list; 
    Param[3].Mult[1] := 'REPORT=NAME';  
    Param[3].Mult[2] := 'SELRULES=DATE:D';
  end;
 
then the procedure will sort the patients by their names and the selection
rules for each patient will be sorted by the corresponding dates in 
descending order.
</pre>
</dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>RETURN PARAMETER DESCRIPTION</td>
<td><pre>
A negative value of the first "^"-piece of the Results[0] indicates that
an error occurred during the execution of the remote procedure. In this
case, the second piece of the Results[0] will contain number of the error
descriptors returned in the subsequent nodes of the Results array:
    
  Results[0]            Result Descriptor
                          ^01: The last error code
                          ^02: Number of the error descriptors
                                                                      
  Results[i]            Error Descriptor
                          ^01: Error code
                          ^02: Message
                          ^03: Place of the error
 
Otherwise, it contains either a string that indicates the place where 
the rendering stopped because the maximum number of lines (defined by the 
NUMBER parameter) had been processed or an empty string if the processing 
of the report was completed.
 
You should pass this value (if it is not empty) as the FROM parameter to
subsequent call of the remote procedure if you want to continue the
rendering from the point where it stopped.
 
The subsequent elements of the resulting array (starting from 1) contain
the lines of the report. An element can contain an XML tag, a single-line
value between opening and closing tags or a line of text.
 
NOTE: If the MAXSIZE parameter is not defined or not greater
      than zero (a request for the whole report), the new value
      for the FROM parameter is not returned in the Results[0]
      and the latter contains the first line of the report.
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</body></html>