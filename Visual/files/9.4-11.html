<html>
<link rel="stylesheet" href="../datatable/css/demo_page.css" type="text/css" id=""/>
<link rel="stylesheet" href="../datatable/css/demo_table.css" type="text/css" id=""/>
<link rel="stylesheet" href="../style.css" type="text/css" id=""/>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../datatable/js/jquery.dataTables.js"></script>
<!-- Google Analytics -->
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-43872538-6', 'osehra.org');
 ga('send', 'pageview');
</script>


<script type="text/javascript" id="js">
  $(document).ready(function() {
  // call the tablesorter plugin
      $("#OS40LTEx").dataTable({
        "bPaginate": false,
        "bLengthChange": false,
        "bInfo": false,
        "bStateSave": true,
        "bSort": false
      });
}); </script>

<body id="dt_example"><div id="container" style="width:80%"><h1>AUTOMATED LAB INSTRUMENTS (11) &nbsp;&nbsp;  PACKAGE (9.4)</h1>
<div id="demo"><table id="OS40LTEx" class="display">
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>AUTOMATED LAB INSTRUMENTS</td>
</tr>
<tr>
<td>PREFIX</td>
<td>LA</td>
</tr>
<tr>
<td>SHORT DESCRIPTION</td>
<td>Lab Auto-Instrument Package</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td><pre>
This a is list of routines and files needed for
LAB auto instruments.  This release has routines for
microbiology instruments along with attendant verify routines.
The release also carries with it routines for some instruments to be
run in a bidirectional mode.
 
In some cases we have added some routines which will run an instrument
directly connected to the CPU instead of going through the LSI.  This
has been done because of problems with timing, and/or problems
with the method of data transmission protocols.  You can usually
tell a direct connect instrument by the routine name being LAnnnnXX
where the XX will need to be changed before running and the nnnn will
identify the instrument.
 
With this release there is also a new error trap for auto instruments.
This trap does not use the system error trap and therefore does not
create any special system problems.
</pre>
</td>
</tr>
<tr>
<td>FILE</td>
<td>
<ol>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.4.html">AUTO INSTRUMENT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>*MENU</td>
<td>
<ol>
<li>
<dt>MENU:  &nbsp;&nbsp;LR DO!</dt>
<dt>OPTION:  &nbsp;&nbsp;<a href="19-943.html">LRBLPER</a></dt>
</li>
<li>
<dt>MENU:  &nbsp;&nbsp;LRSUPERVISOR</dt>
<dt>OPTION:  &nbsp;&nbsp;<a href="19-943.html">LRBLPER</a></dt>
</li>
<li>
<dt>MENU:  &nbsp;&nbsp;LRMI</dt>
<dt>OPTION:  &nbsp;&nbsp;<a href="19-952.html">LRBLRTC</a></dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>DEVELOPER (PERSON/SITE)</td>
<td>STALLING,F/DALISC</td>
</tr>
<tr>
<td>*LOWEST FILE NUMBER</td>
<td>62.4</td>
</tr>
<tr>
<td>*HIGHEST FILE NUMBER</td>
<td>62.4</td>
</tr>
<tr>
<td>DEVELOPMENT ISC</td>
<td>DALLAS</td>
</tr>
<tr>
<td>CLASS</td>
<td>National</td>
</tr>
<tr>
<td>CURRENT VERSION</td>
<td>5.2</td>
</tr>
<tr>
<td>VERSION</td>
<td>
<ol>
<li>
<dt>VERSION:  &nbsp;&nbsp;5.2</dt>
<dt>DATE DISTRIBUTED:  &nbsp;&nbsp;2005-11-19 00:00:00</dt>
<dt>DATE INSTALLED AT THIS SITE:  &nbsp;&nbsp;1996-06-05 00:00:00</dt>
<dt>DESCRIPTION OF ENHANCEMENTS:  &nbsp;&nbsp;<pre>
  This version is co-released with LAB SERVICE V5.2. It contains patches
upto and including #.
  AUTOMATED LAB INSTRUMENTS (LA) future releases maybe independent of the
LABORATORY SERVICE package. However in this version all LAB  routines
have the same version number (V5.2).
</pre>
</dt>
<dl><dt>PATCH APPLICATION HISTORY:</dt>
<dd>
<ol>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;22 SEQ #14</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-07-15 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Fixes null subscript errors in LAGEN after patch LA*5.2*17.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;25 SEQ #15</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-12-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;23 SEQ #19</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-05-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Associated patches: (v)LA*5.2*17    &lt;&lt;= must be installed BEFORE `LA*5.2*23'
Associated patches: (v)LA*5.2*25    &lt;&lt;= must be installed BEFORE `LA*5.2*23'
  

A: Patch Description Summary
----------------------------
This patch will address nine issues that have been reported on NOIS or
developer identified.
 
 
B: Sources for Patch
--------------------
 
1. Summary of E3R
-----------------
   None
 
2. Summary of NOIS
------------------
 
   BRK-0696-11519
   SDC-1296-60042
   LEB-1296-20455
   VDA-1296-N0470
 
C. Patch Description Detail
---------------------------
 
1. NOIS BRK-0696-11519
   -------------------
A. Problem: With consolidation of sites, laboratories are operating with
more than 99 accession areas. This has necessitated changes to the
construction of the UID, (See related patch LR*5.2*129).

Previously this was a 10 character numeric string. To handle sites with
greater than 99 accession areas, the format has been changed to allow
alphanumeric when designating the accession area identifier. This patch
incorporates changes to the Lab UI to properly handle this new format.
 
   1. Auto download process was performing a numeric check of UID which is no
      longer valid in routine LA7ADL.
 
   2. Test result process was performing a numeric check of UID which is no
      longer valid in routine LA7UIIN1.
 
   Resolution: Altered check of UID to accept alphanumeric characters.
 
 
2. NOIS SDC-1296-60042
   NOIS LEB-1296-20455
   -------------------
A. Problem: When processing test result messages, if site set flag to only
process tests that were ordered, it was possible for a result to not be
processed when it was ordered. This would occur if variable LA7TREE was
defined and contained a value greater than 999.
 
   Resolution: Kill variable LA7TREE in routine LA7UIIN2 before call to
routine UNWIND^LA7UTIL which determine if test results are for a test that
was ordered.
 
  
3. NOIS VDA-1296-N0470
   -------------------
A. Problem: When processing incoming HL7 messages to the Lab UI, the
routine LA7UIIN1 was setting up the call to LAGEN to create an entry in the
LAH global using the default accession area defined in the auto instrument
file. With the introduction of the UID, the lab package is implementing the
ability to run multiple accession areas on one instrument. The call to
LAGEN should build the accession area from the UID if available and use the
default accession area only when an accession number is passed.
 
   Resolution: Modified routine LA7UIIN1 to build the accession area from
the UID when available before making call to LAGEN to create entry in LAH
global.
 
 
4. Developer Identified
   --------------------
A. Problem: Option LA7 PRINT LAB UI ERROR contained a misspelling in the
menu text.
 
   Resolution: Menu text changed from "Print Lab Universal Inteface Log" to
"Print Lab Universal Interface Log".
 
 
B. Problem: Option LA7 MAIN MENU was released in patch LA*5.2*17 but not
attached to the normal Lab menu system.
 
   Resolution: Option LA7 MAIN MENU is added to the option LA INTERFACE.
 
 
C. Problem: When troubleshooting a problem with the Universal Interface,
there was no option to display a message.
 
   Resolution: Option LA7 PRINT UI MESSAGE added to LA7 MAIN MENU option to
allow user to display/print Universal Interface messages from file #62.49,
LA7 MESSAGE QUEUE. User can select 1-20 messages. Messages can be selected by
using either the #.01 field - MESSAGE NUMBER or #5 field - INSTRUMENT NAME.
 
The INSTRUMENT NAME field is constructed as follows:
 1. Instrument name from the #.01 Name field of the Auto Instrument file #62.4
 2. Message type - "I" for Incoming, "O" for Outgoing
 3. Lab Unique Id or Accession number
    - Outgoing messages always use the UID when building this name.
    - Incoming messages are based on what is found in the message.
 
 Examples: CX7-I-2061020105
           H747-O-3163120010
           MLA-I-45
 
 Messages with no instrument name will use "UNKNOWN".
 Messages with no/unknown UID/accession number will use 0 (zero).
 Example: UNKNOWN-I-0
 
Uses the Kernel Browser if displayed on a CRT that supports the Browser,
otherwise uses FileMan captioned display.
 
 
D. Problem: No option to start/stop the automatic download feature of the
Universal Interface if a site is using this capability.
 
   Resolution: Option LA7 ADL START/STOP added to LA7 MAIN MENU option.
This option can be used by sites utilizing the automatic download feature
to start/restart/stop the automatic download process. When a site makes
changes to an auto instrument entry in the AUTO INSTRUMENT file (#62.4),
and the entry is used for automatic downloading, the automatic download
process needs to be restarted. If a site wishes to stop the automatic
download process then it can be shutdown using this option.
 
 
E. Problem: No option to send/resend an existing accession when using the
automatic download feature of the Universal Interface.
 
   Resolution: Option LA7 ADL SEND added to LA7 MAIN MENU option. This
option allows for the manual selection of accession(s) for downloading to
an instrument for those instruments utilizing automatic downloading. It
will place the selected accessions in the queue to be checked for
downloading to those instruments designated for automatic downloading.
  
F. Problem: When processing an incoming result message that had a specimen
id that is an accession number, the accession date was being set to the
current date (DT). This caused results to be stored in LAH under the
wrong accession when the default accession area for the instrument was
non-daily, i.e. monthly, quarterly, yearly.
 
   Resolution: Determine the current accession date when processing by
accession number based on the accession transform (field # .05 in
Accession file #68). Routine LA7UIIN1 modified.
 
TEST SITES           OPERATING SYSTEM    UNIVERSAL INTERFACE PRODUCT
----------           ----------------    ---------------------------
Bath VAMC            MSM system          Dawning ResultNet
Central Texas HCS    DSM system          Data Innovations Instrument Manager
Lebanon VAMC         DSM system          Data Innovations Instrument Manager
Long Beach VAMC      DSM system          Dawning ResultNet
Milwaukee VAMC       DSM system          Data Innovations Instrument Manager
  
 
ROUTINE SUMMARY
---------------
 
 The following is a list of routines included in this patch. The second
 line of each routine now looks like:
 
 &lt;tab&gt;;;5.2;LAB MESSAGING;**[patch list]**;Feb 29, 1996
 
                  CHECK^XTSUMBLD results
 
   Routine Name   Before Patch   After Patch   Patch List
   ------------   ------------   -----------   ----------
   LA23           NA             3777015       23
   LA7ADL         9628408        10978189      17,25,23
   LA7ADL1        4708581        7046668       17,23
   LA7ADL2        NA             4107162       23
   LA7ADLS        NA             2840510       23
   LA7UIIN        3932211        5181875       17,23
   LA7UIIN1       5975112        7157740       17,23
   LA7UIIN2       9803192        9927050       17,23
   LA7UTILA       NA             11405877      23
 
 
 INSTALLATION INSTRUCTIONS
 -------------------------
 The install time for this patch is less than 5 minutes. This patch
 can be installed when Laboratory users are on the system.
 However the following conditions apply:
  1. Accessioning should not be occurring,
  2. The HL7 background job (HLLP) for the Lab Universal Interface should
     be stopped.
  3. The routine LA7UIIN to process incoming HL7 messages should not
     be running.
  4. If using auto download, the routine LA7ADL should not be running.
 
 NOTE: MailMan and Kernel patches must be current on the target system to
       avoid problems loading and/or installing this patch.
 
 1.  If any of the above routines are mapped, disable mapping for them.
 
 2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
     option will load the KIDS patch onto your system.
 
 3.  The patch has now been loaded into a Transport global on your
     system.  You now need to use KIDS to install the transport global.
 
 4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
     select the 'Installation' menu.
 
 5.  Use the 'Verify Checksum in Transport Global' option and verify that
     all routines have the correct checksums.
 
 6.  If you wish to preserve a copy of the routines exported in this patch
     prior to installation, you should use the 'Backup a Transport Global'
     option at this time.  You may also compare the routine in your
     production account to the routine in the patch by using the 'Compare
     a Transport Global to Current System' option.  These options can
     both be found under the 'Installation' menu.
 
 7.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'LA*5.2*23'.  When prompted 'Want to
     DISABLE Scheduled Options, Menu Options, and Protocols? NO//',
     choose 'NO'.
 
 8.  MSM sites:  You should respond 'YES' to 'Want to MOVE routines to
     other CPUs?' and specify CPUs.  Alternatively, you may move the
     routines to your other systems after KIDS has finished the
     installation.
 
 9. On a mapped system, rebuild your map set.
 
 10. Restart the HL7 background job(s) for the Lab Universal Interface if
     previously stopped.
 
 11. Routine LA23 can be deleted after successful patch installation.
 **************************************************************************** 
Below is an example of the dialogue seen during the KIDS install:
 
  
Select Installation Option: INstall Package(s)
Select INSTALL NAME:    LA*5.2*23   Loaded from Distribution  12/13/96@15:50:40
     =&gt; LA*5.2*23 TEST V1
 
This Distribution was loaded on Dec 13, 1996@15:50:40 with header of
LA*5.2*23 TEST V1
It consisted of the following Install(s):
LA*5.2*23
 
   LA*5.2*23
Will first run the Environment Check Routine, LA23
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*23
 
 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   VIRTUAL TERMINAL
 
 
 Install Started for LA*5.2*23 :
               Dec 13, 1996@15:51:51
 
 Installing Routines:
               Dec 13, 1996@15:52
                                   LA*5.2*23
 
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Dec 13, 1996@15:52:35
 
 Running Post-Install Routine: POST^LA23
 
Option [LA7 MAIN MENU] was added to [LA INTERFACE] MENU
 
Moving entries in global ^LA("ADL",uid) to ^LA("ADL","Q",uid)
 
                             Post install completed
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LA*5.2*23 Installed.
               Dec 13, 1996@15:52:56
 
 
Install Completed
    
  
  
Select Installation Option:
 
End of example install
 ****************************************************************************
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;36 SEQ #24</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Resolves zero isolate problem on Vitek Literal Interface.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;35 SEQ #25</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-10-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The Vitek Literal Interface parser routine loops infinitely when
extra large data streams are encountered. The LAMIVTLP routine was modified 
to fix this problem.
 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;37 SEQ #26</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Eliminates the undefined from LAMIVTL0 when a deleted accession
number is sent across the Vitek Literal Interface. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;40 SEQ #27</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-02-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 The 63.3 and 63.31 nodes in the LAB DATA file (#63) are
 not incremented properly when multiple organisms are
 found using the Vitek Literal Interface. The routines LAMIVTL3
 and LAMIVTL4 have been edited to resolve the problem.

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;27</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-03-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See LABORATORY ELECTRONIC DATA INTERCHANGE (LEDI) PATCH LA*5.2*27 and PATCH
LR*5.2*153 INSTALLATION GUIDE.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;42</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
            AUTOMATED LAB INSTRUMENTS (LA) Y2K PATCH
 
 
 Description:
 
 This is the Year 2000 (Y2K) compliance patch containing the changes
 necessary to accommodate the year 2000.  2 digit (YY) year dates are
 replaced with 4 digit (CCYY) century year dates in laboratory routines
 for patients' permanent clinical record. 2 digit year dates are replaced
 in other laboratory routines where space was available.
 
 With the upcoming turn of the century (Y2K) the Office of the
 Chief Information Office Technical Services has issued a guidelines
 document for VISTA Software Y2K requirements.  This guideline lays out
 the core essentials to meet or exceed OMB, GAO and congressional
 requirements for Year 2000 requirements.  Laboratory software has been
 modified to meet or exceed these guidelines.
 
 Reference NOIS:        None
 
 Reporting Site:        N/A
 
 Test Site(s)--Alpha Platform w/ DSM OS:  Brockton VAMC, Milwaukee VAMC
                                          North Chicago VAMC
 
 
 -----------------------------------------------
 Software Availability:
 
 This patch is available from one of the CIO Field Offices listed below.
 All VAMC's are encouraged to use their FTP capability to obtain the
 software from the appropriate directory
 
 CIO Field Office           FTP Address             Directory
 ----------------          -------------        -----------------
 Hines                     152.129.1.110        anonymous.software
 Albany                    152.127.1.5          anonymous.software
 Salt Lake                 152.131.2.1          anonymous.software
 
 File Name: LAB_Y2K.KID
 Note: This patch is issued as part of a KIDS Distribution in which
 the Transport Globals contains three Laboratory patches.  The patches
 are LR*5.2*203, LR*5.2*201 and LA*5.2*42.
  
  
----------------------------
Options affected by changes:
 
AP Microfiche Archive [LA AP FICHE]
Lab Error Trap Listing [LA ERR PRINT]
Vitek Load Worklist (Build) [LA MI VITEK L/W BUILD]
Verify Micro Auto Data [LA MI VERIFY AUTO]
VITEK LITERAL [LA VITEK LITERAL]
 
---------------
 
Routine changes:
 
Routine     Line Tag    Description of Change
-------     --------    ------------------------------------------------
LABALARM    LABALARM+2  Changed call to %DT with X="NOW" to Kernel
                        $$HTE^XLFDT to determine current system time.
 
LADOWN1     TREE+4      Code was taking entire node of panel test multiple
                        in file LABORATORY TEST (#60) as pointer to entry
                        in file LABORATORY TEST (#60). Since other data is
                        stored on this node the pointer to file #60 was
                        incorrectly constructed. Code now "+" variable to
                        determine value of first piece.
 
LABERR      EN1+1       Changed save error code to Kernel call $$EC^%ZOSV.
 
LABERR      EN1+5       Set Kernel variable DT using approved call
                        $$DT^XLFDT, variable SY using call to $$NOW^XLFDT.
 
LA7SMPXL    PD+1        Fixed printing incorrect collecting site on report.
 
LA7SMPXL    SITE+1      Fixed printing incorrect collecting site on report.
 
LASET       LA1+7       Changed call to %DT with X="NOW" to Kernel
                        $$HTE^XLFDT to determine current system time.
 
LA7UTIL     CADT+0      Extrinsic function to calculate current accession
          - CADT+6      date based on accession area transform.
 
LA7VORM     OBR+39      Corrected storing incorrect collecting site when
                        building file LAB PENDING ORDERS ENTRY (#69.6).
 
LAMIAUT0    ACCESS+2    Change default 2-digit year accession date to
          - ACCESS+6    current accession date based on accession area
                        transform. Call to $$CADT^LA7UTIL to determine
                        current accession date and call to $$FMTE^XLFDT
                        to display FileMan date in external format.
                        Display accession date with 4-digit year.
                        Added "P" to %DT variable, assumes past dates.
 
LAMIAUT0    DATE+4      Change default 2-digit year accession date to
          - DATE+7      current accession date based on accession area
                        transform. Call to $$CADT^LA7UTIL to determine
                        current accession date and call to $$FMTE^XLFDT
                        to display FileMan date in external format.
                        Display accession date with 4-digit year.
                        Added "P" to %DT variable, assumes past dates.
 
LAMIAUT7    CLEAR+7     Added "P" to %DT variable.
 
LAMIVT5     LA3+2       Change 2-digit year default accession date to
                        current accession date based on accession area
                        transform. Display accession date with 4-digit
                        year.
 
LAMIVT6     LA3+2       Change 2-digit year default accession date to
                        current accession date based on accession area
                        transform. Display accession date with 4-digit
                        year.
 
LAMIVTL0    LRAD+1      Added "P" to %DT variable. 
 
LAMIVTL0    LRAD+3      Call to $$CADT^LA7UTIL to determine current
                        accession date and call to $$FMTE^XLFDT to
                        display FileMan date in external format.
                        Display accession date with 4-digit year.
 
LAMIVTKD    SAMPLE+10   Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTKD    SAMPLE+12   Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTKD    PNM+3       Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTKD    PNM+6       Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTLD    SAMPLE+37   Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTLD    SAMPLE+41   Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTLD    PNM+6       Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAMIVTLD    PNM+16      Change building date with 2-digit year to call
                        to $$Y2K^LRX which returns 4-digit year.
 
LAPFICH     EN+4        Added "P" to %DT variable.
 
 
During initial evaluation of LA namespaced routines it was reported
that 20 routines would need renovation to be Y2K compliant. After
further evaluation, it was determined the only 11 LA namespaced
routines would need to be modified. The routines originally reported
but not modified are:
 
Routine     Line Tag    Non-Renovation Reason
-------     --------    ------------------------------------------------
 
LABCX4D     SAMPLE+10   Changing date format will violate vendor's
                        instrument interface specification.
 
LAEKT4      LA2+2       Code is checking if test result is less than
                        999999. Not a Y2K date issue.
 
LAGEN       CONTROL+2   Code is calculating inverse FileMan date from
                        specimen collection date/time in FileMan date
                        format.
 
LAHTCCAD    SAMPLE+1    Changing date format will violate vendor's
                        instrument interface specification.
 
LAKDIFF     WLN+1       Code is calculating inverse FileMan date from
                        specimen collection date/time in FileMan date
                        format.
 
LAKDIFF3    LAKDIFF3+13 Code is calculating inverse FileMan date from
                        specimen collection date/time in FileMan date
                        format.
 
LAKUR       WLN+1       Code is calculating inverse FileMan date from
                        specimen collection date/time in FileMan date
                        format.
 
LAMIVTLG    CONTROL+2   Code is calculating inverse FileMan date from
                        specimen collection date/time in FileMan date
                        format.
 
LAMSD       PT+9        Changing date format will violate vendor's
                        instrument interface specification.
 
LAMSD       SPEC+4      Changing date format will violate vendor's
                        instrument interface specification.
 
 
 
 
ROUTINE SUMMARY:
=================
 
The second line of the routine now looks like:
 
   &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[patch list]**; Sep 27, 1994
 
 
                 CHECK^XTSUMBLD results
 
 Routine Name   Before Patch    After Patch     Patch List
 ------------   ------------    -----------     -----------
 
  LA42          N/A             2382684         42
  LA7SMPXL      5134195         5400542         27,42
  LA7UTIL       4911757         5680457         17,42
  LA7VORM       17385553        17384019        27,42
  LABALARM      1650198         1640267         42
  LABERR        6644019         6638122         42
  LADOWN1       1617991         1620875         17,42
  LAMIAUT0      16381256        16551460        42
  LAMIAUT7      13571379        13798654        42
  LAMIVT5       6911163         6841547         42
  LAMIVT6       6905221         6835605         42
  LAMIVTKD      12903215        12408562        26,42
  LAMIVTL0      6434514         4704096         12,37,42
  LAMIVTLD      8214698         7932859         12,33,42
  LAPFICH       4040500         4046314         42
  LASET         6671014         6644420         27,42
 
 
 
Installation Instructions:
==========================
 
1. Using the KIDS
   From the Kernel Installation and Distribution Systems (KIDS)
   Menu, select the Installation Menu [XPD INSTALLATION MENU]:
   Select Installation Option: Load a Distribution
   Enter a Host File: LAB_Y2K.KID
 
   KIDS Distribution saved on Mar 23, 1998@13:22:30
   Comment: LR*5.2*203  LR*5.2*201  LA*5.2*42  Y2K Enhancements  3-23-98
 
   This Distribution contains Transport Globals for the following
   Package(s):
        LR*5.2*203
        LR*5.2*201
        LA*5.2*42
 
   Use INSTALL NAME: LR*5.2*203 to install this distribution
 
 
2. Review your mapped set.  If the routines are mapped, they should be
   removed from the mapped set at this time.
 
3. The patch has now been loaded into a Transport global on your system.
   You now need to use KIDS to install the Transport global.
 
4. On the KIDS menu, under the 'Installation' menu,
   use the following options:
       Print Transport Global
       Compare Transport Global to Current System
       Verify Checksums in Transport Global
       Backup a Transport Global
 
   **** It is strongly recommended to do a KIDS Backup ****
   ****         before installing the build.           ****
   ****     The PRINT, COMPARE and VERIFY functions    ****
   ****  should be performed for each of the patches   ****
   ****         included in this distribution.         ****
 
5. Primary Laboratory Options should be placed out of service
   and Laboratory Users should be off the system.
   Menu option Laboratory [LRMENU] or the local equivalent.
 
   Routine LAB for lab automated instruments interfaced thru
   a LSI should not be running.
 
   If site has direct-connected interfaces for lab automated
   instruments these should not be running.
 
   The HL7 background job (HLLP) for the Lab Universal Interface
   should be stopped.
 
   The routine LA7UIIN to process incoming HL7 messages should not
   be running. It will shutdown automatically after 5 minutes if
   no messages have been received.
 
   If using auto download, the routine LA7ADL should not be running.
   Use option Start/Stop Auto Download Background Job
   [LA7 ADL START/STOP].
 
6. Installation time is less than 10 minutes during off peak hours.
 
7. From the 'Installation Menu' of the KIDS menu, run the option
   'Install Package(s)' Select the package 'LR*5.2*203' and
   proceed with the install.
 
8. If any routines were unmapped as part of step 2, they should
   be returned to the mapped set once the installation has run
   to completion.
 
9. If installation is successful, delete routine LA42 and LR201.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;44 SEQ #30</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 This patch will prevent a null subscript error from occurring when using
 option LEDI Setup [LA7V SETUP] after the installation of the HL7 patch
 HL*1.6*14.
 
 1. Problem: A null subscript error was occurring at VER+3 in routine
             LA7VSTP because the software was not properly quitting when
             checking for the existence of an entry in HL7 MESSAGE TYPE
             file (#771.2).
 
   Solution: The code has been changed to use a FileMan DIC call to
             perform the lookup of an entry in this file.

 
 Associated NOIS
 ---------------
 BAY-0798-32112
 
 
 Routine Summary
 ---------------
 
  The following is a list of routines included in this patch. The second
  line of each routine now looks like:
 
 &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[patch list]**;Sep 27, 1994
 
                CHECK^XTSUMBLD Results
 
 Routine    Before Patch   After Patch    Patch List
 ------     ------------   -----------    ----------
 
 LA44          NA          2463527            44
 LA7VSTP    25404911       24725864          27,44
 
 
 INSTALLATION INSTRUCTIONS
 -------------------------
 The patch is distributed in KIDS format in a PackMan message.
 
 The install time for this patch is less than 2 minutes. This patch
 can be installed when Laboratory users are on the system.
 However the following conditions apply:
 
    -Users should not be using option LEDI Setup [LA7V SETUP].
     The LEDI Setup [LA7V SETUP] option will be placed out of service
     during this install.
 
 Patch installation needs to be coordinated with the Laboratory
 Information Manager (LIM/ADPAC).
 
 If the routine LA7VSTP is a mapped routine, appropriate action should be
 taken to disable the mapped routine at the beginning of the patch
 installation process and to insure proper updating of mapped routines
 afterward.  Also, if the routine LA7VSTP resides in multiple locations
 within the system configuration, all routine directories should be updated
 appropriately.
 
 NOTE: MailMan and KERNEL patches must be current on the target system to
       avoid problems loading and/or installing this patch.

 NOTE: This KIDS install places the option LEDI Setup [LA7V SETUP]
       out of service during the install. The option is not added or
       changed by this patch. If KIDS prompts:
 
       "Want KIDS to Rebuild Menu Trees Upon Completion of
        Install? YES// NO"
 
       The site can answer "NO" if they choose since the option
       is unchanged.
 
       Additionally, if performing the KIDS Compare option, KIDS will
       report that this option is being changed. This is a false
       message since the option is only being disabled during the
       install by KIDS. It is included in the KIDS build only for the
       purpose of being disabled during the install by KIDS.
 
 
 1.  If any of the above routines are mapped, disable mapping for them.
 
 2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
     option will load the KIDS patch onto your system.
 
 3.  The patch has now been loaded into a Transport global on your
     system.  You now need to use KIDS to install the transport global.
 
 4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
     select the 'Installation' menu.
 
 5.  Use the 'Verify Checksum in Transport Global' option and verify that
     all routines have the correct checksums.
 
 6.  If you wish to preserve a copy of the routines exported in this patch
     prior to installation, you should use the 'Backup a Transport Global'
     option at this time.  You may also compare the routine in your
     production account to the routine in the patch by using the 'Compare
     a Transport Global to Current System' option (see note above).
     These options can both be found under the 'Installation' menu.
 
 7.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'LA*5.2*44'.  When prompted 'Want to
     DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
     choose 'NO'. KIDS will disable the appropriate option during the
     install (see note above).
 
 8.  On a mapped system, rebuild your map set.
 
 9.  Routine LA44 can be deleted after successful patch installation.
 
 
 *****************************************************************************
 Below is an example of the dialogue seen during the KIDS install:
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:    LA*5.2*44        Loaded from Distribution  10/7/98@13:20
:18
     =&gt; LA*5.2*44
 
This Distribution was loaded on Oct 07, 1998@13:20:18 with header of
LA*5.2*44
It consisted of the following Install(s):
LA*5.2*44
 
   LA*5.2*44
Will first run the Environment Check Routine, LA44
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*44
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   VIRTUAL TERMINAL
 
 
 Install Started for LA*5.2*44 :
               Oct 07, 1998@13:20:32
 
 Installing Routines:
               Oct 07, 1998@13:20:33
 
 Running Pre-Install Routine: PRE^LA44
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
                                   LA*5.2*44
 
               Oct 07, 1998@13:20:33
 
 Running Post-Install Routine: POST^LA44
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LA*5.2*44 Installed.
               Oct 07, 1998@13:20:34.
 
 Install Message sent #103009
 
 
 
Install Completed
 
 
 
Select Installation Option:
  
 End of example
 *****************************************************************************
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;45 SEQ #31</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-12-14 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 This patch will address a fix to printing of Lab shipping manifests.

 Problem: The patient demographics were not printing under certain
          conditions on the manifest when a new page was started.
          If a new page is started because of a change in shipping
          condition or container and the last patient on the previous
          and current page are the same, the patient demographics would
          not print on the current page.
 
 Solution: When there is a change in shipping condition or container then
           force the printing of the patient demographics.
 
 
 
 
  Associated NOIS
  --------------
 
  TOG-0898-12117
  WRJ-0998-10878 
  
  Test Sites
  ----------
 
  Milwaukee VAMC
  Togus VAMC
  White River Junction VAMC
 
 ----------------------------
 
 ROUTINE SUMMARY
 ---------------
 
  The following is a list of routines included in this patch. The second
  line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[patch list]**; Sep 27, 1994
 
                   CHECK^XTSUMBLD results
 
    Routine Name   Before Patch   After Patch    Patch List
    ------------   ------------   -----------   --------------
    LA45              N/A          2463531           45
    LA7SMP          15780871       15792287         27,45
 
 INSTALLATION INSTRUCTIONS
 -------------------------
 The install time for this patch is less than 2 minutes if menus are not
 rebuilt. If menus are rebuilt then install time on a heavily used system
 will be approximately 25 minutes. This patch can be installed when
 Laboratory users are on the system.

 However the following conditions apply:
 
    - Printing of a Laboratory shipping manifest should not be occurring.
      The option Print Shipping Manifest [LA7S MANIFEST PRINT] will be
      disabled during the install by the KIDS build.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 NOTE: MailMan and KERNEL patches must be current on the target system to
       avoid problems loading and/or installing this patch.
 
 
 
 1.  If any of the above routines are mapped, disable mapping for them.
 
 2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
     option will load the KIDS patch onto your system.
 
 3.  The patch has now been loaded into a Transport global on your
     system.  You now need to use KIDS to install the transport global.
 
 4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
     select the 'Installation' menu.
 
 5.  Use the 'Verify Checksum in Transport Global' option and verify that
     all routines have the correct checksums.
 
 6.  If you wish to preserve a copy of the routines exported in this patch
     prior to installation, you should use the 'Backup a Transport Global'
     option at this time.  You may also compare the routine in your
     production account to the routine in the patch by using the 'Compare
     a Transport Global to Current System' option.  These options can
     both be found under the 'Installation' menu.
 
 7.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'LA*5.2*45'.  When prompted 'Want to
     DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
     choose 'NO'.
 
 8.  On a mapped system, rebuild your map set.
 
 9.  Routine LA45 can be deleted after successful patch installation.
 
 
 *****************************************************************************
 Below is an example of the dialogue seen during the KIDS install:
 
 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:    LA*5.2*45        Loaded from Distribution  10/16/98@13:0
0:43
     =&gt; LA*5.2*45
 
This Distribution was loaded on Oct 16, 1998@13:00:43 with header of
LA*5.2*45
It consisted of the following Install(s):
LA*5.2*45
 
   LA*5.2*45
Will first run the Environment Check Routine, LA45
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*45
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//
 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET VIRTUAL
 
 
 Install Started for LA*5.2*45 :
               Oct 16, 1998@13:03:28
 
 Installing Routines:
               Oct 16, 1998@13:03:28
 
 Running Pre-Install Routine: PRE^LA45
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Oct 16, 1998@13:03:29
 
 Running Post-Install Routine: POST^LA45
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LA*5.2*45 Installed.
               Oct 16, 1998@13:03:30.
 
 Install Message sent #11240689
 
Starting Menu Rebuild:  Oct 16, 1998@13:03:30
 
Collecting primary menus in the New Person file...
 
                    Primary menus found in the New Person file
                    ------------------------------------------
 
OPTION NAME         MENU TEXT                    # OF         LAST     LAST
                                                 USERS        USED     BUILT
 
XMUSER              MailMan Menu                 293        10/16/98   10/16/98
XUPROG              Programmer Options           2          02/19/97   10/16/98

   &lt;******* items removed for brevity *******&gt;

DVBA VARO REMOTE    VA Regional Office Remote... 250        10/16/98   10/16/98
 
Building secondary menu trees....
 
Menu Rebuild Complete:  Oct 16, 1998@13:27:04
 
 
 
Install Completed
 
 
 
Select Installation Option:

 End of install example
 *****************************************************************************
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;48 SEQ #32</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-05-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Fixes Date problems occurring after installation of Vitek's Y2K software. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;47 SEQ #33</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-07-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch LA*5.2*47 VISTA BLOOD BANK SOFTWARE V5.2 
DEVICE PRODUCT LABELING STATEMENT
 
May 10, 1999
 
VISTA Laboratory Package patch LA*5.2*47 contains no changes to software
controlled by VHA DIRECTIVE 97-033, titled VISTA BLOOD BANK SOFTWARE
VERSION 5.2.
 
All changes have been reviewed by the VISTA Blood Bank Developer and found
to have no impact on the VISTA BLOOD BANK SOFTWARE version 5.2 control
functions.
 
RISK ANALYSIS: Changes made by patch LA*5.2*47 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*47 does not
alter or modify any software design safeguards or safety critical element
functions.
 
POTENTIAL IMPACT ON SITES: This patch contains no changes to files and
routines identified in Veterans Health Administration (VHA) Directive
97-033. The changes that are made have no effect to Blood Bank
functionality or medical device control functions. There is no adverse
potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: There are no required validation
scenarios to be completed by sites after installing this patch.
 
========================================
 
Patch Description: 
This is the companion patch for LR*5.2*221. Full description of ALL
enhancements are given in LR*5.2*221.  
  
This patch support the ability to purge Automated Instrument data based on
 
date range or inactivity range. This enhancement is to support Laboratory 
Electronic Data Interchange (LEDI) sites ability to purge automated
instrument data based on user's supplied parameters.  
 
The functionality of this patch is coupled with the features and function
of patch LR*5.2*221. LA*5.2*47 is required for LR*5.2*221 installation.
The functionality of the patch is expressed after patch LR*5.2*221 has
been installed.
 
ONLY THE ROUTINE 'LAGEN' IS CONTAINED IN THIS PATCH. All other LR*
associated name spaced routines and options are contained in LR*5.2*221.
The following options are transported and installed by LR*5.2*221.
 
The 'Clear instrument/worklist data' [LRINSTCLR] option has been enhanced.
The changes to this option implements selective clearing of instrument
data from the ^LAH global. When entries are made in the ^LAH global to
store instrument data pending verification, the date/time stamp of
creation and result updating is now recorded. This date will be used to
selectively remove data from the ^LAH global based on the date original
result was received or last updated.
    If during the clearing process an entry in ^LAH global is found with
no date/time in the creation/update field, the current date/time is
entered into the entry. This entry is then eligible for clearing the next
time the option is ran.
 
 
 The 'Clear instrument/worklist data' option will allow clearing by either
of the following ways. Data received before the selected date (optional
time) is purged. If you enter a date only then data received before that
date is cleared. If you enter a date/time then data received before that
date/time is cleared.
 
 Example:
If you enter Sept 4, 1998 then data received through Sept 3, 1998 is
cleared. If you enter Sept 4, 1998 @1200 then data through Sept 4, 1998 is
cleared.
 
 The following routines support purge enhancement:
   LAGEN [LA*5.2*47]- Changes were made to set date/time of entry creation
and last update. Last update can be different than creation date if data
is retransmitted (overlay data = yes) or additional results received.
 
   LRLLS [LR*5.2*221]- Clear instrument data option that does actual
clearing based on user's parameters. User can purge by date/time or
blanket purge when using Clear instrument/worklist data [LRINSTCLR]
option.
 
   LRVR1 [LR*5.2*221]-  Verifying routine with changes to setup date/time
information when manual data entry is used during Enter/Verify Automated
Instrument [LRVR] option.
 
   LRVRW [LR*5.2*221]-  Verifying routine with changes to setup date/time
information when load/work list data entry is used during the Enter/verify
data (Work list) [LRVRW] option.
 
 
 
Installation Instructions:
==========================
 
Required Patch Installation List:
LA*5.2*27
 
This patch is compatible with OERR 2.5 and both versions of CPRS ,GUI and
List Manager.
 
         1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan 
         menu. This option will load the KIDS package onto your system.
         2. Review your mapped set.  If the routines are mapped,
         they should be removed from the mapped set at this time.
         3. The patch has now been loaded into a Transport global 
         on your system. You now need to use KIDS to install the 
         Transport global.
         
         On the KIDS menu, under the 'Installation' menu, use the
         following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         4. Users may remain on the system, but installation 
            should be done during off peak hours and when the Laboratory 
            computer users are idle.
         5. No options need to be placed out of service.
         6. Installation time is less than 2 minutes during off 
            peak hours, and less than 5 minutes during peak hours
            which is NOT RECOMMENDED.
         7. Installation of this patch does not require any additional 
            memory space.
         8. From the 'Installation Menu' of the KIDS menu, run the 
            option 'Install Package(s)'. Select the package 
            'LA*5.2*47' and proceed with the install.
         9. If any routines were unmapped as part of step 2, they 
            should be returned to the mapped set once the 
            installation has run to completion.
 
======================
Test Sites:
 
Long Beach, CA
Milwaukee, WI
Loma Linda, CA
North Chicago, IL
West Palm Beach, FL
=====================
 
DD Changes:
None
=====================
 
Routine Listing:
The second line of the routine now looks like:
&lt;TAB&gt;  ;;5.2;AUTOMATED LAB INSTRUMENTS;**[Patch List]**;Sep 27, 1994
 
Routines:        Before       After           Patch
                 Check        Check           List
LA47             N/A          2222265         47
LAGEN           8395369       9445120      1,17,22,27,47
 
===================
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;51 SEQ #34</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-04-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*51 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
 
NOTE: PATCH HL*1.6*57 MUST BE INSTALLED PRIOR TO INSTALLATION OF THIS PATCH.
      LA*5.2*51 SHOULD BE INSTALLED IMMEDIATELY FOLLOWING INSTALLATION OF
      PATCH HL*1.6*57 TO AVOID INTERRUPTION OF LABORATORY ELECTRONIC DATA
      INTERCHANGE (LEDI) HL7 MESSAGE TRANSMISSION.
  
 
With the release of patch HL*1.6*57 several changes need to be made to the
Lab LEDI Setup [LA7V SETUP] option. Patch LA*5.2*51 will make the following
changes to allow Lab LEDI HL7 interfaces to continue to function.
 
 1. The patch removes references to HL LOWER LEVEL PROTOCOL PARAMETER file
    (#869.2) by the LEDI Setup [LA7V SETUP] option.
  
 2. The post-install deletes entries with the LA7V* namespace from the
    HL LOWER LEVEL PROTOCOL PARAMETER file (#869.2). This file is no longer
    used by the Health Level Seven (HL) software to store communication
    parameters. This data has been moved to the HL LOGICAL LINK file (#870)
    by patch HL*1.6*57.
 
 3. The post-install changes the name of protocol LA7V Order from xxx to
    LA7V Order to xxx in the PROTOCOL file (#101), where xxx is the VA
    station number that an order message (ORM) is being sent to.
    The protocol was incorrectly named which could be confusing.
 
 4. The post-install deletes protocols that were previously setup by the
    LEDI Setup option but which are presently not being used.
    If protocols are found with the following names they will be deleted:
     LA7V Query Response to xxx
     LA7V Query for Results from xxx
     LA7V Receive Query from xxx
     LA7V Send Query to xxx
     LA7V Send Response to xxx
     LA7V Order Response to xxx
     (where xxx is the VA station number)
 
 5. The post-install converts and updates existing LA7V* protocols to
    conform to the new rules introduced by patch HL*1.6*57.
 
 6. The patch changes the LEDI Setup option to create protocols based on
    the rules implemented with patch HL*1.6*57.
 
 
 
ASSOCIATED NOIS
---------------
  DUB-0300-30697 
  MUS-0200-71248
  PRE-0200-61136
 
 
TEST SITES
----------
  Battle Creek VAMC
  Dublin VAMC
  Indianapolis VAMC
  Milwaukee VAMC
  Muskogee VAMC
  Prescott VAMC
  West Palm Beach VAMC
 
 
ROUTINE SUMMARY
===============
 
  The following is a list of routines included in this patch.
  The second line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[Patch List]**;Sep 27, 1994
 
                    CHECK^XTSUMBLD results
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA51             N/A            16393090       **51**
   LA7VLL           14468424       4967061        **27,51**
   LA7VORM1         20938223       20868841       **27,51**
   LA7VSET          29695063       19562009       **27,51**
   LA7VSET1         19867155       12823333       **27,51**
   LA7VSTP          24725864       6154318        **27,44,51**
 
   
    
************************************************************************ 
 
Installation Instructions
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed with Laboratory users on the system. Recommend
  that the patch be installed during a period of minimum Laboratory
  package activity.
 
  However, the following conditions apply:
 
     - All Lab LEDI (LA7V*) related HL v1.6 LLPs should be shutdown.
       These LLPs are name spaced LA7V* when viewed in the HL package
       Systems Link Monitor [HL MESSAGE MONITOR] option.
 
 
NOTE: Kernel, MailMan and HL patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  Perform the following step if applicable:
 
      All Lab LEDI (LA7V*) related HL v1.6 LLPs should be shutdown.
      Use Start/Stop Links [HL START] option to shutdown these LLPs if
      they are running.
   
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*51'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'YES'.
 
      Disable the LEDI Setup [LA7V LEDI] option by having KIDS mark the
      option 'Out Of Order'.
 
  9.  On a mapped system, rebuild your map set.
 
 10.  Routine LA51 will be deleted after successful patch installation.


Post-Installation Instructions:
 
  
1. Restart any LA7V* LLPs that were shutdown before patch installation.
   Use Start/Stop Links [HL START] option.
 
 

************************************************************************ 
 
Installation example: 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:    LA*5.2*51     Loaded from Distribution  3/3/00@14:53:29
     =&gt; LA*5.2*51
 
This Distribution was loaded on Mar 03, 2000@14:53:29 with header of
   LA*5.2*51
   It consisted of the following Install(s):
      LA*5.2*51
Checking Install for Package LA*5.2*51
Will first run the Environment Check Routine, LA51
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*51
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//
 
Enter options you wish to mark as 'Out Of Order': LA7V SETUP       LEDI Setup
 
Enter options you wish to mark as 'Out Of Order':
 
Enter protocols you wish to mark as 'Out Of Order':
 
Delay Install (Minutes):  (0-60): 0//
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET VIRTUAL
 
 
 Install Started for LA*5.2*51 :
               Mar 03, 2000@15:18:43
 
Build Distribution Date: Mar 03, 2000
 
 Installing Routines:
               Mar 03, 2000@15:18:44
 
 Running Pre-Install Routine: PRE^LA51
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Mar 03, 2000@15:18:46
 
 Running Post-Install Routine: POST^LA51
 
                          *** Post install started ***
 
                      *** Checking PROTOCOL file #101 ***
 
         ***  for incorrectly named protocols LA7V Order from XXX. ***
 
         *** Changing these to LA7V Order to XXX when appropriate. ***
 
                  *** Also deleting unused LA7V protocols. ***
 
                --- Updated 53 entries in PROTOCOL file #101 ---
 
         *** Checking HL LOWER LEVEL PROTOCOL PARAMETER file #869.2 ***
 
              ***  for LA7V* entries that are no longer used. ***
 
  --- Deleted 9 entries in HL LOWER LEVEL PROTOCOL PARAMETER file #869.2 ---
 
            *** Converting and updating existing LA7V* protocols ***
 
  Updating/converting protocol LA7V Order to 535
 
  Updating/converting protocol LA7V Order to 578
 
  Updating/converting protocol LA7V Order to 607
 
  Updating/converting protocol LA7V Process Order from 535
 
  Updating/converting protocol LA7V Process Order from 556
 
  Updating/converting protocol LA7V Process Order from 578
 
  Updating/converting protocol LA7V Process Order from 585
 
  Updating/converting protocol LA7V Process Order from 607
 
  Updating/converting protocol LA7V Process Order from 676
 
  Updating/converting protocol LA7V Process Order from 695BY
 
  Updating/converting protocol LA7V Process Results from 535
 
  Updating/converting protocol LA7V Process Results from 578
 
  Updating/converting protocol LA7V Process Results from 607
 
  Updating/converting protocol LA7V Receive Order from 556
 
  Updating/converting protocol LA7V Receive Order from 578
 
  Updating/converting protocol LA7V Receive Order from 585
 
  Updating/converting protocol LA7V Receive Order from 607
 
  Updating/converting protocol LA7V Receive Order from 676
 
  Updating/converting protocol LA7V Receive Order from 695BY
 
  Updating/converting protocol LA7V Receive Results from 535
 
  Updating/converting protocol LA7V Receive Results from 578
 
  Updating/converting protocol LA7V Receive Results from 607
 
  Updating/converting protocol LA7V Results Reporting to 556
 
  Updating/converting protocol LA7V Results Reporting to 578
 
  Updating/converting protocol LA7V Results Reporting to 585
 
  Updating/converting protocol LA7V Results Reporting to 607
 
  Updating/converting protocol LA7V Results Reporting to 676
 
  Updating/converting protocol LA7V Results Reporting to 695BY
 
  Updating/converting protocol LA7V Send Order to 535
 
  Updating/converting protocol LA7V Send Order to 578
 
  Updating/converting protocol LA7V Send Order to 607
 
  Updating/converting protocol LA7V Send Results to 535
 
  Updating/converting protocol LA7V Send Results to 556
 
  Updating/converting protocol LA7V Send Results to 578
 
  Updating/converting protocol LA7V Send Results to 585
 
  Updating/converting protocol LA7V Send Results to 607
 
  Updating/converting protocol LA7V Send Results to 676
 
  Updating/converting protocol LA7V Send Results to 695BY
 
   --- Converted and updated 38 LA7V* entries in PROTOCOL file #101 ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LA*5.2*51 Installed.
               Mar 03, 2000@15:18:53
 
 Install Message sent #18145
 
 
 
Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;50 SEQ #35</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-04-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*50 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
  
DESCRIPTION
===========

When the Lab LEDI software needs to build a HL7 message to return lab 
test results (ORU) to the collecting facility, the message building could
fail at the host laboratory facility causing the collecting facility not
to receive a result message. This problem occurs when the host lab's entry
for the collecting facility in the INSTITUTION file (#4) has an internal
entry number which is different from the VA Station Number. The software
is assuming that the station number and the internal entry are the same.
 
Routine LA7VMSG has been changed to retrieve the VA Station Number from
the INSTITUTION file for the collecting facility's entry when the station
number is used in building the result (ORU) message.
 
 

ASSOCIATED NOIS
---------------
 WPB-1199-31232
 
 
TEST SITES
----------
  West Palm Beach VAMC
  Miami VAMC
 
 
ROUTINE SUMMARY
===============
 
  The following is a list of routines included in this patch.
  The second line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[Patch List]**;Sep 27, 1994
 
                    CHECK^XTSUMBLD results
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA50             N/A            4543400        **50**
   LA7VMSG          22591788       22442510       **27,50**
    
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
  However the following conditions apply:
 
     - All Laboratory test verification should be suspended. The install
       will disable lab verifying options during installation.
 
 
NOTE: Kernel, MailMan and HL7 patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
    
  7.  The install will disable the following Lab verifying options during
      patch installation.
 
      Enter/verify data (auto instrument) [LRVR]
      Enter/verify data (Work list) [LRVRW]
      Enter/verify data (Load list) [LRVRW2]
      Batch data entry (chem, hem, tox, etc.) [LRSTUF]
      Group verify (EA, EL, EW) [LRGV]
  
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*50'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LA50 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS: NONE
 
 
 
 
************************************************************************
Installation example:

Select INSTALL NAME: LA*5.2*50 Loaded from Distribution  1/31/00@15:21:58
     =&gt; LA*5.2*50                                                
                                                                                
This Distribution was loaded on Jan 31, 2000@15:21:58 with header of            
   LA*5.2*50                                                     
   It consisted of the following Install(s):                                    
      LA*5.2*50                                                                 
Checking Install for Package LA*5.2*50                                          
Will first run the Environment Check Routine, LA50                              
                                                                                
                                                                                
                        --- Environment Check is Ok ---                         
                                                                                
Install Questions for LA*5.2*50                                                 
                                                                                
                                                                                
Want KIDS to Rebuild Menu Trees Upon Completion of Install? NO//                
                                                                                
                                                                                
Want KIDS to INHIBIT LOGONs during the install? YES// NO 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO        
                                                                                
 Install Started for LA*5.2*50 :                                                
               Jan 31, 2000@15:25:13                                            
                                                                                
Build Distribution Date: Jan 31, 2000                                           
                                                                                
 Installing Routines:                                                           
               Jan 31, 2000@15:25:14                                            
                                                                                
 Running Pre-Install Routine: PRE^LA50                                          
                                                                                
               Sending install started alert to mail group G.LMI                
                                                                                
                          *** Pre install started ***                           
                                                                                
                  --- No actions required for pre install ---                   
                                                                                
                         *** Pre install completed ***                          
                                                                                
 Installing PACKAGE COMPONENTS:                                                 
                                                                                
 Installing OPTION                                                              
               Jan 31, 2000@15:25:14                                            
                                                                                
 Running Post-Install Routine: POST^LA50                                        
                                                                                
                          *** Post install started ***                          
                                                                                
                  --- No actions required for post install ---                  
                                                                                
                         *** Post install completed ***                         
                                                                                
              Sending install completion alert to mail group G.LMI              
                                                                                
 Updating Routine file...                                                       
                                                                                
 Updating KIDS files...                                                         
                                                                                
 LA*5.2*50 Installed.                                                           
               Jan 31, 2000@15:25:16                                            
                                                                                
                                                                                
                                                                                
Install Completed                                                               
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;53 SEQ #36</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-05-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch to the Laboratory package does not contain any changes to the
VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 99-053 titled VISTA
BLOOD BANK SOFTWARE.
 
This patch will install the CareVue interface package under the Namespace
LA7D as a Class I national patch.
 
1. Problem: Current CareVue interface is Class III software.
 
   Solution: The code has been validated, brought up to national
             standard and released as a Class I national patch.
 
This patch REQUIRES that patch LR*5.2*254 be installed in order for the
CareVue interface to work properly.
 
An interface engine must exist to connect CareVue (or other clinical
system) and Vista using TCP/IP and HL7 messages.  Three possible contacts
for this interface engine are STC, Inc. MSI Solutions Inc. and Agilent
Technologies.
 
STC, Inc. can be contacted at:
      Richard Garcia
      voice: 626.471.6000 x6755
      fax:   626.471.6104
      email: rmg@stc.com
 
MSI Solutions, Inc. can be contacted at:
      Bob Kelliher
      voice: 678.256.4505
      fax:   678.256.4677
      email: bob.kelliher@msi-solutions.com
 
Agilent Technologies can be contacted at:
      Linda Vanderhulst
      voice: 847.342.2521
      email: linda_vanderhulst@agilent.com
 
About this software:
====================
1.  An option to enter/delete supported wards for the FOREIGN 
    INTERFACE file (#62.487) is exported with this version of the patch.
 
    **NOTE** 
       All wards in the hospital location file (#44) that will be
       used for the CareVue interface must have a UNIQUE abbreviation for
       each ward (Inactive and Active)
 
2.  Resulting from this installation, the entries DHCP CARELIFE and
    MRTS CARELIFE will automatically be added to the HL7 APPLICATION 
    PARAMETER file (#771).  These entries will be used to send HL7
    messages to the CareVue system.  These parameters also need to be
    edited to enter your facility name.
 
3.  The following file is included in this release.  It is in the LA7D
    namespace, also listed in the main installation procedure:
 
            File #62.487 File name FOREIGN INTERFACE
 
4.  The following mail group will be automatically added to the MAIL
    GROUP file (#3.8) during this installation:  CARELIFE RESULT ERROR
 
5.  This installation automatically adds the two new protocols to the
    PROTOCOL file (#101).  They are:  LA7D CARELIFE RESULTS
                                      LA7D CARELIFE SERVER
 
6.  Sites will need to set up a Logical Link for HL7 parameters.
 
7.  The routines exported with this release, listed in the Routines 
    section of this document, are customized to send verified 
    Laboratory data to CareVue for all patients located on a CareVue 
    ward.
 
     
 Associated NOIS
 ===============
 None
 
 Test Sites
 =============== 
 Philadelphia, PA
 Martinsburg, WVA
 
 ROUTINE SUMMARY
 =================
 The following is a list of routines included in this patch. The second
 line of each routine now looks like:
 
 &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
 
                 CHECK^XTSUMBLD Results
  Routine Name    Before Patch      After Patch    Patch List
  ------------    ------------      -----------    ------------
  LA7DVC                NEW             7338732          53
  LA7DVEXT              NEW             5483063          53
  LA7DVM                NEW             6983644          53
  LA7DEDT               NEW             3756680          53
 
 
CareVue installation manuals
============================
VAMC's are encouraged to use their FTP capability to obtain the
Documentation PDF files from one of the following OI Field Office's
ANONYMOUS directories.  
 
    OI FIELD OFFICE       FTP ADDRESS             DIRECTORY
    ===============       ===========             ==========
     HINES               152.129.1.110      [ANONYMOUS.SOFTWARE]
     SALT LAKE CITY      152.131.2.1        [ANONYMOUS.SOFTWARE]
     ALBANY              152.127.1.5        [ANONYMOUS.SOFTWARE]
 
 File names are:                                                  
 
 BINARY FILES
  LA7DIG.PDF  -- CareVue Installation Guide
  LA7DIS.PDF  -- CareVue Interface Specifications
  LA7DTP.PDF  -- CareVue Interface Test Plan
 
The CareVue interface utilizes VISTA'S Laboratory Test Result system to
send Observation Request Unsolicited (ORU) messages to the CareVue system.
The interface messages are based on ward location and passed to an
interface engine.  When Lab results are verified and the requesting ward
is identified as having a supported entry in the new CareVue Foreign
Interface file #62.487, the lab results are forwarded, via HL7, to the
interface engine and then on to the CareVue Clinical Information
Management System.
 
Each facility will need to refer to the CareVue Interface Specifications
manual LA7DIS.PDF as noted above for further requirements regarding
interface engines.
 
INSTALLATION INSTRUCTIONS
==========================
The patch is distributed in KIDS format in a PackMan message.
It is recommended that this patch be installed in a test environment first
before installing into production.  Each environment (test and production)
uses a separate database and a separate integration interface.  Because of
this the data that is communicated from VistA may not always be consistent
with the data that will be communicated from the production environment.
Another impact is that patient data may have to be manually entered into
the VistA test environment in order to test the proper handling of
messages going to VistA.
 
The install time for this patch is less than 2 minutes. This patch can be
installed when Laboratory users are on the system.
 
1.    All routines installed with this patch are new to the system and 
      mapping is not recommended.
 
2.    Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.      
      This option will load the KIDS patch onto your system.
 
3.    The patch has now been loaded into a Transport global on your   
      system. You now need to use KIDS to install the transport 
      global.
 
       On the KIDS menu, under the 'Installation' menu, use the
       following options:
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Backup a Transport Global
 
4.    Use the 'Install Package(s)' option under the 'Installation' men
      and select the package 'LA*5.2*53'.  When prompted 'Want to 
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',  
      choose 'NO'.
 
5.    At the DEVICE prompt, you can send your output to any printer of
      HFS file, display it on the terminal screen, or queue it to run 
      at a scheduled time.
 
6.    No options need to be placed out of service.
 
7.    This installation automatically adds the two new protocols to 
      the PROTOCOL file (#101). They are:  LA7D CARELIFE RESULTS
                                           LA7D CARELIFE SERVER
 
8.    User will need to enter your facility name in the HL7 
      APPPLICATION PARAMETER file (#771).
 
NOTE:  Fields marked with  &lt;-- below need to have information entered.
 
Select OPTION: ENTER OR EDIT FILE ENTRIES  &lt;--  
INPUT TO WHAT FILE: FOREIGN INTERFACE// HL7 APPLICATION PARAMETER &lt;--  
                                          (34 entries)
EDIT WHICH FIELD: ALL// FACILITY NAME  &lt;--  
THEN EDIT FIELD: &lt;RET&gt;
Select HL7 APPLICATION PARAMETER NAME: DHCP CARELIFE        ACTIVE &lt;--
FACILITY NAME: 428// 428      enter your facility name here        &lt;--
Select HL7 APPLICATION PARAMETER NAME: MRTS CARELIFE        ACTIVE &lt;--
FACILITY NAME: 642// 428     enter your facility name here         &lt;--
Select HL7 APPLICATION PARAMETER NAME: &lt;RET&gt;
 
9.    The new mail group CARELIFE RESULT ERROR was created as part of 
      the installation.  However the entry in the MAIL GROUP file (3.8)
      is only a stub and requires the site to perform the following edit:
 
NOTE:  Fields marked with &lt;--  below need to have information entered.
 
Select MAIL GROUP NAME: CARELIFE RESULT ERROR  &lt;--  
NAME: CARELIFE RESULT ERROR  Replace 
Select MEMBER: CROSS,PAM                 &lt;--
  Are you adding 'CROSS,PAM' as a new MEMBER (the 1ST for this MAIL
GROUP)
? No// Y (Yes)                                 &lt;--
  TYPE: 
Select MEMBER: &lt;RET&gt;
DESCRIPTION:
  No existing text
  Edit? NO//  YES                              &lt;--
  All error report for CAREVUE ORU Messages    &lt;--
 
TYPE: public// PUBLIC                          &lt;--
ORGANIZER: CROSS,PAM                     &lt;--
COORDINATOR: CROSS,PAM                   &lt;--
Select AUTHORIZED SENDER: 
ALLOW SELF ENROLLMENT?: NO//  NO               &lt;--
REFERENCE COUNT: &lt;RET&gt;
LAST REFERENCED:  &lt;RET&gt;
RESTRICTIONS: INDIV/LOCAL/ORGANIZER// &lt;RET&gt;
Select MEMBER GROUP NAME: &lt;RET&gt;
Select REMOTE MEMBER: &lt;RET&gt;
Select DISTRIBUTION LIST: &lt;RET&gt;
Select FAX RECIPIENT: &lt;RET&gt;
Select FAX GROUP: &lt;RET&gt;
 
Select MAIL GROUP NAME: &lt;RET&gt;
 
10.     The FOREIGN INTERFACE file (#62.487) was put on the system during
        the installation process but it does not contain any data.  You
        must enter your site's data concerning your CareVue wards.  This
        option will need to be added to users secondary menus under the
        namespace LA7D.
 
NOTE:  Fields marked with &lt;-- below need to have information entered.
 
Select MailMan Menu Option: Edit Foreign Interface Parameters   
Enter BEDSIDE MONITOR INTERFACE NAME: CAREVUE &lt;--   
Enter CAREVUE WARD: ICU         &lt;--      enter your CareVue wards here
Enter CAREVUE WARD: ADMISSIONS  &lt;-- 
Enter CAREVUE WARD: ^
 
   **NOTE** 
       All wards in the hospital location file (#44) that will be
       used for the CareVue interface must have a UNIQUE abbreviation for
       each ward (Inactive and Active)
 
11.     Set up Logical Link for HL7 parameters.  This will need to contain
        the outgoing device name used from VistA to the interface engine.
        Sites should ensure that entries corresponding to their unique
        system requirements be input at the recommended places.
 
NOTE:  Fields marked with &lt;-- below need to have information entered.
 
Select Systems Manager Menu Option:  HL7 Main Menu
 
Select HL7 Main Menu Option:  V1.6 OPTIONS
 
Slect V1.6 OPTIONS Option:  Interface Workbench
At the bottom of the screen you will see:
 
Select Tool: Jump to Next App// SL   Show Logical Links
Select Tool: Jump to Next Link// CL  Create Logical Link
 
Select HL LOGICAL LINK NODE:  VOICE1   &lt;--
 
Logical Link information
------------------------
Queue Size:  245             &lt;--
LLP Parameter:  HLLP         &lt;--
 
LLP Parameters
--------------
LLP Type:  HLLP              &lt;--
Device: OG_LAB_PROD          &lt;--  this will be your device name
Version ID: 2.3              &lt;--
Block Size: 245              &lt;--
Read Timeout: 30             &lt;--
ACK Timeout: 2               &lt;--
Re-transmission Attempts: 3  &lt;--
Start Block Character: &lt;RET&gt;
End Block Character: &lt;RET&gt;
 
Select Tool: Jump to Next Link// ^
 
NOTE:  Add the Logical Link just created to the LA7D CARELIFE
       RESULTS protocol.
 
NOTE:  Fields marked with &lt;-- below need to have information entered.
 
Select OPTION: ENTER OR EDIT FILE ENTRIES  
 
INPUT TO WHAT FILE: PROTOCOL// PROTOCOL  &lt;--  (3569 entries)
EDIT WHICH FIELD: ALL// NAME             &lt;--
THEN EDIT FIELD: LOGICAL LINK            &lt;--
THEN EDIT FIELD: 
 
Select PROTOCOL NAME: LA7D CARELIFE RESULTS &lt;--
     This client is tied to the MRTS CARELIFE entry
NAME: LA7D CARELIFE RESULTS  Replace &lt;RET&gt;
LOGICAL LINK: OG_LAB_PROD    &lt;--  Enter your Logical Link that was set up
 
12.     Follow the Interface Specifications Manual LA7DIS.PDF for
        interface engine requirements.
 
13.     Follow the CareVue Test Plan Manual LA7DTP.PDF to test the CareVue
        package.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;55 SEQ #37</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-07-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*55 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
 
DESCRIPTION
===========
 
The LEDI Setup option [LA7V SETUP] fails to add the member S.HL V16
SERVER@remote mail domain to the mail group used to transmit HL7 messages
via the MailMan transmission protocol. This occurs when the entry in the
INSTITUTION file (#4) has an internal entry number which is different
from the VA Station Number. The software is assuming that the station
number and the internal entry are the same.
 
Routines LA7VLL, LA7VSET, and LA7VSET1 have been changed to use the
internal entry number from the INSTITUTION file when retrieving the DOMAIN
field from the INSTITUTION file.
 
The patch also corrects the misspelling of the word "transmissions" in 
routines LA7VSET and LA7VSET1.
 
 
ASSOCIATED NOIS
---------------
 CHA-0300-32805 
 
TEST SITES
----------
 
 Charleston VAMC 
 
 
ROUTINE SUMMARY
===============
 
  The following is a list of routines included in this patch.
  The second line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[Patch List]**;Sep 27, 1994
 
                    CHECK^XTSUMBLD results
  
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA55             N/A            4557897        **55**(deleted by KIDS)
   LA7VLL           4967061        5170411        **27,51,55**
   LA7VSET          19562009       19500034       **27,51,55**
   LA7VSET1         12823333       12858976       **27,51,55**
 

 
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
  However the following conditions apply:
 
     - The install will disable LEDI Setup option during installation.
 
 
NOTE: Kernel and MailMan patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab verifying options during
      patch installation.
 
      LEDI Setup [LA7V SETUP]
 
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*55'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LA55 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS: NONE
 
 
 
 
************************************************************************
Installation example: 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LA*5.2*55  Loaded from Distribution  4/13/00@10:16:44
     =&gt; LA*5.2*55
 
This Distribution was loaded on Apr 13, 2000@10:16:44 with header of
   LA*5.2*55
   It consisted of the following Install(s):
      LA*5.2*55
Checking Install for Package LA*5.2*55
Will first run the Environment Check Routine, LA55
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*55
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET VIRTUAL
 
 
 Install Started for LA*5.2*55 :
               Apr 13, 2000@10:17:32
 
Build Distribution Date: Apr 13, 2000
 
 Installing Routines:
               Apr 13, 2000@10:17:32
 
 Running Pre-Install Routine: PRE^LA55
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Apr 13, 2000@10:17:32
 
                                   LA*5.2*55
 
 Running Post-Install Routine: POST^LA55
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LA*5.2*55 Installed.
               Apr 13, 2000@10:17:34
 
 Install Message sent #21510
 
 
Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;56 SEQ #38</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-08-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*56 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
 
DESCRIPTION
===========
 
1. When the Lab LEDI software needs to build a HL7 message to return lab
test results (ORU) to the collecting facility, the message building could
fail at the host laboratory facility with the error undefined variable
LA("I") in routine PID+4^LA7VORU causing the collecting facility not
to receive a result message. This problem occurs when the host lab's entry
for the collecting facility in the INSTITUTION file (#4) has an internal
entry number which is different from the VA Station Number and the 
collecting facility is a division of an integrated facility. The software
is attempting to return the results to the collecting facility instead of
the primary facility's computer system. If no associated HL7 protocol was
identified message building was continuing with the HL7 and Lab environment
not properly initialized. The software would error when it referenced 
variable LA("I") that was not defined during this initialization.
 
Routine LA7VMSG has been changed to retrieve the VA Station Number from
the INSTITUTION file for an integrated collecting facility's primary
system entry when the station number is used in building the result (ORU)
message.
  
2. Routine LA7VMSG has been changed to determine if a link back to the 
integrated facility's primary system does not exist. If a link does not
exist, the results are returned via the collecting facility.
 
3. Routine LA7VMSG has been split into two routines (LA7VMSG and LA7VMSG1)
because it exceeded the maximum routine size of 10k as specified by the SAC. 
 
4. Recording of an error condition in the Lab Messaging Error Log has been 
added when the software is unable to find the appropriate entry in the
PROTOCOL file (#101) to use in building the HL7 message. This can occur
when no entry is found in the PROTOCOL file or the HL7 package is unable to
initialize the HL7 message environment for message building. The error that
will be recorded is #28 in LA7 MESSAGE LOG BULLETINS file (#62.485).
The error text will be:
  Msg # |1| encountered the following HL7 generation error: |2|.

   where |1| is the LA7 MESSAGE QUEUE file (#62.49) entry number
         |2| is the conditions:
             1. Invalid/undefined protocol xxx
             2. Call to INIT^HLFNC2 failed for protocol xxx
             xxx - being the name of the protocol in the PROTOCOL file.
 
 

ASSOCIATED NOIS
---------------
 CON-0400-10572
 
 
TEST SITES
----------
  Connecticut HCS
  Boston HCS 
 
  
ROUTINE SUMMARY
===============
 
  The following is a list of routines included in this patch.
  The second line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[Patch List]**;Sep 27, 1994
 
                    CHECK^XTSUMBLD results
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA56             N/A            4543424        **56**(Deleted by KIDS)
   LA7VMSG          22442510       16357149       **27,50,56**
   LA7VMSG1         N/A            3358807        **56**
  
  
 
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours. Verification
  of lab test results should be suspended. The install will disable
  several Lab verifying options as specified in #7 below.
 
 
NOTE: Kernel, MailMan and HL7 patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab verifying options during
      patch installation.
 
      Enter/verify data (auto instrument) [LRVR]
      Enter/verify data (Work list) [LRVRW]
      Enter/verify data (Load list) [LRVRW2]
      Batch data entry (chem, hem, tox, etc.) [LRSTUF]
      Group verify (EA, EL, EW) [LRGV]
  
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*56'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LA56 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS: NONE
 
 
 
 
************************************************************************
Installation example: 
 
Select INSTALL NAME:    LA*5.2*56     Loaded from Distribution  4/10/00@14:57:02
     =&gt; LA*5.2*56
                                                                                
This Distribution was loaded on Apr 10, 2000@14:57:02 with header of            
   LA*5.2*56
   It consisted of the following Install(s):                                    
      LA*5.2*56                                                                 
Checking Install for Package LA*5.2*56                                          
Will first run the Environment Check Routine, LA56                              
                                                                                
                                                                                
                        --- Environment Check is Ok ---                         
                                                                                
Install Questions for LA*5.2*56                                                 
                                                                                
                                                                                
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO            
                                                                                
                                                                                
Want KIDS to INHIBIT LOGONs during the install? YES// NO                        
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO        
                                                                                
Enter the Device you want to print the Install messages.                        
You can queue the install by enter a 'Q' at the device prompt.                  
Enter a '^' to abort the install.                                               
                                                                                
DEVICE: HOME//   TELNET VIRTUAL                                                 
                                                                                
                                                                                
                                                                                
 Install Started for LA*5.2*56 :                                                
               Apr 10, 2000@14:57:45                                            
                                                                                
Build Distribution Date: Apr 10, 2000                                           
                                                                                
 Installing Routines:                                                           
               Apr 10, 2000@14:57:45                                            
                                                                                
 Running Pre-Install Routine: PRE^LA56                                          
                                                                                
               Sending install started alert to mail group G.LMI                
                                                                                
                          *** Pre install started ***                           
                                                                                
                  --- No actions required for pre install ---                   
                                                                                
                         *** Pre install completed ***                          
                                                                                
 Installing PACKAGE COMPONENTS:                                                 
                                                                                
 Installing OPTION                                                              
               Apr 10, 2000@14:57:45                                            
                                                                                
 Running Post-Install Routine: POST^LA56                                        
                                                                                
                          *** Post install started ***                          
                                                                                
                  --- No actions required for post install ---                  
                                                                                
                         *** Post install completed ***                         
                                                                                
              Sending install completion alert to mail group G.LMI              
                                                                                
 Updating Routine file...                                                       
                                                                                
 Updating KIDS files...                                                         
                                                                                
 LA*5.2*56 Installed.                                                           
               Apr 10, 2000@14:57:46                                            
                                                                                
                                                                                
                                                                                
                                                                                
Install Completed                                                         
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;52 SEQ #39</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-08-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*52 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
This patch fixes several reported errors and corrects several Vista
Programming Standards and Conventions (SAC) violations.
 
1. This patch fixes a reported undefined variable error occurring at
LAKDIFF3+10^LAKDIFF3.
 
Routine LAKDIFF3 was changed to kill variable LRORD before calling
EXPLODE^LRGP2 to build the list of tests on the work list. Users would
encounter an undefined error when attempting to select a second or
subsequent accession because the array LRORD was not cleaned up after
processing the first accession.
NOIS: CON-0899-12137, FAV-0899-71050, FRE-1099-60326, HAM-0899-20524,
      SLC-0999-50329, WAS-1299-21602
 
2. This patch fixes a reported illegal number error at WLN^LAKDIFF.
 
Routine LAKDIFF was changed to use a DIR call to allow the user to
select the accession number. This call will prevent the user from
entering a number that is outside the range of possible accession
numbers (1-9999999) or contains a decimal.
NOIS: MAD-1295-40263, SLC-0696-50890
 
3. It corrects the following Vista Programming Standards and Conventions
violations that were observed in routines LAKDIFF, LAKDIFF1, LAKDIFF2,
and LAKDIFF3 during a software review as part of patch development:
 
 a. Removed direct global read of global ^%ZIS(2) which contains the
    TERMINAL TYPE file.  Routine LAKDIFF was retrieving code to set
    cursor positioning. Call changed to use Kernel supplied supported
    references PREP^XGF.
 
 b. Removed user input READS which were not terminated by a carriage
    return. These were converted to use the Kernel supplied supported
    references READ^XGF.
 
 c. Removed direct global references to the DD global. These were
    converted to FileMan supplied supported references ^DI
 
 d. Variable DTIME was being set but was not documented in Technical
    manual. Changed setting of DTIME to Kernel supported reference
    $$DTIME^XUP.
 
4. Users are now allowed to select the accession date. Previously the
software defaulted to the current date.
 
5. When displaying the CBC profile the software previously only displayed
verified results from FILE LAB DATA (#63). The software will now display
any unverified results that have been entered on the work list.
These results are preceded with an "*" to denote the status of unverified.
 
6. When determining the number of days back for delta checking the 
software was using 60 days. This patch changes the logic to calculate the
number of days back for delta checks by using the value the site specifies
in FILE LABORATORY SITE (#69.9), FIELD DAYS BACK FOR DELTA CHECKS (#20).
 
7. The user can now select if the cell differential and RBC morphology
display updates on each key press. The user is prompted if they want the
display updated with each key press upon entering the option. If the user
selects NO then the display can be updated by entering a "?" during cell
differential and RBC morphology entry. Selecting YES provides a continuously
updating display. On systems with slow response times, selecting NO may
improve performance. User's preferences for this function will be saved
using Kernel's generic parameter utility. The parameter definition is named
LA KDIFF DISPLAY UPDATE which will be added to the PARAMETER DEFINITION
file (#8989.51) by the KIDS install.
 

ASSOCIATED NOIS
---------------
 CON-0899-12137
 FAV-0899-71050
 FRE-1099-60326
 HAM-0899-20524
 MAD-1295-40263
 PHI-0300-21262
 SLC-0696-50890
 SLC-0999-50329
 WAS-1299-21602
 
TEST SITES
----------
 Connecticut HCS
 Fresno VAMC
 Hampton VAMC
 Philadelphia VAMC
 
  
ROUTINE SUMMARY
===============
 
  The following is a list of routines included in this patch.
  The second line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[Patch List]**;Sep 27, 1994
 
                    CHECK^XTSUMBLD results
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA52             N/A            4557885        **52**(Deleted by KIDS)
   LAKDIFF          9922081        7244730        **13,52**
   LAKDIFF1         8917764        5795474        **52**
   LAKDIFF2         9640378        2778086        **52**
   LAKDIFF3         2515859        1523847        **52**
   
************************************************************************
 
Installation Instructions
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed with Laboratory users on the system.
 
  Suggested time to install: non-peak requirement hours.
  Recommend that the patch be installed when option Keypad differential
  for CRT's [LA KB DIFF] is not being used.
 
NOTE: Kernel, MailMan and HL patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC). Patch will send patch installation
      alerts to Lab mail group LMI.
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab option during patch
      installation.
     
      Keypad differential for CRT's [LA KB DIFF]
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*52'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9.  On a mapped system, rebuild your map set.
 
 10.  Routine LA52 will be deleted after successful patch installation.
 
 
 
Post-Installation Instructions: NONE
 
************************************************************************
 
Installation example:
 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:  LA*5.2*52   Loaded from Distribution  8/1/00@16:13:41
     =&gt; LA*5.2*52
 
This Distribution was loaded on Aug 01, 2000@16:13:41 with header of
   LA*5.2*52
   It consisted of the following Install(s):
      LA*5.2*52
Checking Install for Package LA*5.2*52
Will first run the Environment Check Routine, LA52
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*52
 
Incoming Files:
 
 
   8989.51   PARAMETER DEFINITION  (including data)
Note:  You already have the 'PARAMETER DEFINITION' File.
I will OVERWRITE your data with mine.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET VIRTUAL
 
 
 Install Started for LA*5.2*52 :
               Aug 01, 2000@16:15:36
 
Build Distribution Date: Aug 01, 2000
 
 Installing Routines:......
               Aug 01, 2000@16:15:36
 
 Running Pre-Install Routine: PRE^LA52.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries: ..
               Aug 01, 2000@16:15:36
 
 Installing Data: ..
               Aug 01, 2000@16:15:40
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION..
               Aug 01, 2000@16:15:41
 
 Running Post-Install Routine: POST^LA52.
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*52 Installed.
               Aug 01, 2000@16:15:50
 
 Install Message sent #28235
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;58</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-01-22 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patches LA*5.2*58 and
LR*5.2*266 do not contain any changes to the VISTA BLOOD BANK Software as
defined by VHA DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION
5.2.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patches LA*5.2*58 and
LR*5.2*266 do not alter or modify any software design safeguards or safety
critical elements functions.
 
 RISK ANALYSIS: Changes made by patches LA*5.2*58 and LR*5.2*266 have no
effect on Blood Bank software functionality, therefore RISK is none.
 
**NOTE**
 
Patches LA*5.2*58 and LR*5.2*266 are being released in a single
distribution.  Because of this, patch descriptions for LA*5.2*58 and
LR*5.2*266 are identical and contain routine summaries for both sets of
routines.
 
**NOTE**
 
The laboratory routines LRVER3A and LRMIUT are being modified by this
patch.  These routines may have been locally modified at the sites.  The
sites must ensure that precautions are taken to prevent loss of local
modifications when patches to Laboratory are installed.
 
**NOTE**
 
When initially setting up the FOREIGN INTERFACE file (#62.487), the
FOREIGN COMPUTER INTERFACE NAME field (#.01) should ALWAYS be set to
"CAREVUE" (all caps, no leading or trailing spaces, and no quotes).  The
routines that access this file are looking specifically for CAREVUE.  The
routines will not be able to process the results for CareVue ward patients
if this is not done.
 
This patch contains changes to Class I CareVue code and requires that
patch LA*5.2*53 and LR*5.2*263 be installed before LA*5.2*58.  Patches
LA*5.2*58 and LR*5.2*266 are contained in the same KID file
(LA_52_P58.KID) and will be installed together.
 
This patch includes the following changes:
 
1.  This patch updates the documentation released with the CareVue
Interface patch (LA*5.2*53).
 
2.  This patch makes changes to the routines LRVER3A and LRMIUT, and will
create a new routine (LA7DLOC).  Currently, two routines (LRVER3A and
LRMIUT) contain the Class I software for the CareVue interface. This patch
will modify these routines to call the new routine (LA7DLOC).  LA7DLOC
contains the Class I code for determining if a patient is located in a
CareVue ward.  The current condition of the Class I code checks the CHEM,
HEM, TOX, RIA, SER, etc. field (#4) and the Microbiology field (#5) of the
Lab Data file (#63), but the updated routines will call LA7DLOC and will
look in the Ward Location field (#.1) of the Patient file (#2).  This
shows the current location of the patient.  There were problems with
patients that were not transferred to the CareVue ward until after the lab
order was taken. The old routine was checking where the patient was
located when the order was taken, and not the current location of the
patient.
 
3.  Updates to the HL/7 date conversion routines. The previous standard
for HL/7 dates listed the date in YYYYMMDDHHMMSS format.  The degree of
precision was listed as a separate parameter.  The new standard format is
[YYYY[MM[DD[HH[MM[SS]]]]]-zzzz] where the bracketed sections are optional
depending on the existence of the subsequent set. Also, if either the
seconds or the minutes/seconds combination consist only of zeroes, the
minutes (if zeroes) and seconds will be omitted.  The length of the
date/time string specifies the degree of precision. In addition, a ZULU
time offset (-zzzz) is also included.  This is the number of hours between
Greenwich Mean Time and the local time where the date/time string was
created.  Routines LA7DVM and LA7DVEXT have been modified to use the
Kernel function ($$FMTHL7^XLFDT) to convert dates from FileMan to HL7
instead of the HL/7 date conversion utility ($$HDATE^HLFNC).
 
4.  This patch will use TaskMan to transfer data to the CareVue system.
Currently, TaskMan is not invoked. This could cause a problem verifying a
result if an error was encountered in the CareVue routines.
 
5.  This patch changes the LA7D EDIT FOREIGN INTERFACE (Edit Foreign
Interface Parameters) option.  It is now easier to add a Ward to a Foreign
Computer System Name.
 
6.  This patch updates the Processing RTN field (#771) and the Response
Processing RTN field (#772) of the Protocol file (#101) for the LA7D
CARELIFE RESULTS and LA7D CARELIFE SERVER entries. The letter "Q" will be
entered by the post-init routine LR266 if no entry exists.
 
NOIS - MIA-0600-30434
   Reported an error, MISSING PROCESSING ROUTINE, when sending the HL7
   message from VistA to CareVue.  The letter "Q" will be entered by
   the post-init routine LR266 if no entry exists.
NOIS - MWV-0900-21094
   Reported that all CareVue ward patients tests were not being sent to
   the CareVue system.  It was discovered that these patients were ones
   who were transferred from a non-CareVue ward to a CareVue ward after
   the tests were ordered. The patient was bypassed since the location
   at time of order was not a CareVue ward.  This patch will correct
   this by looking at the Ward Location field (#.1) in the Patient file
   (#2) for the current location of the patient.
 
Associated NOIS
===============
MIA-0600-30434
MWV-0900-21094
 
Test Sites
==========
Martinsburg, West Virginia
 
 
ROUTINE SUMMARY
=================
The following is a list of routines included in patch LA*5.2*58. The
second line of each routine now looks like:
 
&lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[patch list]**;Sep 27, 1994
 
                 CHECK^XTSUMBLD Results
  Routine Name    Before Patch      After Patch    Patch List
  ------------    ------------      -----------    ------------
  LA7DEDT            3765930          5836716      53,58
  LA7DLOC             NEW              553499      58
  LA7DVM             6983644          6949969      53,58
 
 
The following is a list of routines included in patch LR*5.2*266. The
second line of each routine now looks like:
 
&lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
                 CHECK^XTSUMBLD Results
  Routine Name    Before Patch      After Patch    Patch List
  ------------    ------------      -----------    ------------
  LR266               NEW             1529899      266
  LRMIUT             3673249          3951633      254,266
  LRVER3A           10780812         10508599      1,5,42,100,121
                                                   153,190,221,254,
                                                   263,266
 
 
The documentation and distribution files for patches LA*5.2*58 and
LR*5.2*266 may be obtained using FTP from the appropriate National VistA
Support directory:
 
    OI FIELD OFFICE       FTP ADDRESS             DIRECTORY
    ===============       ===========             ==========
     HINES               152.129.1.110      [ANONYMOUS.SOFTWARE]
     SALT LAKE CITY      152.131.2.1        [ANONYMOUS.SOFTWARE]
     ALBANY              152.127.1.5        [ANONYMOUS.SOFTWARE]
 
File names are:
 
 ASCII FILE
  LA_52_P58.KID     -  KIDS distribution for LA*5.2*58 and LR*5.2*266
 
 BINARY FILE
  LA7DIG.PDF        -  CareVue Installation Guide
 
INSTALLATION INSTRUCTIONS
=========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
     1. Review your mapped set.  If any of the routines listed in
        patches LA*5.2*58 or LR*5.2*266 are mapped, they should be
        removed from the mapped set at this time.
 
     2. From the Kernel Installation &amp; Distribution System menu (XPD
        MAIN), select the Installation menu option, then the option,
        Load a Distribution. Enter your directory name and
        LA_52_P58.KID at the Host File prompt.
 
     3. The patch has now been loaded into a Transport global on
        your system. You now need to use KIDS to install the 
        Transport global.
 
        On the KIDS menu, under the 'Installation' menu, use the 
        following options:
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Backup a Transport Global
 
     4. It is recommended that this release be installed during off
        peak hours.  To prevent a possible problem with the tasking
        of the next days laboratory orders, do not install this package
        at the same time as the following nightly tasked jobs:
 
              LRTASK ROLLOVER
              LRTASK NIGHTLY
              LRTASK CONJAM
              LRTASK CUM
 
     5. No options need to be placed out of service.
 
     6. Installation time is less than 2 minutes during off peak 
        hours and less than 5 minutes during peak hours
 
     7. From the 'Installation Menu' of the KIDS menu, run the 
        option 'Install Package(s)' Select the package 'LA*5.2*58'
        and proceed with the install. When prompted 'Want to 
        DISABLE Scheduled Options, Menu Options, and Protocols? 
        YES//', choose 'NO'.
 
     8. This patch updates the Processing RTN field (#771) and the
        Response Processing RTN field (#772) of the Protocol file
        (#101) for the LA7D CARELIFE RESULTS and LA7D CARELIFE SERVER
        entries. The letter "Q" will be entered by the post-init
        routine LR266 if no entry exists.  The LR266 routine will
        automatically be deleted after the patch is installed.
 
     9. If any routines were unmapped as part of step 2, they 
        should be returned to the mapped set once the installation 
        has run to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;57 SEQ #41</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-04-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*57 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
This patch addresses fixes/enhancements to the Lab Universal Interface
Auto Download requested in several NOIS's and E3R's. It allows the auto
download to be configured to only transmit orders for collected specimens.
It enhances the auto download to determine if a test order is transmitted
to an automated instrument based on the accession area, specimen type and
test urgency of each test on the accession.

 
   *****************************************************************
   * PLEASE NOTE: To utilize the functionality added by this patch *
   * to control auto downloading of uncollected specimens install  *
   * patch LR*5.2*262 before implementing this functionality.      *
   *****************************************************************
 
 
1.  NOIS CHA-1199-31572 reported that when a site entered an invalid
    label^routine name in FILE BUILD ENTRY field (#93) and FILE BUILD
    ROUTINE field (#94) in the AUTO INSTRUMENT file (#62.4), the auto
    download process would error with the following message:
    $ZE= UID+28^LA7ADL:3, %DSM-E-PNAME, bad routine name
 
    The auto download process will check for valid routine and label
    entry points. If an invalid/missing routine/label is found then the
    auto download process will ignore that entry in file #62.4 and send
    an alert to the mail group LAB MESSAGING with one of the following
    messages:
 
    a. When no routine is entered in field #94.
      "No download routine (field #94) specified for AUTO INSTRUMENT: xxx"
  
    b. When the routine referenced in field #94 does not exist.
       "Invalid download routine (field #94) specified for AUTO
        INSTRUMENT: xxx"
 
    c. When the routine label referenced in field #93 does not exist.
       "Invalid download routine label (field #93) specified for AUTO
       in the AUTO INSTRUMENT file (#62.4) INSTRUMENT: xxx"
  
      where "xxx" is the value of the NAME field (#.01) in AUTO INSTRUMENT 
      file (#62.4).
 
 
2.  NOIS CHA-1199-31572 reported an inaccurate comment in the routine
    LA7ADL. Comment "File build (entry^routine) from fields #92 and #93 in
    file 62.4". The reference to field numbers is incorrect.  Comment has
    been corrected to reflect fields #93 and #94.
 
  
3.  NOIS IND-0200-41054 requested the ability to screen on an accession's
    specimen type to determine if an order should be downloaded to the
    instrument. In addition to screening by specimen type, tests can also
    be screened by accession area and urgency.
  
    This patch adds three new fields to support this functionality.
    The fields are:
 
    ACCESSION AREA (#7), SPECIMEN (#8) and URGENCY (#9) within CHEM TESTS
    multiple field (#30) of the AUTO INSTRUMENT file (#62.4).
 
    When these fields are valued for a test in the CHEM TESTS multiple,
    an order for the test on the accession will only be transmitted to
    the instrument if it matches this criteria. Any field that is blank
    (no value) will match on any value for the field.
 
    If the same test requires different screening criteria, the test can
    be entered multiple times and configured appropriately.
 
    Example:
    Accession CH 0510 20 has a specimen type = plasma with the following
    tests:  GLUCOSE  (routine)
            BUN      (routine)
            CALCIUM  (stat)
   
    AUTO INSTRUMENT file is configured with entries that have the following
    tests: 
    Test       Accession Area    Specimen     Urgency
    ----       --------------    --------     -------
    GLUCOSE    CH                &lt;blank&gt;      routine
    BUN        CH                serum        &lt;blank&gt;
    CALCIUM    &lt;blank&gt;           &lt;blank&gt;      stat
 
    This would create an order for GLUCOSE since it matched on the
    accession area, urgency and any specimen.
 
    The BUN would not be sent to this instrument because it did not match
    on the specimen type while matching on the accession area and any
    urgency.
 
    The CALCIUM would be sent because it matched on the urgency and any
    accession area and specimen type.
 
 
4.  E3R #13785 - LRPHMAN &amp; LRPHEXCPT BOTH SENDING HL7 MESSAGE requested the
    ability for the auto download to ignore specimens that have not been
    collected. This patch adds functionality to have the auto download only
    download specimens that are marked as collected. The auto download
    process will use INCLUDE UNCOLLECTED ACCESSIONS (#.1) in the LOAD/WORK
    LIST file (#68.2) to determine if a specimen should be downloaded to
    an instrument. Each entry in the AUTO INSTRUMENT file has a related
    LOAD/WORK LIST entry. Setting the INCLUDE UNCOLLECTED ACCESSIONS field
    to NO or blank (no value) will prevent the specimen/test downloading to
    the instrument. If the field is set to YES then uncollected specimens
    will be downloaded to an instrument. An accession is considered as
    being "collected" when the LAB ARRIVAL TIME field (#12) within the
    ACCESSION NUMBER multiple field (#68.02) within the DATE multiple
    field (#68.01) of ACCESSION file (#68) has a date/time.
 
 
5.  The patch introduces the ability to have a test generate more
    than one test order. If an ordered test actually requires two or more
    tests to be performed on an instrument, then enter the test multiple
    times and associate the appropriate UI TEST CODE with the test to be
    ordered. 
 
    For result processing purposes the test may need to be entered
    separately if the result test is associated with a different file
    #60 test or uses a different result code (UI TEST CODE). If the
    ordered and result test are the same and use the same UI TEST CODE
    then the same entry can be used for both purposes.

    An example would be an order for ionized and normalized calcium.
    To perform this test on the instrument it may need to perform both
    a pH and ionized calcium. In the AUTO INSTRUMENT file the test
    ionized calcium would be entered twice for ordering purposes. The
    first entry would be associated with ordering the ionized calcium
    while the second entry could be used to order the pH. 
    
    TEST: IONIZED CALCIUM
    UI TEST CODE: mCa++                   ROUTINE STORAGE: TV(695837,1)
    ACCEPT RESULTS FOR THIS TEST: YES     DOWNLOAD TO INSTRUMENT: YES
    (Note - this entry is used both to order the test and process the
    results since it uses the same UI TEST CODE for both purposes.)
   
    TEST: IONIZED CALCIUM
    UI TEST CODE: mpH                     ROUTINE STORAGE:  TV(695837,1)
    ACCEPT RESULTS FOR THIS TEST: NO      DOWNLOAD TO INSTRUMENT: YES
    (Note - this entry is only used to order the pH and is not used to
    accept results.)

    TEST: NORMALIZED CALCIUM
    UI TEST CODE: cCa++                   ROUTINE STORAGE: TV(695838,1)
    ACCEPT RESULTS FOR THIS TEST: YES     DOWNLOAD TO INSTRUMENT: NO
    (Note - this entry is not used for ordering purposes but instead is
    used to process the result from the instrument.)
 
 
    A second example would be bicarbonate. To perform this test on the
    instrument it may need to perform both a pH and pCO2. In the AUTO
    INSTRUMENT file the test HCO3 would be entered twice for ordering
    purposes. The first entry would be associated with ordering the
    pCO2 while the second entry could be used to order the pH. This
    same test would be added a third time. This entry handles the result
    being transmitted by the instrument which uses a different UI TEST
    CODE for result purposes.

    TEST: HCO3
    UI TEST CODE: mPCO2                   ROUTINE STORAGE: TV(8,1)
    ACCEPT RESULTS FOR THIS TEST: NO      DOWNLOAD TO INSTRUMENT: YES
    (Note - this entry is only used to order the pCO2 and is not used to
    accept results.)
   
    TEST: HCO3
    UI TEST CODE: mpH                     ROUTINE STORAGE: TV(8,1)
    ACCEPT RESULTS FOR THIS TEST: NO      DOWNLOAD TO INSTRUMENT: YES
    (Note - this entry is only used to order the pH and is not used to
    accept results.)

    TEST: HCO3
    UI TEST CODE: cHCO3act                ROUTINE STORAGE: TV(8,1)
    ACCEPT RESULTS FOR THIS TEST: YES     DOWNLOAD TO INSTRUMENT: NO 
    (Note - this entry is not used for ordering purposes but instead is
    used to process the result from the instrument.)

 
 
6.  NOIS IND-0699-40171 reported that an invalid HL7 time value was being
    downloaded to an instrument.
 
    When building a HL7 message the software will now check time values.
    If the time is found to not conform to HL7 specifications for a time
    value it will adjusted as follows:
    
    If hours are greater than 24, hours will be reported as 24 with no
    minutes/seconds.
    If minutes are greater than 59, minutes will be reported as 59
    If seconds are greater than 59, seconds will be reported as 59
 
 
7.  NOIS WPB-0997-31750 reported an "undefined variable X in routine DIM"
    when the input transform for PARAM 1 (#2) within CHEM TESTS multiple
    field (#30) of the AUTO INSTRUMENT file (#62.4) kills the variable X.
    The input transform will call DIM only if X is defined.
 
 
8.  This patch also corrects the following Vista Programming Standards
    and Conventions (SAC) violations that were observed during software
    review as part of patch development:
 
    a. Removed direct global read of global ^VA(200) which contains the
       NEW PERSON file.  Routines LA7ADL1 and LA7UID2 were retrieving
       user's name. Call changed to Kernel supported reference
       (DBIA # 10060) using FileMan DBS call $$GET1^DIQ.
 
    b. Removed several naked indicator references in routine LADOWN that
       were not documented. Routine changed to use full global reference.
 
    c. Changed FileMan security on several fields in AUTO INSTRUMENT file
       (#62.4) per SAC section 3.2.6. See section "FILE SECURITY" below for
       additional information.
 
 
9.  Corrects an "undefined variable ^(2)" error in routine LADOWN that
    was detected by laboratory development during the software review for
    the patch. This error would occur if an attempt to download a load/work
    list was initiated which have no specimens on the list.
 
 
10. Removed software checks that would only allow downloading of entries
    in file #62.4 when the internal entry number was less than 100.
 
 
11. A misspelling of the DOWNLOAD PROTOCOL ROUTINE (#92) field in the
    AUTO INSTRUMENT file (#62.4) is corrected. The word PROTOCOL in the
    field name was misspelled.
 
 
12. The Download a load list to an Instrument option [LA DOWN] sets up the
    ^LA global for downloading records to an instrument that are direct
    connects or interfaced via the Lab LSI. The Lab Universal Interface
    does not use the LA global for this purpose. This option will only
    setup the ^LA global when the MESSAGE CONFIGURATION field (#8) in AUTO
    INSTRUMENT file is empty, indicating that this entry is not using the
    Lab Universal Interface.
 
  
13. During patch development it was found that processing of the HL7
    specimen source from sequence 15 of the OBR segment of a HL7 Result
    (ORU) message was checking the entire first component of this field.
    This checking should occur using the first sub-component of the first
    component of sequence 15. Routine LA7UIIN1 has been changed to
    correctly check the specimen source.
 
 
14. Functionality that was tested by the test sites:
                                                    
                                                     Site  
Function                      | ASH | BHS | CPL | IND | MIW | STX | TVH | UNY
-----------------------------------------------------------------------------
Used auto download?           | YES | YES | YES | YES | YES | YES | YES | YES
 
Used download via loadlist?   | YES |  NO | YES |  NO |  NO |  NO |  NO | YES
 
Tested screening capabilities | YES | YES | YES |  NO | YES | YES | YES | YES
based on accession area?
 
Tested screening capabilities | YES | YES |  NO | YES | YES |  NO |  NO | YES
based on specimen type?
 
Tested screening capabilities | YES |  NO |  NO |  NO |  NO |  NO |  NO | YES
based on urgency?
 
Used combination of the above | YES | YES |  NO |  NO |  NO |  NO |  NO | YES
test screening capabilities?
 
Screened on collection status | YES | YES | YES | YES | YES | YES |  NO | YES
based on the associated
loadlist setting?          
 
Used capability to generate   | YES |  NO |  NO |  NO | YES |  NO |  NO |  NO
additional tests in the order
message?

 Legend:  ASH = Asheville VAMC
          BHS = Boston HCS
          CPL = Central Plains HCS
          IND = Indianapolis VAMC
          MIW = Milwaukee VAMC
          STX = South Texas HCS 
          TVH = Tennessee Valley HCS
          UNY = Upstate New York HCS (VISN 2)
 
          YES = tested functionality
           NO = did not test functionality
 
 
 
ASSOCIATED NOIS
---------------
 BIL-0700-31662 
 CHA-1199-31572
 CPH-1000-41040 
 IND-0699-40171
 IND-0200-41054 
 LAH-0299-62613
 SAJ-0997-70774 
 UNY-0700-10460 
 WPB-0997-31750 
 

ASSOCIATED E3R'S
----------------
 #13785 - LRPHMAN &amp; LRPHEXCPT BOTH SENDING HL7 MESSAGE
 
 
TEST SITES
----------
 Asheville VAMC
 Boston HCS
 Central Plains HCS
 Indianapolis VAMC
 Milwaukee VAMC 
 South Texas HCS 
 Tennessee Valley HCS
 Upstate New York HCS (VISN 2)
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA57             N/A            5998709        **57** (Deleted by KIDS)
   LA7ADL           10978189       5237792        **17,25,23,57**
   LA7ADL1          7046668        4892374        **17,23,57**
   LA7UID           2037413        2071504        **17,57**
   LA7UID1          5866288        2775829        **17,57**
   LA7UID2          9041764        8668527        **17,27,57**
   LA7UIIN1         10176639       5544723        **17,23,27,57**
   LADOWN           9641097        5592262        **17,57**
   LADOWN1          1620875        814617         **17,42,57**
 
 
List of preceding patches: 27, 42
Sites should use CHECK^XTSUMBLD to verify checksums. 
  
 
FILE SECURITY
============= 
 
 There are six existing fields which have FileMan Write Access changed to
 "@". This is required for security purposes. To edit these fields requires
 the user to have FileMan Programmer's Access. The fields affected are:
 
  - PROGRAM (#2), DOWNLOAD ENTRY (#91), DOWNLOAD PROTOCOL ROUTINE (#92),
    FILE BUILD ENTRY (#93) and FILE BUILD ROUTINE (#94) of the
    AUTO INSTRUMENT file (#62.4).
 
  - PARAM 1 (#2) within CHEM TESTS multiple field (#30) of the AUTO
    INSTRUMENT file (#62.4).
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak hours. 
  The install will disable option Download a load list to an Instrument
  [LA DOWN] as specified in #7 below and turn off Lab Universal Interface
  Auto Download. Accessioning should not be occurring within the
  Laboratory package during the installation of this patch.
 
 
NOTE: Kernel, MailMan and HL7 patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab option during patch
      installation.
     
      Download a load list to an Instrument [LA DOWN]
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*57'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LA57 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
  
The Lab ADPAC/LIM should review the AUTO INSTRUMENT and LOAD/WORK LIST
files to adjust any field settings based on the corrections/enhancements 
introduced by this patch.
 
Note: Use FileMan Enter/Edit option to edit LOAD/WORK LIST file (#68.2)
      and AUTO INSTRUMENT file (#62.4).
 
1. If using the auto download feature of the Lab Universal Interface then
shutdown the auto download process first before making changes. This can
be performed by using the Start/Stop Auto Download Background Job
[LA7 ADL START/STOP] option and selecting action: 2 Shutdown Auto Download
Job.
 
2. To prevent uncollected accessions from being downloaded via the
Universal Interface, use FileMan Enter/Edit to set INCLUDE UNCOLLECTED
ACCESSIONS (#.1) field in the LOAD/WORK LIST file (#68.2) to NO for the
load/work list that is associated with an instrument in the AUTO INSTRUMENT
file via LOAD/WORK LIST field (#3).
 
3. Configure those tests that will require download eligibility screening.
Using FileMan Enter/Edit, edit these tests in the AUTO INSTRUMENT file that
should be screened by editing the fields ACCESSION AREA (#7), SPECIMEN (#8)
and URGENCY (#9) within CHEM TESTS multiple field (#30) of the AUTO
INSTRUMENT file (#62.4).
 
If the same test requires different screening criteria, the test can be
entered multiple times and configured appropriately.
 
4. Restart the auto download if stopped in number #1 above using the same
option and selecting action: 1 Start/Restart Auto Download Job.
 
 
  
************************************************************************
Installation example: 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LA*5.2*57  Loaded from Distribution  5/11/00@15:44:21
     =&gt; LA*5.2*57
 
This Distribution was loaded on May 11, 2000@15:44:21 with header of
   LA*5.2*57
   It consisted of the following Install(s):
      LA*5.2*57
Checking Install for Package LA*5.2*57
Will first run the Environment Check Routine, LA57
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*57
 
Incoming Files:
 
 
   62.4      AUTO INSTRUMENT  (Partial Definition)
Note:  You already have the 'AUTO INSTRUMENT' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
DEVICE: HOME//  TELNET VIRTUAL
 
 
 Install Started for LA*5.2*57 :
               May 11, 2000@16:24:51
 
Build Distribution Date: May 11, 2000
 
 Installing Routines:.........
               May 11, 2000@16:24:51
 
 Running Pre-Install Routine: PRE^LA57.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
            Shutting down Lab Universal Interface Auto Download Job
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries: ..
               May 11, 2000@16:24:52
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION..
               May 11, 2000@16:24:52
 
 Running Post-Install Routine: POST^LA57.
 
                          *** Post install started ***
 
              Restarting Lab Universal Interface Auto Download Job
 
                 Updating package revision data for file #62.4
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*57 Installed.
               May 11, 2000@16:24:52
 
 Install Message sent #23893
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;59 SEQ #42</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-06-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*59 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LA*5.2*59 addresses a fix to the Lab Universal Interface (UI)
incoming message processing. Released patch LA*5.2*57 introduced changes
to the processing of HL7 result (ORU) messages that can result in the
processing routine LA7UIIN1 entering an endless loop. This occurs when the
UI processes a message that is for an accession area that is not associated
with the "CH" subscript. Patch LA*5.2*59 changes routine LA7UIIN1 to ignore
results for accessions that are not in the "CH" or "MI" subscripts if the
site is a test site for under development patch LA*5.2*41. Patch LA*5.2*41
adds support for microbiology instruments results that are processed within
the "MI" subscript.

As part of the install of this patch, the post-install routine performs
a check to determine if under development patch LA*5.2*41 has been
installed. If patch LA*5.2*41 is detected a mail message will be
triggered to the Lab Development team at the Dallas OI Field Office.
The message will contain information concerning patch routine checksums,
status of patch installation from the PACKAGE file (#9.4) and a copy
of the patch routines.


ASSOCIATED NOIS
---------------
 BAC-0501-41085
 CTX-0601-71333
 HEH-0401-42541
 KAN-0401-41472 
 LAH-0401-62030
 LAS-0601-60733 
 MEM-0501-70993
 MRN-0401-41875
 

TEST SITES
----------
 Battle Creek VAMC
 Central Texas HCS
 Heartland-East HCS
 Heartland-West HCS
 Las Vegas VAMC 
 Memphis VAMC
 Milwaukee VAMC
 VA Greater Los Angeles HCS


ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA59             N/A            7061351        **59** (Deleted by KIDS)
   LA7UIIN1         5544723        5541384        **17,23,27,57,59**
 
 List of preceding patches: 57
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak hours.
 
 
NOTE: Kernel, MailMan and HL7 patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
 
  7.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*59'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
  8. On a mapped system, rebuild your map set.
 
  9. Routine LA59 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================

None
 
 
************************************************************************
Installation example:

Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:  LA*5.2*59  Loaded from Distribution 4/24/01@13:29:16
     =&gt; LA*5.2*59
 
This Distribution was loaded on Apr 24, 2001@13:29:16 with header of
   LA*5.2*59
   It consisted of the following Install(s):
      LA*5.2*59
Checking Install for Package LA*5.2*59
Will first run the Environment Check Routine, LA59
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*59
 
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LA*5.2*59 :
               Apr 24, 2001@13:34:05
 
Build Distribution Date: Apr 24, 2001
 
 Installing Routines:...
               Apr 24, 2001@13:34:05
 
 Running Pre-Install Routine: PRE^LA59.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required ---
 
                         *** Pre install completed ***
 
 Running Post-Install Routine: POST^LA59.
 
                          *** Post install started ***
 
                           --- No action required ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*59 Installed.
               Apr 24, 2001@13:34:05
 
 Install Message sent #52035
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;60 SEQ #43</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-02-04 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*60 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LA*5.2*60 addresses a fix to the option Keypad differential for
CRT's [LA KB DIFF]. It was determined, during testing of another patch,
that the lab verifying process would trigger the transmission of the
wrong patient's results when verifying an accession received via Laboratory
Electronic Data Interchange (LEDI). The variable LRORU3 is used by the
lab verifying process to trigger the building of a HL7 result (ORU) message
to transmit the test results to the requesting facility. Patch LA*5.2*60
changes routine LAKDIFF3 to set the variable LRORU3 based on the current
accession before calling the lab verifying process.
  
The "Heads-Up on Patient Safety Alert" issued on 18 January 2002 regarding
the electronic transmission of an incorrect result from a LEDI Host
laboratory to a Collecting Laboratory is resolved by patch LA*5.2*60.
 

ASSOCIATED NOIS
---------------
 NONE
 
 
TEST SITES
----------
 Milwaukee VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA60             N/A            4331834        **60** (Deleted by KIDS)
   LAKDIFF3         1523847        1615579        **52,60**
 
 List of preceding patches: 52
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 1 minute. This patch
  can be installed when Laboratory users are on the system. Users should
  not be using option Keypad differential for CRT's [LA KB DIFF] during
  patch installation. The KIDS install will disable this option during
  installation. Suggested time to install: anytime the option LA KB DIFF
  is not being used.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
 
  7.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*60'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
      Note: Option Keypad differential for CRT's [LA KB DIFF] will be
      disabled during installation by KIDS.

  8. On a mapped system, rebuild your map set.
 
  9. Routine LA60 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
 
None
 
 
************************************************************************
Installation example: 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LA*5.2*60   Loaded from Distribution  1/30/02@15:07:57
     =&gt; LA*5.2*60
 
This Distribution was loaded on Jan 30, 2002@15:07:57 with header of
   LA*5.2*60 
   It consisted of the following Install(s):
      LA*5.2*60
Checking Install for Package LA*5.2*60
Will first run the Environment Check Routine, LA60
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*60
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET VIRTUAL
 
 
 Install Started for LA*5.2*60 :
               Jan 30, 2002@15:10:22
 
Build Distribution Date: Jan 30, 2002
 
 Installing Routines:...
               Jan 30, 2002@15:10:22
 
 Running Pre-Install Routine: PRE^LA60.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION..
               Jan 30, 2002@15:10:22
 
 Running Post-Install Routine: POST^LA60.
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*60 Installed.
               Jan 30, 2002@15:10:22
 
 Install Message sent #xxxxx
 
 
Select Installation Option:
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;46</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-02-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*46 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
========================================
 
This patch adds support for sending/receiving Laboratory Electronic
Data Interchange (LEDI) orders/results with non-VA facilities
(commercial reference laboratories).
 

As of the release date of this software, there is no national solution to
implement a laboratory electronic HL7 standard interface to a facility or
other entity outside the VA wide area network.  National communication
security concerns are still being debated by the Department of Veterans
Affairs (VA) and are awaiting resolution.  At present, a VA medical center,
which intends to utilize this software in conjunction with an interface to
a commercial reference laboratory or other non-VA information system entity,
will need to coordinate with the vendor an acceptable communication method.
Any implementation will need to be approved by the facility and VISN
Information Security Officer (ISO) and meet current VA security requirements
for external electronic connections. See VHA Directive 6212, Security of
External Electronic Connections and VHA Directive 6210, Automated Information
Systems (AIS) Security for additional information and guidance. Additional
security information may be obtained from the Health Information Security
Service (HISS) web page at http://vaww.domain.ext/miss.

Implementation of a HL7 messaging interface between the VA VistA Laboratory
package and a non-VA information system consists basically of three parts:
 - VistA Laboratory LEDI II software.
 - certified communication software and hardware
 - non-VA information system capable of sending and receiving laboratory HL7
   order and result messages.
All three must be functional to utilize the capabilities of this LEDI II
software patch. The implementation,setup, and configuration of vendor provided
hardware and software is NOT addressed by this documentation.  Consult the
vendor provided documentation and instructions to interface to the VistA
Laboratory package.
  
 
Additionally support is added for TCP/IP protocol as a communication
protocol for the transmission of LEDI HL7 messages. This requires
patch HL*1.6*19 to have been successfully installed. The implementation
of this protocol in place of the current MailMan protocol will
significantly increase transmission speed of messages and reduce system
overhead/storage. Both systems that will be exchanging HL7 messages,
using the TCP/IP protocol will need to coordinate the switch to this
new transmission method. There will be two logical links established
to exchange messages a server (listener) logical link to receive and
process messages and a client link to transmit messages.
 
A new shipping code SM40 - Required Shipping Info Updated has been added
to file LAB ELECTRONIC CODES (#64.061). This code is used when recording
this event in file LAB SHIPPING EVENT (#62.85)
 
  
Comments can now contain ";"character. Previously the ";" character was
used to parse comments into multiple lines and filed in the database using
a classical FileMan DIE call. FileMan parsed the fields to edit using
the ";" character in the DR string. The new call uses a FileMan database
server call, which does not have this restriction.
 
 
New fields have been added and existing fields modified within the
CHEM TEST subfile of file AUTO INSTRUMENT (#62.4) to support the
following features when processing result messages. These features
are site-selectable. See data dictionary field description for each
field for further information. Using option LEDI Setup [LA7V SETUP],
the section on Auto Instrument settings will prompt for these additional
fields.
 
1. Process NTE segments following OBX segments. Comments found attached
   to specific test results are stored as comments. The field REMARK PREFIX
   #18 in CHEM TEST subfile can be used to specify a comment prefix that
   will be made part of the comment.
2. Store test reference ranges, abnormal flags and name of performing
   laboratory. This patch stores these parameters as comments with the
   results. This information is prefixed with the field REMARK PREFIX.
3. Specify whether final or incomplete results are processed.
 
The fields that are new/modified are:
    ACCEPT RESULTS FOR THIS TEST
    STORE REMARKS
    REMARK PREFIX
    STORE PRODUCER'S ID
    STORE REFERENCE RANGE
    STORE ABNORMAL FLAGS
 
New fields have been added to the LAB SHIPPING CONFIGURATION file (#62.9)
to allow collecting facilities to specify required patient/specimen
information to be sent with shipping manifest. This can include specimen
volume, weight, collection end date/time (collection duration),
patient height and weight (NOIS ALB-1099-51591). LOINC codes are used to
identify patient height, weight and specimen weight when appropriate.
Editing these fields is performed using option Edit Shipping Configuration
[LA7S EDIT 62.9]. The fields are:
 
    USE NON-VA CODES
    TEST/PROFILE sub-file
      DIVISION
      REQUIRE PATIENT HEIGHT
      PATIENT HEIGHT
      PATIENT HEIGHT UNITS
      PATIENT HEIGHT LOINC CODE
      REQUIRE PATIENT WEIGHT
      PATIENT WEIGHT
      PATIENT WEIGHT UNITS
      PATIENT WEIGHT LOINC CODE
      REQUIRE COLLECTION VOLUME
      COLLECTION VOLUME
      COLLECTION VOLUME UNITS
      COLLECTION VOLUME LOINC CODE
      REQUIRE COLLECTION END D/T
 
The process of building a shipping manifest now allows the user to
specify the starting and ending accession numbers to check within an
accession area. This feature can shorten manifest building time when
searching a yearly accession area with a large number of accessions.
It allows the site to skip the accession numbers that have been
completed earlier in a year and no longer need to be checked to
determine it any of the tests meet the criteria for building to a
manifest.
 
 
The process of closing a shipping manifest now performs a check of
certain required information. The required information check is for:
 1. Each test has an order NLT code assigned.
 2. If shipping to a facility that does not use VA NLT codes for
    test ordering, the appropriate non-VA test codes/names
    have been designated for all tests on the manifest.
 3. Site-specified required patient/specimen information has been
    entered.
 
 
The process of building orders in the file LAB PENDING ORDER (#69.6)
has been enhanced to use information from the file LAB SHIPPING
CONFIGURATION (#62.9) to create orders based on the host facilities
specified collection sample and urgency.
 
 
The LEDI result (ORU) messages will now include the test interpretation
found in LABORATORY TEST file (#60) as a comment (NTE segment) following
the test results. Test results to be stored will be checked against the
FileMan input transform for the data name used to store the results in
file LAB DATA (#63). If the results do not pass the FileMan input
transform then an error message will be generated via the Lab
Universal Interface error reporting process. Results values that are
"canc", "pending" or "comment" will be stored.
 
 
The option Display Lab Universal Interface Message [LA7 PRINT LAB UI
MESSAGE] has been modified to prompt the user if the Kernel Browser
should be used to display a message. If the browser is not selected then
a standard "scroll and roll" display of the selected message(s) is
produced.

Option Retransmit LEDI Lab Results [LA7S RESULTS RETRANSMIT] will allow
a user to retransmit the laboratory test results for selected accession(s)
to the collecting/submitting facility.
 
The install will update several files during the post-install as necessary:
 - It was found that the original release of LEDI failed to update the
   field SHIP VIA #.04 in file LAB SHIPPING MANIFEST (#62.8) when a manifest
   is created. This information will update existing manifests with
   information from the related file LAB SHIPPING CONFIGURATION (#62.9)
   entry.
 
 - The processing routine specified in file LA7 MESSAGE PARAMETER (#62.48)
   for entries related to LEDI has been changed. Existing entries will be
   updated as appropriate.
 
 NOIS HIN-0998-40287 corrected an undefined variable error when building a
   result message.
 
 NOIS BOS-0498-10163 reported an undefined error when attempting to lock
 LAB SHIPPING MANIFEST file (#62.8). Due to a typographically error the
 character "$" was omitted from a $DATA intrinsic function.
 
 NOIS TAM-0401-31867 reported that option Lab Messaging File Integrity
 Checker [LA7 CHECK FILES] option allowed queuing the report to the
 "HOME" device. The option will now prevent queuing to the HOME device.
 It also removes "HOME" as the device default value.
 

ASSOCIATED E3R
--------------
E3R #15348, RETRANSMIT FUNCTION FOR LEDI
 
ASSOCIATED NOIS
---------------
  ALB-1099-51591
  ALB-0100-50284
  BOS-0498-10163
  HIN-0998-40287
  HUN-1100-21862
  MIW-1197-41082
  TAM-0401-31867
 
 
TEST SITES
----------
  Alexandria VAMC
  Biloxi VAMC
  Birmingham VAMC
  Fayetteville VAMC
  Hines VAMC
  Houston VAMC
  Jackson VAMC
  Little Rock VAMC
  Madison VAMC
  Milwaukee VAMC
  Muskogee VAMC
  New Orleans VAMC
  Oklahoma City VAMC
  Shreveport VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA46             N/A            9520365        **46** (Deleted by KIDS)
   LA7CHKF          10597193       11028299       **27,46**
   LA7QRY           N/A            1084520        **46**
   LA7QRY1          N/A            3509927        **46**
   LA7QRY2          N/A            4552927        **46**
   LA7SBCR          1495927        653666         **27,46**
   LA7SBCR1         7086650        4924406        **27,46**
   LA7SBCR2         3323374        2564479        **27,46**
   LA7SCE           10260809       11402708       **27,46**
   LA7SM            16316313       10277989       **27,46**
   LA7SM1           2146828        8553973        **27,46**
   LA7SM2           N/A            12143125       **46**
   LA7SMB           17707549       14649107       **27,46**
   LA7SMP           15792287       11746903       **27,45,46**
   LA7SMP0          N/A            9303222        **46**
   LA7SMPXL         5400542        3215234        **27,42,46**
   LA7SMU           11040439       7104257        **27,46**
   LA7SMU1          5335635        6241668        **27,46**
   LA7SMU2          N/A            5290542        **46**
   LA7SRR           N/A            6233015        **46**
   LA7UIIN2         9850298        12296505       **17,23,27,46**
   LA7UTILA         11812487       10237097       **23,27,46**
   LA7VHL           8527903        4500486        **27,46**
   LA7VHLU          N/A            4469720        **46**
   LA7VHLU1         N/A            2011157        **46**
   LA7VHLU2         N/A            3873916        **46**
   LA7VHLU3         N/A            2007360        **46**
   LA7VHLU4         N/A            5424804        **46**
   LA7VHLU5         N/A            5541950        **46**
   LA7VIN           N/A            1398763        **46**
   LA7VIN1          N/A            5261630        **46**
   LA7VIN2          N/A            5808892        **46**
   LA7VIN3          N/A            2061956        **46**
   LA7VIN4          N/A            7936019        **46**
   LA7VIN5          N/A            5205707        **46**
   LA7VIN5A         N/A            5039195        **46**
   LA7VMSG          16357149       3253314        **27,50,56,46**
   LA7VMSG1         3358807        8200340        **56,46**
   LA7VOBR          N/A            2129056        **46**
   LA7VOBRA         N/A            5326634        **46**
   LA7VOBX          N/A            2088674        **46**
   LA7VOBX1         N/A            3799868        **46**
   LA7VOBX2         N/A            4350324        **46**
   LA7VOBX3         N/A            5240738        **46**
   LA7VOBXA         N/A            6232009        **46**
   LA7VORC          N/A            1565653        **46**
   LA7VORM          17384019       6471896        **27,42,46**
   LA7VORM1         20868841       7601990        **27,51,46**
   LA7VORM2         N/A            3426954        **46**
   LA7VORM3         N/A            6787219        **46**
   LA7VORU          10077624       8070282        **27,46**
   LA7VORU1         N/A            4734718        **46**
   LA7VORU2         N/A            1962290        **46**
   LA7VPID          N/A            4123683        **46**
   LA7VSET          19500034       15979413       **27,51,55,46**
   LA7VSET1         12858976       9065449        **27,51,55,46**
   LA7VSTP          6154318        6079680        **27,44,51,46**
   LA7VSTP1         8332246        3317926        **27,46**
   LAGEN            9445120        8522786        **1,17,22,27,47,46**
   LASET            6644420        6955342        **27,42,46**
 
 List of preceding patches: 42, 45, 47, 51, 55, 56
 Sites should use CHECK^XTSUMBLD to verify checksums.
     
 
SOFTWARE RETRIEVAL:
===================
   
   The following software and documentation files are exported as part of
   this patch:
  
    File Name           Contents                         Retrieval Format
    ---------           --------                         ----------------
    LAB_LEDI_II.KID     LA*5.2*46 KIDS build                 ASCII
                        LR*5.2*222 KIDS build
 
    LAB_LEDI_II_IG.PDF  LABORATORY ELECTRONIC DATA           BINARY
    LAB_LEDI_II_IG.DOC   INTERCHANGE PHASE II (LEDI II)
                         INSTALLATION GUIDE
 
    LAB_LEDI_II_UM.PDF  LABORATORY ELECTRONIC DATA           BINARY
    LAB_LEDI_II_UM.DOC   INTERCHANGE PHASE II (LEDI II)
                         USER MANUAL
 
   The software files are available on one of the following OI Field
   Offices' ANONYMOUS.SOFTWARE directories.
 
   All sites are encouraged to use their FTP capability to obtain these 
   files.  Use the FTP address "download.vista.domain.ext" (without the
   quotes) to connect to the first available FTP server where the files
   are located.
 
      OI FIELD OFFICE    FTP ADDRESS                DIRECTORY
      ===============    ===========                =========
      ALBANY             ftp.fo-albany.domain.ext   [ANONYMOUS.SOFTWARE]
      HINES              ftp.fo-hines.domain.ext    [ANONYMOUS.SOFTWARE]
      SALT LAKE          ftp.fo-slc.domain.ext      [ANONYMOUS.SOFTWARE]
 


INSTALLATION INSTRUCTIONS
-------------------------
  The instructions for installation of the software are included in the
  installation guide.


POST-INSTALLATION INSTRUCTIONS
------------------------------
 
 
  The post-instructions for installation of the software are included in
  the installation guide.
  
 
INSTALLATION EXAMPLE
====================
 
  An installation example is included in the installation guide.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;61 SEQ #45</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-06-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*61 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LA*5.2*61 addresses several NOIS'es involving the Laboratory
Electronic Data Interchange (LEDI) software. 

  ********************************************************************
  *                                                                  *
  * Collecting facilities: Upon host laboratory installation of this *
  * patch, the HL7 Result (ORU) message will no longer contain the   *
  * performing laboratory comment. See item #7 for instructions.     *
  *                                                                  *
  * Host facilities: Notify your collection facilities of scheduled  *
  * patch installation.                                              *
  *                                                                  *
  ********************************************************************
 
1. NOIS HWH-0202-42779 and LAS-0402-61457 reported a problem in the
building of a HL7 Order (ORM) message. Under certain circumstances, the
software was passing the collecting facility station number instead of
an INSTITUTION file (#4) internal entry number to a Lab HL7 field building
routine. Construction of the collecting facility's HL7 Order (ORM) message
ORC segment's field ENTERING ORGANIZATION (ORC-17) placed the VA station
number in the field's second sub-component instead of the first
sub-component. This occurs when the collecting facility's VA station
number is alphanumeric. When processing the ORM message at the host
facility the building of the LAB PENDING ORDERS ENTRY file (#69.6)
either identified the wrong collecting facility or was unable to identify
a collecting facility. Option Referral Patient Multi-purpose Accession
[LRLEDI] is unable to extract the test orders from file #69.6 when the
host facility attempts to process the shipping manifest. Routine LA7VORM1
has been changed to pass a pointer for file #4 instead of the VA station
number to the ORC-17 field building routine.
 
2. During review of NOIS HWH-0202-42779 a problem with the "CH" and
"CH1" MUMPS cross-references on COLLECTING FACILITY (#.02) and HOST
FACILITY (#.03) fields respectively of the LAB SHIPPING CONFIGURATION
file (#62.9) was identified. Multiple entries in this cross-reference
pointed to the same entry in the file. The "KILL" logic for these cross-
references does not perform correctly, leaving incorrect entries in
the "CH" cross-reference. These two MUMPS cross-references are replaced
by a single new style FileMan Regular INDEX file cross-reference named
"CH". The cross-reference "ASC" on LAB MESSAGING LINK field (#.07) will
be removed due to its lack of use by the laboratory software.
The KIDS pre-install will delete these fields and cross-references
during patch installation. Patch LA*5.2*61 will install these fields with
the new cross-reference "CH" and re-index the "CH" cross-reference.
 
3. NOIS CON-0302-10181 reported the option Edit Shipping Configuration
[LA7S EDIT 62.9] was prompting the user to edit unexpected fields
within the TEST/PROFILE (#60) subfile, specifically fields ACCESSION
AREA (#.02) and SPECIMEN (#.03), when a host facility configures a
shipping configuration to receive specimens from a collecting facility.
It was determined that variables setup for a FileMan DIC API call to
select an entry in file #62.9 were later interacting with a FileMan DIE
API call to edit the selected entry. The routine LA7SCE has been modified
to kill required FileMan DIC input variables before making the FileMan
DIE call.
 
4. NOIS PHI-0302-20433 reported a problem with the setting of the "Q"
cross-reference on field STATUS (#2) in LA7 MESSAGE QUEUE file (#62.49).
The setting of the cross-reference could fail when other fields that the
cross-reference is dependent on have not been valued. A previous patch
changed lab code to use FileMan DBS calls instead of classic FileMan
calls. These DBS calls file data by field number. Previously FileMan
filed the fields in the order specified in the DR variable. This causes
the MUMPS cross-references to fail at times when the other fields the
cross-reference is dependent on, have not been filed or updated.
A similar problem potentially exists for the ORU cross-reference on this
same field. These two MUMPS cross-references are replaced by new style
FileMan Regular INDEX file cross-reference named "Q" and "AC" respectively.
The KIDS pre-install will delete these fields and cross-references during
patch installation. Patch LA*5.2*61 will install this field with the new
cross-references.
 
5. NOIS BHS-0302-10236 reported a problem with an accession/test building
multiples times on a shipping manifest. This was caused when a test is
specified multiple times on the shipping configuration but with different
specimen types. The logic to build the test onto the manifest was not
clearing a flag to indicate that a test should be added to the manifest
when checking the test for each of the possible specimens to build.
Routine LA7SM1 will now set and clear the flag to add a test when the
configuration specifies the same test for multiple specimens. 
 
6. NOIS LON-0402-60012 reported a problem when a host facility uses "dummy"
tests to report patient results. These "dummy" results along with the 
patient's actual test results were transmitted in an HL7 ORU Result message
to the collecting facility. These test results were encoded with the parent
test's result NLT and LOINC codes due to lack of proper result code mapping.
Routines LA7VOBX1 and LA7VHLU1 will now attempt to identify test results
which are associated with LABORATORY TEST file (#60) tests that are TYPE =
BOTH or OUTPUT to determine if a specific test result is returned to the
collecting facility. 

7. NOIS BHS-0302-10236 reported a problem with the generation of the
performing laboratory comment that is automatically added to the HL7
Result (ORU) message. The name of the performing laboratory was based
on the name of the primary facility. This name is incorrect when testing
is performed by a division of an integrated facility. To correct this 
problem the software will no longer generate a performing laboratory
comment. 

Collecting facilities wanting a comment indicating the name of the
performing laboratory should turn on the generation of the performing
laboratory comment when processing the results at the collecting facility.
To turn on the generation of the performing laboratory comment use the
option LEDI Setup [LA7V SETUP]. Under the host facility automated
instrument section for each test, enter a remark prefix in field REMARK
PREFIX (#19) and "YES" at the field STORE PRODUCER'S ID (#20). The
performing laboratory comment can then be generated based on field OBX-15
Producer's ID in the OBX segment for each test result found in the HL7
Result (ORU) message. The comment generated by the software will be 
remark prefix_"results from "_name of performing institution from 
INSTITUTION file (#4). If the REMARK PREFIX field is blank then the test
name of the corresponding test from LABORATORY TEST file (#60) is used.
 
Example:
     remark prefix="Theophylline "
       institution="REGION 7 ISC,TX (DEMO)"
 generated comment="Theophylline results from REGION 7 ISC,TX (DEMO)"

8. NOIS IND-0402-42261 reported a problem with building and sending HL7
Result (ORU) messages to the collecting facility. Accessions with UID's
that are alphanumeric were skipped during message building due to code
that was treating the UID as numeric. Routine LA7VMSG1 will now handle
alphanumeric UID's and return results to the collecting facility.
 
9. Due to changes to routine LA7VORU, which resulted in the routine size 
exceeding the VA Vista Programming Standards and Conventions (SAC) of
10,000 characters, the routine was split into two routines, LA7VORU
and LA7VORUA.
 
 
ASSOCIATED NOIS
---------------
 BHS-0302-10236
 CON-0302-10181
 HWH-0202-42779
 IND-0402-42261
 LAS-0402-61457
 LON-0402-60012
 PHI-0302-20433
 
 
TEST SITES
----------
 Boston HCS
 Indianapolis VAMC
 Lexington VAMC
 Long Beach HCS
 Louisville VAMC
 Milwaukee VAMC
 Philadelphia VAMC
 Southern Nevada HCS
 VA Heartland - East, VISN 15
 VA Heartland - West, VISN 15 
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA61             N/A            9395003        **61** (Deleted by KIDS)
   LA7QRY1          3509927        3555910        **46,61**
   LA7SCE           11402708       11501726       **27,46,61**
   LA7SM1           8553973        8587872        **27,46,61**
   LA7VHLU1         2011157        2323481        **46,61**
   LA7VHLU2         3873916        4100825        **46,61**
   LA7VMSG1         8200340        8227296        **56,46,61**
   LA7VOBX1         3799868        3981059        **46,61**
   LA7VORM1         7601990        7594289        **27,51,46,61**
   LA7VORU          8070282        6241961        **27,46,61**
   LA7VORUA         N/A            2199285        **61**
            
 List of preceding patches: 46
 Sites should use CHECK^XTSUMBLD to verify checksums.  
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 10 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Perform the following steps if applicable: 
      All Lab LEDI (LA7V*) related HL v1.6 LLPs should be shutdown.
      Use the HL menu option Start/Stop Links [HL START] to shutdown
      these LLPs if they are running.


  7.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*61'.  When prompted "Want KIDS to
      Rebuild Menu Trees Upon Completion of Install? YES//', choose 'NO'
      When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//', choose 'NO'.  When prompted 'Want to DISABLE Scheduled
      Options, Menu Options, and Protocols? YES//', choose 'YES'.

      All LA7V* protocols should be placed out of service during the install.
      This can be accomplished by answering the KIDS install questions:
 
        Want to DISABLE Scheduled Options, Menu Options, and Protocols?
        YES//', choose 'YES'.
 
        Enter options you wish to mark as 'Out Of Order': &lt;RET&gt;
 
        Enter protocols you wish to mark as 'Out Of Order': LA7V*

 
      Note: KIDS will disable the following options during installation.
       Edit Shipping Configuration [LA7S EDIT 62.9]
       Enter/verify/modify data (manual) [LRENTER]
       Enter/verify data (auto instrument) [LRVR]
       Enter/verify data (Work list) [LRVRW]
       Enter/verify data (Load list) [LRVRW2]
       Referral Patient Multi-purpose Accession [LRLEDI]
 
  8. On a mapped system, rebuild your map set.
 
 Note: Routine LA61 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
 
1. Restart any LA7V* HL v1.6 LLP's shutdown as part of the patch
installation process. Use the Start LLP [HL START] option to restart
LA7V* HL v1.6 LLP's.
 
2. LEDI Host laboratories should notify their LEDI collecting facilities
of removal of performing laboratory comment from HL7 Result (ORU) messages.
See item #7 in patch description above for actions collecting facilities
should take.
 
 
************************************************************************
Installation example:
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:  LA*5.2*61  Loaded from Distribution  4/23/02@10:39:43
     =&gt; LA*5.2*61
 
This Distribution was loaded on Apr 23, 2002@10:39:43 with header of
   LA*5.2*61
   It consisted of the following Install(s):
      LA*5.2*61
Checking Install for Package LA*5.2*61
Will first run the Environment Check Routine, LA61
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*61
 
Incoming Files:
 
 
   62.49     LA7 MESSAGE QUEUE  (Partial Definition)
Note:  You already have the 'LA7 MESSAGE QUEUE' File.
 
 
   62.9      LAB SHIPPING CONFIGURATION  (Partial Definition)
Note:  You already have the 'LAB SHIPPING CONFIGURATION' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//
 
Enter options you wish to mark as 'Out Of Order':
 
Enter protocols you wish to mark as 'Out Of Order': LA7V*
 
Enter protocols you wish to mark as 'Out Of Order':
 
Delay Install (Minutes):  (0-60): 0//
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET VIRTUAL
 
 
 Install Started for LA*5.2*61 :
               Apr 23, 2002@10:44:07
 
Build Distribution Date: Apr 23, 2002
 
 Installing Routines:...........
               Apr 23, 2002@10:44:07
 
 Running Pre-Install Routine: PRE^LA61.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
       *** Removing COLLECTING FACILITY (#.02), HOST FACILITY (#.03), ***
 
                  *** and LAB MESSAGING LINK (#.07) fields ***
 
              *** from LAB SHIPPING CONFIGURATION file (#62.9) ***
 
             *** These fields will be reinstalled by this patch ***
 
    *** Removing STATUS (#2) field from LA7 MESSAGE QUEUE file (#62.49) ***
 
              *** This field will be reinstalled by this patch ***
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries: ...
               Apr 23, 2002@10:44:09
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION.......
               Apr 23, 2002@10:44:09
 
 Running Post-Install Routine: POST^LA61.
 
                          *** Post install started ***
 
*** Deleting "ASC" cross-reference on LAB SHIPPING CONFIGURATION file (#62.9) ***
 
*** Deleting "CH" cross-reference on LAB SHIPPING CONFIGURATION file (#62.9) ***
 
*** Building "CH" cross-reference on LAB SHIPPING CONFIGURATION file (#62.9) ***
 
                          *** Completed reindexing ***
 
   *** Deleting "ORU" cross-reference on LA7 MESSAGE QUEUE file (#62.49) ***
 
    *** Building "AC" cross-reference on LA7 MESSAGE QUEUE file (#62.49) ***
 
                          *** Completed reindexing ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*61 Installed.
               Apr 23, 2002@10:44:10
 
 Install Message sent #XXXXX 
 
Select Installation Option: 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;62 SEQ #46</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-08-15 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*62 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LA*5.2*62 implements support for patch HL*1.6*91 NAMESPACE field
(#16) in HL7 MESSAGE TEXT file (#772). The Laboratory HL7 clients
Laboratory Electronic Data Interchange (LEDI) and CareVue will pass the
namespace "LA" in the HL7 APIs that create messages or acknowledgements.
 
During patch development, a software review identified the variable
HLRESLT, returned by various HL package APIs, misspelled in routines
LA7DVC and LA7DVM. The patch corrects the spelling of this variable.
Additionally, these two routines referenced the variable VAIN(4) before
the variable was initialized. This patch calls supported API INP^VADPT
to initialize VAIN(4). 
 

ASSOCIATED NOIS
---------------
 NONE
 
 
TEST SITES
----------
 Durham VAMC
 Milwaukee VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA62             N/A            4560523        **62** (Deleted by KIDS)
   LA7DVC           7338732        7449294        **53,62**
   LA7DVM           6949969        7061863        **53,58,62**
   LA7VHL           4500486        4568355        **27,46,62**
   LA7VHLU          4469720        4487468        **46,62**
   
 List of preceding patches: 46, 58
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 10 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Perform the following steps if applicable:
      All Lab LEDI (LA7V*) related HL v1.6 LLPs should be shutdown.
      All CareVue related LLPs should be shutdown.
      Use the HL menu option Start/Stop Links [HL START] to shutdown
      these LLPs if they are running.
 
 
  7.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*62'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'YES'.
 
      All LA7V* and LA7D* protocols should be placed out of service during
      the install. This can be accomplished by answering the KIDS install
      questions:
 
        Want to DISABLE Scheduled Options, Menu Options, and Protocols?
        YES//', choose 'YES'.
 
        Enter options you wish to mark as 'Out Of Order': &lt;RET&gt;
        Enter protocols you wish to mark as 'Out Of Order': LA7V*
        Enter protocols you wish to mark as 'Out Of Order': LA7D*
 
 
 
  8. On a mapped system, rebuild your map set.
 
 Note: Routine LA62 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
 
1. Restart any LA7V* and CareVue HL v1.6 LLP's shutdown as part of the
patch installation process. Use the Start LLP [HL START] option to
restart LA7V* and CareVue HL v1.6 LLP's.
 
 
************************************************************************
Installation example:
 
 Select Installation Option:  Install Package(s)
 Select INSTALL NAME:  LA*5.2*62  Loaded from Distribution 6/10/02@16:05:04
     =&gt; LA*5.2*62
 
This Distribution was loaded on Jun 10, 2002@16:05:04 with header of
   LA*5.2*62
   It consisted of the following Install(s):
      LA*5.2*62
Checking Install for Package LA*5.2*62
Will first run the Environment Check Routine, LA62
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*62
 
 
 
Want KIDS to INHIBIT LOGONs during the install? NO//
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//
 
Enter options you wish to mark as 'Out Of Order':
 
Enter protocols you wish to mark as 'Out Of Order': LA7V*
 
Enter protocols you wish to mark as 'Out Of Order': LA7D*
 
Enter protocols you wish to mark as 'Out Of Order':
 
Delay Install (Minutes):  (0-60): 0//
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LA*5.2*62 :
               Jun 10, 2002@16:10:21
 
Build Distribution Date: Jun 10, 2002
 
 Installing Routines:......
               Jun 10, 2002@16:10:21
 
 Running Pre-Install Routine: PRE^LA62.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Running Post-Install Routine: POST^LA62.
 
                          *** Post install started ***
 
                         *** Post install completed ***
 
                  --- No actions required for post install ---
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*62 Installed.
               Jun 10, 2002@16:10:22
 
 Install Message sent #xxxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;65 SEQ #47</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-09-06 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*65 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LA*5.2*65 corrects a null subscript error in routine LA7SMU1. The
error occurs when processing a HL7 Result (ORU) message that contains
an invalid shipping manifest number. The routine will check for a valid
pointer to file LAB SHIPPING MANIFEST (#62.8) before attempting to
associate a test result with it's associated test on a shipping manifest.
 
 
 
ASSOCIATED NOIS
---------------
 ALB-0602-51133
 
 
TEST SITES
----------
 Albuquerque VAMC
 Milwaukee VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA65             N/A            4454886        **65** (Deleted by KIDS)
   LA7SMU1          6241668        6300206        **27,46,65** 

 List of preceding patches: 46
 Sites should use CHECK^XTSUMBLD to verify checksums. 
 
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Perform the following steps if applicable:
      All Lab LEDI (LA7V*) related HL v1.6 LLPs should be shutdown.
      Use the HL menu option Start/Stop Links [HL START] to shutdown
      these LLPs if they are running.
 
 
  7.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*65'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.

  
  8. On a mapped system, rebuild your map set.
 
 Note: Routine LA65 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
 
1. Restart any LA7V* HL v1.6 LLP's shutdown as part of the patch
installation process. Use the Start LLP [HL START] option to restart
LA7V* HL v1.6 LLP's.
 
 
************************************************************************
Installation example: 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LA*5.2*65  Loaded from Distribution  6/12/02@14:13:22
     =&gt; LA*5.2*65
 
This Distribution was loaded on Jun 12, 2002@14:13:22 with header of
   LA*5.2*65
   It consisted of the following Install(s):
      LA*5.2*65
Checking Install for Package LA*5.2*65
Will first run the Environment Check Routine, LA65
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*65
 
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  UCX/TELNET
 
 
 Install Started for LA*5.2*65 :
               Jun 12, 2002@14:14:05
 
Build Distribution Date: Jun 12, 2002
 
 Installing Routines:...
               Jun 12, 2002@14:14:05
 
 Running Pre-Install Routine: PRE^LA65.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required---
 
                         *** Pre install completed ***
 
 Running Post-Install Routine: POST^LA65.
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*65 Installed.
               Jun 12, 2002@14:14:05
 
 Install Message sent #XXXXX
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;63 SEQ #48</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-10-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LA*5.2*63 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LA*5.2*63 corrects a defect in LOINC encoding of test results in
the OBX segment of a Lab HL7 Result (ORU) message. The segment building 
routine LA7VOBX1 was failing to check and use a default LOINC code when
available if the test results have not been LOINC mapped. The software
will check and use the default LOINC code when results are not LOINC
mapped.
 
 
ASSOCIATED NOIS
---------------
 ISD-0602-71432
 
 
TEST SITES
----------
 Milwaukee VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA63             N/A            4454878        **63** (Deleted by KIDS)
   LA7VOBX1         3981059        4057776        **46,61,63**
  
 List of preceding patches: 61
 Sites should use CHECK^XTSUMBLD to verify checksums. 
 
 
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system. Laboratory
  users should not use the lab verification options during patch
  installation. KIDS will disable the Laboratory test verification options.
  Patch installation should not occur during execution of the Clinical
  Case Registries scheduled task option Registry Update &amp; Data Extraction
  [ROR TASK]. Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*63'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
      KIDS will disable the following options:
        Enter/verify data (auto instrument) [LRVR]
        Enter/verify data (Work list) [LRVRW]
        Enter/verify data (Load list) [LRVRW2]
        Enter/verify/modify data (manual) [LRENTER]
        Group verify (EA, EL, EW) [LRGV]
        Bypass normal data entry [LRFAST]
        Fast Bypass Data Entry/Verify [LRFASTS]
 
  7. On a mapped system, rebuild your map set.
 
 Note: Routine LA63 will be deleted after successful patch installation.
 
 
 
************************************************************************
Installation example: 
 
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: LA*5.2*63 Loaded from Distribution  6/13/02@10:59:27
     =&gt; LA*5.2*63
 
This Distribution was loaded on Jun 13, 2002@10:59:27 with header of
   LA*5.2*63
   It consisted of the following Install(s):
      LA*5.2*63
Checking Install for Package LA*5.2*63
Will first run the Environment Check Routine, LA63
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*63
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LA*5.2*63 :
               Jun 13, 2002@10:59:49
 
Build Distribution Date: Jun 13, 2002
 
 Installing Routines:...
               Jun 13, 2002@10:59:49
 
 Running Pre-Install Routine: PRE^LA63.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION........
               Jun 13, 2002@10:59:49
 
 Running Post-Install Routine: POST^LA63.
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*63 Installed.
               Jun 13, 2002@10:59:50
 
 Install Message sent #xxxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;69 SEQ #49</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-03-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Lab API's for extracting Chemistry, Cytopathology, Surgical Pathology
and Microbiology data.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;70 SEQ #50</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-11-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Refer to the National Patch Module
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;64</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-12-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*64 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.

EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*64 does not
alter or modify any software design safeguards or safety critical elements
functions.

RISK ANALYSIS: Changes made by patch LA*5.2*64 have no effect on Blood Bank
software functionality, therefore RISK is none.

VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.

=======================================================================
This patch adds support for sending/receiving Laboratory Electronic
Data Interchange (LEDI) orders/results with Department of Defense (DoD)
facilities and implements enhancements to general LEDI functionality.
 
 
1. The process of building orders in the LAB PENDING ORDERS ENTRY file
(#69.6) has been enhanced to use additional information from the HL7 Order
(ORM) message. It will store the following information when available in the
LAB PENDING ORDERS ENTRY file (#69.6):
 - patient's race
 - order comments
 - test results that accompany an order 

2. The new option Start a Shipping Manifest [LA7S MANIFEST START] will
allow a manifest to be started without performing a manifest build.
Specimens can then be added manually, instead of automatically, using
option Add/Remove a Shipping Manifest Test [LA7S MANIFEST TEST ADD/REMOVE].

3. The new option Edit Relevant Clinical Information [LA7S MANIFEST
CLINICAL INFO] is used to enter relevant clinical information that
should accompany a test order on a manifest.
 
4. Converted supported API calls $$FMDATE^HLFNC and $$HLDATE^HLFNC to
recommended Kernel supported API's $$HL7TFM^XLFDT and $$FMTHL7^XLFDT
respectively.
 
5. Routine LA7VHL changed to call HL7 supported API RSPINIT^HLFNC2 to
obtain message delimiters that HL7 package will use when building MSH
header of application acknowledgement message. Previous call to
INIT^HLFNC would return incorrect headers under certain conditions.
See patch HL*1.6*101 for additional information.
 
6. Routine LA7VMSG1 changed to check if $QUERY of ^TMP global has
returned a null value. Under certain conditions an illegal function call
error could be observed.
 
7. Changed routines LA7VLL, LA7VSTP, and LA7VSTP1 to setup LA7V* logical
links without &lt;space&gt; between "LA7V" and station number. Allows HL7 package
to display logical links for DoD sites which utilize DoD DMIS ID codes as
facility identifiers similar to VA station numbers. HL7 package only
displays first 8 characters of logical link name. Option LEDI Setup
[LA7V SETUP] will only support creation of TCP logical links.
 
8. Routine LA7PURG is changed to purge shipping manifests from LAB
SHIPPING MANIFEST file (#62.8) when all related accessions have been
purged from ACCESSION file (#68) (E3R #18036). Orders in the LAB PENDING
ORDERS ENTRY file (#69.6) are purged when the date completed is &gt;365
days, when the order transmitted date is &gt;720 days or when the order
transmitted date is &gt;360 and the order status is Results/data Received.
 
9. When selecting a shipping manifest the list of entries to select
from will list the manifests in inverse order with the most recent
being displayed first. (E3R #18036)
 
10. Requesting provider's office phone, voice and digital pager numbers
will be printed on working copies of shipping manifest. (E3R #17914)
 
11. Four new alerts/mail bulletins are generated when processing LEDI
HL7 messages. These alerts and corresponding bulletins are addressed to
the mail group designated to receive the NEW RESULTS alert specified
by the site in LA7 MESSAGE PARAMETER file (#62.48) for LEDI type
interfaces.
 
   a. Mail bulletin: LA7 ABNORMAL RESULTS RECEIVED
   Mail bulletin created by Laboratory package when processing a LEDI
   interface type HL7 result (ORU) message which contains laboratory
   testing results that are flagged as critical or abnormal.  Values
   that are critical will always trigger the alert and bulletin. Values
   that are abnormal low or high will be triggered when site has flagged
   the corresponding test in AUTO INSTRUMENT file (#62.4), NOTIFY ABNORMAL
   FLAGS field (#22) within the CHEM TEST multiple (#30) for the interface.
 
   b. Mail bulletin: LA7 AMENDED RESULTS RECEIVED
   Mail bulletin created by Laboratory package when processing a LEDI
   interface type HL7 result (ORU) message which contains laboratory
   testing results that are flagged as amended.
 
   c. Mail bulletin: LA7 UNITS/NORMALS CHANGED
   Mail bulletin created by Laboratory package when processing a LEDI
   interface type HL7 result (ORU) message which contains laboratory
   test result units and/or normals different from values specified for
   test in LABORATORY TEST file (#60) and which are flagged to be used
   for reference testing purposes.
 
   d. Mail bulletin: LA7 ORDER STATUS CHANGED
   Mail bulletin created by Laboratory package when processing a LEDI
   interface type HL7 message.

   Bulletin will be generated for the following conditions:
 
   - When an order acknowledgment (ORR) message contains laboratory
   test order status changes that indicate the order is not correct or
   cannot be performed/completed. Currently only supported on LEDI
   interfaces with DoD facilities.
 
   - When an order result (ORU) message indicates that a laboratory
   test has been added by the reference laboratory to the original order.
 
12. Corrected a spelling error in set of codes for LAB SHIPPING
CONFIGURATION file (#62.9), COLLECTING FACILITY'S SPEC ID field (#.05).
 
13. Internal review determined that the specimen container was not printing
on working copies of shipping manifests. When printing working versions
of a shipping manifest the specimen container will be printed.
  
14. A new error bulletin #47 has been added to LA7 MESSAGE LOG BULLETINS
file (#62.485). When processing LEDI orders if any of the following are
incomplete - local test, local urgency, local topography or local collection
sample then the bulletin will be triggered. This is to insure that orders
sent by the collecting facility are not missed when processed during LEDI
Referral Patient Accessioning. If this bulletin is triggered it indicates
that the host site's shipping configuration is not properly configured to
process orders from it's collecting site.
  
  
ASSOCIATED E3R
--------------
 E3R #17914, PROVIDER CONTACT NUMBERS ON MANIFEST
 E3R #17904, LEDI BETWEEN VA AND DOD SITES
 E3R #18036, UNABLE TO PURGE SHIPPING MANIFESTS
 
ASSOCIATED NOIS
---------------
 ISA-0398-10075 
 
 
TEST SITES
----------
 Albuquerque VAMC - VMS/DSM and VMS/Cache
 Boston HCS - VMS/DSM and VMS/Cache
 El Paso HCS - NT/Cache and VMS/Cache
 Hines VAMC - VMS/DSM and VMS/Cache
 Honolulu VAMC - NT/Cache
 Manchester VAMC - NT/Cache and VMS/Cache
 Milwaukee VAMC - VMS/DSM
 North Chicago VAMC - VMS/DSM
 Salt Lake City VAMC - VMS/DSM
 San Diego VAMC - VMS/DSM and VMS/Cache
 Upstate New York HCS - VMS/DSM and VMS/Cache


 INSTALLATION FILES:
 ==================
 The following software and documentation files are exported as part of
 this patch:
  
    File Name             Contents                     Retrieval Format
    ---------             --------                     ----------------
               
LAB_LEDI_III.KID        LA*5.2*64 KIDS build           ASCII
                        LR*5.2*286 KIDS build


LAB_LEDI_III_IG.PDF     LABORATORY ELECTRONIC DATA     BINARY
                        INSTALLATION GUIDE     

LAB_LEDI_III_IMP_UG.PDF LABORATORY ELECTRONIC DATA     BINARY
                        IMPLEMENTATION AND USER GUIDE  

 The files listed above may be obtained via FTP.  The preferred method is
 to FTP the files from:
 
    download.vista.domain.ext
 
 This transmits the files from the first available FTP server.  Sites may
 also elect to retrieve software directly from a specific server as
 follows:
 
    CIO FIELD OFFICE   FTP ADDRESS                 DIRECTORY
    ----------------   -------------------------   --------------------
    Albany             ftp.fo-albany.domain.ext    [anonymous.software]
    Hines              ftp.fo-hines.domain.ext     [anonymous.software]
    Salt Lake City     ftp.fo-slc.domain.ext       [anonymous.software]
  
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA64             N/A            5936440        **64** (Deleted by KIDS)
   LA7PURG          3834284        4599657        **27,64**
   LA7SBCR1         4924406        5434157        **27,46,64**
   LA7SBCR2         2564479        2593598        **27,46,64**
   LA7SCE           11501726       13339015       **27,46,61,64**
   LA7SM2           12143125       16026225       **46,64**
   LA7SMB           14649107       12799432       **27,46,64**
   LA7SMP           11746903       12373162       **27,45,46,64**
   LA7SMP0          9303222        10961615       **46,64**
   LA7SMPXL         3215234        4682314        **27,42,46,64**
   LA7SMU           7104257        7255424        **27,46,64**
   LA7SMU1          6300206        6311796        **27,46,65,64**
   LA7SMU2          5290542        7549846        **46,64**
   LA7SRR           6233015        7637904        **46,64**
   LA7UTILA         10237097       10662046       **23,27,46,64**
   LA7VHL           4568355        5811383        **27,46,62,64**
   LA7VHLU          4487468        5914870        **46,62,64**
   LA7VHLU1         2323481        3267492        **46,61,64**
   LA7VHLU2         4100825        4356637        **46,61,64**
   LA7VHLU3         2007360        2799232        **46,64**
   LA7VHLU4         5424804        4836094        **46,64**
   LA7VHLU5         5541950        7828952        **46,64**
   LA7VIN1          5261630        5855016        **46,64**
   LA7VIN1A         N/A            13987419       **64**
   LA7VIN2          5808892        8339412        **46,64**
   LA7VIN3          2061956        3081309        **46,64**
   LA7VIN4          7936019        12162627       **46,64**
   LA7VIN5          5205707        10570600       **46,64**
   LA7VIN5A         5039195        8695039        **46,64**
   LA7VLL           5170411        6390054        **27,51,55,64**
   LA7VMSG          3253314        5080421        **27,50,56,46,64**
   LA7VMSG1         8227296        8679432        **56,46,61,64**
   LA7VOBR          2129056        2455598        **46,64**
   LA7VOBRA         5326634        8044290        **46,64**
   LA7VOBX          2088674        2633711        **46,64**
   LA7VOBX1         4057776        4535705        **46,61,63,64**
   LA7VOBX2         4350324        4309250        **46,64**
   LA7VOBX3         5240738        6460347        **46,64**
   LA7VOBXA         6416931        6372995        **46,70,64**
   LA7VORC          1565653        1713732        **46,64**
   LA7VORM          6471896        12116142       **27,42,46,64**
   LA7VORM1         7594289        9199759        **27,51,46,61,64**
   LA7VORM3         6787219        7257153        **46,64**
   LA7VORU          6241961        8366274        **27,46,61,64**
   LA7VORU1         4734718        4842743        **46,64**
   LA7VORU2         1962290        2531397        **46,64**
   LA7VORUA         2199285        2385822        **61,64**
   LA7VPID          4123683        4823699        **46,64**
   LA7VSET          15979413       14514051       **27,51,55,46,64**
   LA7VSET1         9065449        7835525        **27,51,55,46,64**
   LA7VSTP          6079680        4597827        **27,44,51,46,64**
   LA7VSTP1         3317926        3042573        **27,46,64**
   LAGEN            8522786        8715369        **1,17,22,27,47,46,64**
 
 List of preceding patches: 46, 61, 62, 63, 65, 70
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
INSTALLATION INSTRUCTIONS
=========================
 
See LABORATORY ELECTRONIC DATA INTERCHANGE III (LEDI III) INSTALLATION GUIDE
    LA*5.2*64/LR*5.2*286
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;71 SEQ #52</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-06-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance
====================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*71 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.

EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*71 does not
alter or modify any software design safeguards or safety critical elements
functions.

RISK ANALYSIS: Changes made by patch LA*5.2*71 have no effect on Blood
Bank software functionality, therefore RISK is none.

VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.
 
 
NOIS NCH-0105-417985 reported the inability to verify corrected 
Laboratory Electronic Data Interchange (LEDI) results when the reference
(host) laboratory removes the previously reported result and changes the
result to 'pending'. The result of 'pending' was not being sent to the
collecting facility via LEDI HL7 messaging.
 
This patch allows users at the collecting facility who are verifying
reference laboratory results to release amended (corrected) results
that are 'pending'.
 
 
 
 ASSOCIATED E3R
 --------------
 None
 
 ASSOCIATED NOIS
 ---------------
 NCH-0105-417985/Remedy ticket HD0000000071220
 
 
 TEST SITES
 ----------
 Boston HCS
 Durham VAMC
 Hines VAMC
 Milwaukee VAMC
 North Chicago VAMC
  
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA71             N/A            4588676        **71** (Deleted by KIDS)
   LA7VOBX1         4535705        4442510        **46,61,63,64,71**
   LA7VORU          8366274        8469558        **27,46,61,64,71**
  
 List of preceding patches: 64
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LA*5.2*71):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*71'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
      The install will automatically disable the following options:
 
       Accession order then immediately enter data LR ACC THEN DATA
       Batch data entry (chem, hem, tox, etc.) [LRSTUF]
       Bypass normal data entry [LRFAST]
       Enter/verify data (Load list) [LRVRW2]
       Enter/verify data (Work list) [LRVRW]
       Enter/verify data (auto instrument) [LRVR]
       Enter/verify/modify data (manual) [LRENTER]
       Fast Bypass Data Entry/Verify [LRFASTS]
       Group verify (EA, EL, EW)[ LRGV]
       Special test accessioning [LRNONCOM]
 
  6.  On a mapped system, rebuild your map set.
 
 Note: Routine LA71 will be deleted after successful patch installation.
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option:
 
Select Kernel Installation &amp; Distribution System Option:  Installation
 
Select Installation Option:  Install Package(s)
Select INSTALL NAME: LA*5.2*71  Loaded from Distribution 1/31/05@14:21:40
     =&gt; LA*5.2*71
 
This Distribution was loaded on Jan 31, 2005@14:21:40 with header of
   LA*5.2*71
   It consisted of the following Install(s):
      LA*5.2*71
Checking Install for Package LA*5.2*71
Will first run the Environment Check Routine, LA71
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*71
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LA*5.2*71 :
               Jan 31, 2005@14:22:11
 
Build Distribution Date: Jan 31, 2005
 
 Installing Routines:...
               Jan 31, 2005@14:22:11
 
 Running Pre-Install Routine: PRE^LA71.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION...........
               Jan 31, 2005@14:22:11
 
 Running Post-Install Routine: POST^LA71.
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*71 Installed.
               Jan 31, 2005@14:22:11
 
 Install Message sent #xxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;67</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-06-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance
====================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*67 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*67 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LA*5.2*67 have no effect on Blood Bank
software functionality, therefore RISK is none.
 
========================================
 
This patch adds support for Laboratory Point of Care (POC) interfaces.
It utilizes existing functionality provided by Laboratory Universal
Interface (UI) and Laboratory Electronic Data Interchange (LEDI) software.
It supports the transmission, processing and storing of POC test results
in the VistA Laboratory package. The ability of POC interfaces to subscribe
to VistA HL7 ADT messages for patient demographics and location information
is provided as needed. Support for 5 separate POC interfaces is provided.
 
 
NOTE: THIS PATCH WILL BE INSTALLED WITH PATCH LR*5.2*290
 
 
1. NOIS DAN-0105-41616/Remedy HD0000000071211 reported undefined DUZ("AG") 
variable when processing Lab HL7 messages. The following new 'non-human'
entries will be installed in NEW PERSON file (#200). These entries have
the approval of VA VistA Data Base Administrator.
 
 NAME: LRLAB,HL             NAME COMPONENTS: 200
  SIGNATURE BLOCK PRINTED NAME: HL LRLAB
 
 NAME: LRLAB,POC            NAME COMPONENTS: 200
  SIGNATURE BLOCK PRINTED NAME: POC LRLAB
 
User LRLAB,HL will be used by Laboratory when processing HL7 messages 
to insure a consistent Kernel environment with respect to the system-wide
DUZ variable array.
 
User LRLAB,POC will be used by Laboratory when creating POC orders and
accessions to indicate that these orders and accessions were created by
the POC interface background process. Sites should assign to the user
LRLAB,POC those divisions that will be used by POC interfaces to accession
POC results into VistA Laboratory package.
 
 
Additionally, the following changes have been made:
 
2. Removed prompt to save alert when viewing lab messaging alert in routine
LA7UXQA. This functionality is now part of Kernel Alert processing.
 
3. When logging lab messaging processing errors, FileMan DIE call in
routine LA7LOG was converted to FileMan DBS call.
 
4. Lab messaging will now check that LA7TASK NIGHTY option is scheduled
in TaskMan. If not scheduled then an alert notifying members of mail group
LAB MESSAGING will be generated. The alert message will read "Lab Messaging
- Option LA7TASK NIGHTY is not scheduled in TaskMan". Documentation
regarding tasking can be found in the VistA Laboratory LEDI User Guide and
on-line via the DESCRIPTION field of the OPTION file (#19) for this entry.
 
5. Result of 'canc' was not being processed if the test was configured to
only accept 'final' type results (HL7 Table 0085 - Observation result
status codes interpretation codes C, F, or U. Changed routine LA7VIN5A to
accept and process "canc' result with status code X.
 
 
ASSOCIATED E3R
--------------
 
ASSOCIATED NOIS/Remedy
------------------------------
DAN-0105-41616/HD0000000071211 
  
 
TEST SITES
----------
 
 Madison VAMC
 New Jersey HCS
 Salt Lake City VAMC
 Shreveport VAMC
 Upstate New York System HCS
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LA67             N/A            8196499        **67** (Deleted by KIDS)
   LA7LOG           9009311        8393092        **17,27,67**
   LA7PCFG          N/A            16069384       **67**
   LA7POC           N/A            3454800        **67**
   LA7UXQA          7260762        5623537        **27,67**
   LA7VHL           5811383        6113752        **27,46,62,64,67**
   LA7VIN           1398763        3056962        **46,67**
   LA7VIN1A         13987419       14019173       **64,67**
   LA7VIN4          12162627       12188308       **46,64,67**
   LA7VIN5A         8695039        9628469        **46,64,67**
   LAGEN            8715369        8613602        **1,17,22,27,47,46,64,67**
 
 List of preceding patches: 64
 Sites should use CHECK^XTSUMBLD to verify checksums.
       
 
INSTALLATION INSTRUCTIONS
-------------------------
See LABORATORY POINT OF CARE (POC) INTERFACE INSTALLATION AND USER GUIDE
    PATCH LA*5.2*67 AND PATCH LR*5.2*290  Version 5.2  JUNE 2005
 
Software and Documentation Retrieval Locations
==============================================
 
NOTE: All sites are encouraged to use the File Transfer Protocol (FTP)
capability. Use the FTP address "download.vista.domain.ext" (without the
quotes) to connect to the first available FTP server where the files are
located.
 
 
VistA Point of Care (POC) Interface Patches LR*5.2*290 and LA*5.2*67
software and Installation and User Guide are available at the following
Office of Information Field Offices (OIFOs) ANONYMOUS.SOFTWARE directories:
 
 
OI FIELD OFFICE        FTP ADDRESS             DIRECTORY
ALBANY ftp.fo-albany.domain.ext        [ANONYMOUS.SOFTWARE]
HINES  ftp.fo-hines.domain.ext         [ANONYMOUS.SOFTWARE]
SALT LAKE CITY ftp.fo-slc.domain.ext   [ANONYMOUS.SOFTWARE]
 
 
Software and Documentation Retrieval Format
===========================================
 
VistA Laboratory Point of Care (POC) Interface Patches LR*5.2*290 and
LA*5.2*67 software and documentation files are exported in the following
retrieval formats:
 
 
File Names                      Contents                   Retrieval Formats
==========                      ========                   =================
 
LAB_POC.KID                     KIDS build                 ASCII
 
LAB_52_LR290_LA67_POC_IUG.pdf   Laboratory Point of Care   BINARY
                                (POC) Interface Patches
                                LR*5.2*290 and LA*5.2*67
                                Installation and User Guide
 
LAB _52_LR290_LA67_POC_IUG.doc  Laboratory Point of Care   BINARY
                                (POC) Interface Patches
                                LR*5.2*290 and LA*5.2*67
                                Installation and User Guide
 
LAB_52_POC_HL7_SPEC.doc         Laboratory HL7 Interface   BINARY
                                Specification for Point of
                                Care (POC)
 
LAB_52_POC_HL7_SPEC.pdf         Laboratory HL7 Interface   BINARY
                                Specification for Point of
                                Care (POC)
  
 
POST-INSTALLATION INSTRUCTIONS
------------------------------

See LABORATORY POINT OF CARE (POC) INTERFACE INSTALLATION AND USER GUIDE
    PATCH LA*5.2*67 AND PATCH LR*5.2*290  Version 5.2  JUNE 2005
 
  
INSTALLATION EXAMPLE
====================
 
See LABORATORY POINT OF CARE (POC) INTERFACE INSTALLATION AND USER GUIDE
    PATCH LA*5.2*67 AND PATCH LR*5.2*290  Version 5.2  JUNE 2005
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;72 SEQ #54</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-06-14 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Team Coordination
============================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*72 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*72 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
RISK ANALYSIS: Changes made by patch LA*5.2*72 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
made, no specific validation requirements exist as a result of 
installation of this patch. 
************************************************************************
 
Sites reported errors logged in the error trap when receiving lab results 
back from another VA host lab via Lab Electronic Data Interchange (LEDI):
 
 
$ZE= &lt;UNDEFINED&gt;PRDID+11^LA7VIN5A
 
 . I $P(LA7PRDID,LA7CS,LA7I+2)="99VA4" S 
LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,I))
 
 
The following portion of code in PRDID^LA7VIN5A has been changed to 
reference the correct variable (LA7I instead of I): 
 
**PREVIOUS CODE**
F LA7I=1,4 D  Q:LA74                                                   
. I $P(LA7PRDID,LA7CS,LA7I+2)="99VA4" S 
LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,I))
. I 'LA74 S LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,I+1))                  
. I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7PRDID,LA7CS),1,1)           
. I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7SFAC,LA7CS),1,1)
 
 
**NEW CODE**
F LA7I=1,4 D  Q:LA74
. I $P(LA7PRDID,LA7CS,LA7I+2)="99VA4" S 
LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,LA7I))
. I 'LA74 S LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,LA7I+1))
. I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7PRDID,LA7CS),1,1)
. I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7SFAC,LA7CS),1,1)
 
 
Associated Remedy:
===============
HD0000000099666
HD0000000102341 (duplicate)
 
 
Associated E3R:
===============
N/A
 
 
Test Sites
==========
Fayetteville, NC  (565) (medium)
Hines (578) (large)
North Chicago (556) (medium)
Northern Indiana HCS (610) (medium) (integrated) 
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;AUTOMATED LAB INSTRUMENTS;&lt;patchlist&gt;;Sep 27, 1994
 
                  Checksum       Checksum
 Routine Name     Before Patch   After Patch    Patch List
     LA7VIN5A     9628469        9655113        46,64,67,72
     LA72         N/A            4388949        72 (D)
 
     (D) -- Routine deleted by KIDS after installation
     List of preceding patches: 67
     Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes.  This patch
  should be installed when Laboratory users are off the system.
 
  Suggested time to install: non-peak requirement hours.
  The installation should NOT be queued.
 
  NOTE: Kernel patches must be current on the target system to avoid
        problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
  1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  2.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  3.  Use the 'Verify Checksum in Transport Global' option and verify
      that all routines have the correct checksums.
 
  4.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  5.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LA*5.2*72'
 
      When prompted
        'Want KIDS to Rebuild Menu Trees Upon Completion of Install?' 
      choose 'NO'.  Note: Responding "Yes" to the prompt for rebuilding
      menu trees can significantly increase install time.
 
      When prompted 
         'Want KIDS to INHIBIT LOGONs during the install? 
      choose 'NO'.
 
      When prompted 
          'Want to DISABLE Scheduled Options, Menu Options, and
           Protocols?  YES//'
      choose 'NO' unless site has additional local laboratory  
      options that should be disabled during install.
 
 
 
INSTALLATION EXAMPLE
====================
 
Select KIDS OPTION: INSTALL PACKAGE(S)  
Select INSTALL NAME: LA*5.2*72       Loaded from Distribution  
7/12/05@14:19:30
     =&gt; LA*5.2*72 v1
 
This Distribution was loaded on Jul 12, 2005@14:19:30 with header of 
   LA*5.2*72 v1
   It consisted of the following Install(s):
      LA*5.2*72
Checking Install for Package LA*5.2*72
Will first run the Environment Check Routine, LA72
 
 
                        --- Environment Check is Ok --- 
 
Install Questions for LA*5.2*72
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
 
 Install Started for LA*5.2*72 : 
               Jul 12, 2005@14:20
 
Build Distribution Date: Jul 11, 2005
 
 Installing Routines:
               Jul 12, 2005@14:20
 
 Running Pre-Install Routine: PRE^LA72
 
               Sending install started alert to mail group G.LMI 
 
                          *** Pre install started *** 
 
                  --- No actions required for pre install --- 
 
                                   LA*5.2*72  
-------------------------------------------------------------------------
                         *** Pre install completed *** 
 
 Running Post-Install Routine: POST^LA72
 
                          *** Post install started *** 
 
                         *** Post install completed *** 
 
              Sending install completion alert to mail group G.LMI 
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LA*5.2*72 Installed. 
               Jul 12, 2005@14:20
 
 Install Message sent #80481
-------------------------------------------------------------------------
          +------------------------------------------------------------+
  100%    I             25             50             75               I
Complete  +------------------------------------------------------------+
 
 
Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;66 SEQ #55</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-21 14:06:08</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Blood Bank Team Coordination
 ============================
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*66 does not contain
 any changes to the VISTA BLOOD BANK Software as defined by VHA DIRECTIVE
 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*66 does not alter or
 modify any software design safeguards or safety critical elements functions.
 
 RISK ANALYSIS: Changes made by patch LA*5.2*66 have no effect on Blood Bank
 software functionality, therefore RISK is none.
 
 VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes made,
 no specific validation requirements exist as a result of installation of this
 patch.
 
 ************************************************************************
 
 This patch upgrades the Lab Universal Interface (UI) from VistA's Health Level
 Seven (HL) v1.5 to HL v1.6 including the use of v1.6 TCP/IP functionality.  It
 supports the current Lab UI HL7 Interface Specifications based on the HL7
 Standard V2.2.
 
 The current UI interface using the HL v1.5 interface will continue to function
 after patch installation.  The transition to the HL V1.6 interface can be
 accomplished after patch installation on a connection by connection basis.
 When possible, switching from the old interface to the new interface should be
 done on a per instrument basis instead of all instruments at once.  Follow the
 post installation instructions to convert an interface to the HL V1.6
 interface.
 
    Note: New Generic Instrument Manager (GIM) software must be obtained
          from the vendor in order for this new interface to work.
 
 Before the release of this patch lab instruments interfaced through TCP/IP were
 using a non-supported modification of an HL7 routine.  This patch will allow
 sites to interface their automated testing devices via supported TCP/IP
 functionality and will allow the sites to manage these interfaces using the HL7
 v1.6 package's tools.
 
 HL7 messages are HL7 version 2.2 and the messaging is composed of ORM~O01 and
 ORU~R01 messages.  Messaging uses original acknowledgement mode.  ORM messages
 use "LA7LAB" as the Sending Application and "LA7UIx" as the Receiving
 Application.  ORU messages use "LA7UIx" as the Sending Application and "LA7LAB"
 as the Receiving Application.
 
 The PROTOCOL (#101), HL7 APPLICATION PARAMETER (#771), HL LOGICAL LINK (#870)
 and LA7 MESSAGE PARAMETER (#62.48) files each have ten entries using a naming
 convention that contains "LA7UIx" (where "x" is an integer) such as "LA7UI1
 ORU-R01 EVENT 2.2" and "LA7UI1."  This convention allows the site to interface
 with multiple generic instrument managers.
 
 To setup an auto-instrument, the MESSAGE CONFIGURATION field (#8) of the AUTO
 INSTRUMENT file (#62.4) must be set to the appropriate LA7 MESSAGE PARAMETER
 file (#62.48) entry (ie LA7UI1).  Also, the FILE BUILD ENTRY field (#93) should
 equal "EN" and the FILE BUILD ROUTINE field (#94) should equal "LA7UID".
 
 In order to send/receive messages the configuration needs to be set ACTIVE via
 its STATUS field (#2) of LA7 MESSAGE PARAMETER file (#62.48).  The
 configuration must also specify which routine is used to process messages in
 LA7 MESSAGE PARAMETER file (#62.48) PROCESS DOWNLOAD field (#6) which should be
 set to "D EN^LA7UIO" for Lab Universal Interfaces.
 
   AUTO INSTRUMENT (#62.4)
     MESSAGE CONFIGURATION (#8) = LA7 MESSAGE PARAMETER entry (ie LA7UI1)
     FILE BUILD ENTRY (#93) = EN
     FILE BUILD ROUTINE (#94) = LA7UID
 
 
   LA7 MESSAGE PARAMETER (#62.48)
     STATUS (#2) = ACTIVE
     PROCESS DOWNLOAD (#6) = D EN^LA7UIO
 
 
 1)  The v1.5 interface constructed ORM message segments that were not in
 compliance with the HL7 standard.  Previously an ORC segment was followed by
 one or more OBR segments.  The HL7 standard specifies that ORC/OBR segments
 should exist as a pair so in this interface each ordered test will be sent in
 the ORM message as an ORC/OBR segment pair.  Example:
   PID...
   PV1...
   ORC...
   OBR...
   ORC...
   OBR...
 
 
 2)  HL7 message data is now checked for conflicts with HL7 delimiters.  If data
 conflicts with the message's delimiters then the data with be escape encoded
 according to HL7 rules.
 
 
 3)  In an ORM message, OBR-18 is constructed as an HL7 string data type.  The
 HL7 v1.5 interface constructed it as a coded element (CE) data type.
 
 
 4)  For Lab UI messages, if the specimen received does not match the HL7 0070
 table, an interface error message will be created unless the specimen is
 related to the LAB CONTROL NAME file (#62.3).
 
 
 5)  For Lab UI messages, any units/reference ranges received from an instrument
 are discarded as the units/reference ranges from the associated LABORATORY TEST
 file (#60) are used.
 
 
 6)  For Lab UI messages, abnormal flags received from an instrument are not
 stored.
 
 7)  The Lab UI Auto Download process (routine LA7ADL) is changed to support the
 FileMan system wide lock timeout via supported API LOCK^DILF.
 
 8. To provide for data entry consistency, results received via this
 interface are validated against the input transform for the data field
 used to store the test results. Test results received from an instrument
 that do not conform to the input transform for the related Lab Data Name
 will be rejected.
 
 If SET OF CODES is utilized as the data type for a particular interfaced
 test, the internally stored code needs to be brought into alignment with
 what the instrument is reporting. If the instrument sends a result that
 does not match what is entered in the SET OF CODES that result is
 considered not to be verifiable data.
 
 
 
 Associated Remedy:
 ===============
 HD0000000192820  lab DI at Lyons is not working Resolution:
                  Resolved by site.
                  thru UI No software changes required.
 HD0000000069104  NETWORKING DATA INNOVATIONS INSTRUMENT MGR
 HD0000000069215  LAB DI - migrate from v1.5 to v1.6 TCP
 HD0000000069217  Slow DHCP processing of lab instrument data
 
 Associated E3R:
 ===============
 N/A
 
 
 Test Sites
 ==========
  MILWAUKEE, WI -VAMC (large)
  NEW JERSEY HCS (large, integrated)
  TUCSON, AZ -VAMC (large)
 
 
 NEW OPTION:
 ========
 
   [LA7 UI SETUP]     Lab Universal Interface Setup
     Allows configuring Lab Universal Interface entries (LA7UI*) in the
     LAB MESSAGE PARAMETER file (#62.48) and corresponding entries in the
     AUTO INSTRUMENT file (#62.4) which use the Lab Universal Interface.
 
   This option is attached to menu option Lab Universal Interface Menu
   [LA7 MAIN MENU].
 
 
 PROTOCOLS:
 ==========
 The following protocols are new:
 
    LA7UI ORM-O01 EVENT 2.2
       ORM event driver for Lab Universal Interface (HL7 v1.6 upgrade)
       using HL7 messaging v2.2
 
    LA7UI ORM-O01 SUBS 2.2
       ORM subscriber for Lab Universal Interface (HL7 v1.6 upgrade) using
       HL7 messaging v2.2
 
    LA7UI ORU-R01 SUBS 2.2
       ORU subscriber for Lab Universal Interface (HL7 v1.6 upgrade) using
       HL7 messaging v2.2
 
    The following are ORU event drivers for Lab Universal Interface (HL7
    v1.6 upgrade) using HL7 messaging v2.2 :
      LA7UI1 ORU-R01 EVENT 2.2
      LA7UI2 ORU-R01 EVENT 2.2
      LA7UI3 ORU-R01 EVENT 2.2
      LA7UI4 ORU-R01 EVENT 2.2
      LA7UI5 ORU-R01 EVENT 2.2
      LA7UI6 ORU-R01 EVENT 2.2
      LA7UI7 ORU-R01 EVENT 2.2
      LA7UI8 ORU-R01 EVENT 2.2
      LA7UI9 ORU-R01 EVENT 2.2
      LA7UI10 ORU-R01 EVENT 2.2
 
 
 
 Documentation Retrieval:
 ========================
  Documentation is available on the ANONYMOUS.SOFTWARE directory at one of
  the following Office of Information (OI) Field Offices.  Sites may
  retrieve documentation in one of the following ways:
 
  1.  The preferred method is to FTP the files from:
            download.vista.domain.ext
      which will transmit the files from the first available FTP server.
 
  2.  Sites may also elect to retrieve documentation directly from a
      specific server as follows:
         Albany          ftp.fo-albany.domain.ext
         Hines           ftp.fo-hines.domain.ext
         Salt Lake City  ftp.fo-slc.domain.ext
 
 
      The documentation distribution includes:
 
 File Name          Contents                       Retrieval Formats
 ---------          --------                       -----------------
 LAB_52_LA66_INSTALL_USER_GUIDE.doc
                    Laboratory UI HL V1.6 Upgrade
                    Installation and User Guide
                    Patch LA*5.2*66                BINARY
 
 LAB_52_LA66_INSTALL_USER_GUIDE.pdf
                    Laboratory UI HL V1.6 Upgrade
                    Installation and User Guide
                    Patch LA*5.2*66                BINARY
 
 LAB_52_LA66_HL7_SPECIFICATIONS.doc
                    Laboratory UI HL V1.6 Upgrade
                    Installation and User Guide
                    Patch LA*5.2*66                BINARY
 
 LAB_52_LA66_HL7_SPECIFICATIONS.pdf
                    Laboratory UI HL V1.6 Upgrade
                    Installation and User Guide
                    Patch LA*5.2*66                BINARY
 
 
  3.  Documentation can also be retrieved from the VistA Documentation
      Library (VDL) at  http://www.domain.ext/vdl/
 
 
 
 INSTALLATION INSTRUCTIONS
 =========================
 
   The install time for this patch is less than 2 minutes.  This patch
   should be installed when Laboratory users are off the system.
 
   The Lab Universal Interface Auto Download should be shutdown before
   installing this patch.  This can be done via the Start/Stop Auto
   Download Background Job [LA7 ADL START/STOP] menu option.
 
   The KIDS environment check determines if the Lab UI Auto Download
   process is currently running:
 
     If it is running it will be automatically shutdown during patch
     installation and automatically restarted after patch installation.
 
     If the Lab UI Auto Download process is not running at patch
     installation time then KIDS will take no action with the Lab UI Auto
     download process.
 
   After patch installation is complete, check the status of the Lab UI
   Auto Download process using the option Start/Stop Auto Download
   Background Job [LA7 ADL START/STOP] and configure to normal
   operational setting (see step 6 below).
 
 
   Suggested time to install: non-peak requirement hours.
   The installation should NOT be queued.
 
    Note: Patch installation needs to be coordinated with the Laboratory
          Information Manager (LIM/ADPAC).
 
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
 
   2.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
       select the 'Installation' menu.
 
   3.  Use the 'Verify Checksum in Transport Global' option and verify
       that all routines have the correct checksums.
 
   4.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
 
   5.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LA*5.2*66'.
 
       When prompted
         'Want KIDS to Rebuild Menu Trees Upon Completion of Install?'
       choose 'NO'.  Note: Responding "Yes" to the prompt for rebuilding
       menu trees can significantly increase install time.
 
       When prompted
          'Want KIDS to INHIBIT LOGONs during the install?
       choose 'NO'.
 
       When prompted
           'Want to DISABLE Scheduled Options, Menu Options, and
            Protocols?  YES//'
       choose 'NO' unless the site has additional laboratory options that
       should be disabled during install.
 
   6. If the Lab Universal Interface Auto Download process was stopped
      manually, restart it via the Start/Stop Auto Download Background
      Job [LA7 ADL START/STOP] menu option.
 
      If the process was stopped by the KIDS install itself, the process
      will restart automatically.
 
 
   Note: Routine LA66 will be deleted after successful patch installation.
 
 
 IMPLEMENTATION INSTRUCTIONS
 ------------------------------
  See LABORATORY UNIVERSAL INTERFACE (UI) HEALTH LEVEL (HL) V1.6 UPGRADE
      INSTALLATION AND USER GUIDE  PATCH LA*5.2*66
 
 
 INSTALLATION EXAMPLE
 ====================
 
 Select Installation Option: Install Package(s) Select INSTALL NAME: LA*5.2*66
    Loaded from Distribution  9/13/07@15:03:06
      =&gt; LA*5.2*66  ;Created on Sep 13, 2007@13:07:05
 
 This Distribution was loaded on Sep 13, 2007@15:03:06 with header of
    LA*5.2*66  ;Created on Sep 13, 2007@13:07:05
    It consisted of the following Install(s):
       LA*5.2*66 Checking Install for Package LA*5.2*66 Will first run the
 Environment Check Routine, LA66
 
                Sending install started alert to mail group G.LMI
             Shutting down Lab Universal Interface Auto Download Job
 ..........
                     N O T E:  If you abort this installation
               restart the Lab Universal Interface background job.
 
                           --- Environment is okay ---
 
 Install Questions for LA*5.2*66
 
 Incoming Files:
 
 
    62.48     LA7 MESSAGE PARAMETER  (including data) Note:  You already have
 the 'LA7 MESSAGE PARAMETER' File.  I will OVERWRITE your data with mine.
 
 Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// n  NO
 
 
 Want KIDS to INHIBIT LOGONs during the install? YES// n  NO Want to DISABLE
 Scheduled Options, Menu Options, and Protocols? NO// n  NO
 
 Enter the Device you want to print the Install messages.  Enter a '^' to abort
 the install.
 
 DEVICE: HOME//   TELNET
 
 
  Install Started for LA*5.2*66 :
                Sep 13, 2007@15:03:27
 
 Build Distribution Date: Sep 13, 2007
 
  Installing Routines:
                Sep 13, 2007@15:03:28
 
  Running Pre-Install Routine: PRE^LA66
                           *** Pre install started ***
                          *** Pre install completed ***
 
  Installing Data Dictionaries:
                Sep 13, 2007@15:03:28
 
  Installing Data:
                Sep 13, 2007@15:03:28
 
  Installing PACKAGE COMPONENTS:
 
  Installing HL LOGICAL LINK
 
  Installing HL7 APPLICATION PARAMETER
 
  Installing PROTOCOL
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
   Located in the LA7 (LAB MESSAGING) namespace.
 
  Installing OPTION
                Sep 13, 2007@15:03:29
 
                                    LA*5.2*66
 ------------------------------------------------------------------------
  Running Post-Install Routine: POST^LA66
                           *** Post install started ***
          *** Updating facility name for LA7UI* entries in file #771 ***
                     *** Updating facility name completed ***
                   --- No actions required for post install ---
               Restarting Lab Universal Interface Auto Download Job
                          *** Post install completed ***
               Sending install completion alert to mail group G.LMI
 
  Updating Routine file...
 
  Updating KIDS files...
 
  LA*5.2*66 Installed.
                Sep 13, 2007@15:03:32
 
  Install Message sent #nnnnn
 ------------------------------------------------------------------------
           --------------------------------------------------------------
   100%    |             25             50             75               |
 Complete  --------------------------------------------------------------
 
 
 Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;68 SEQ #56</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-07-16 09:22:59</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance
====================
VISTA Laboratory Package patch LA*5.2*68 contains changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
Changes include: 
    New style indexes have been created for the following sub-files
    of the LAB DATA file (#63):
        ELECTRON MICROSCOPY (#63.02)
        SURGICAL PATHOLOGY (#63.08)
        CYTOPATHOLOGY (#63.09)
 
All of the above changes have been reviewed by the VISTA Blood Bank
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE
control functions.
 
RISK ANALYSIS:   Changes made by patch LA*5.2*68 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LA*5.2*68 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
POTENTIAL IMPACT ON SITES:  This patch contains changes to 0 routines and
1 file identified in Veterans Health Administration (VHA) Directive 99-053,
group B listing. The changes have no effect on Blood Bank functionality or
medical device control functions. There is no adverse potential to sites.
 
========================================
 
This patch supports the VA Health Data Repository (HDR) effort,
allowing changes to LAB DATA file (#63) to be transmitted to the HDR 
via a VistA Laboratory HL7 Result (ORU) message.
 
Additionally, it provides the capability for the transmission of the HL7
ORU message containing patient laboratory results to subscribers of the HL7
event protocol LA7 LAB RESULTS AVAILABLE (EVN) as these results are made
available within the Laboratory package. The following subscripts are
supported by the event: "CH", "MI", "SP", "CY", "EM". See post-install
instructions for enabling this capability.
 
  
****************************************************************************
  
Patch LA*5.2*68 allows the HL7 ORU message containing patient laboratory 
results to be transmitted to the subscriber, LA7 LAB RESULTS TO HDR 
(SUB). This subscriber protocol is used to transmit laboratory results to 
the VA HDR.
 
The HDR Team will contact the Chief of IRM at each site to set up the 
coordination of lab extraction (LA*5.2*68) and the activation of the 
subscriber (HDR).
 
The coordination of extracting existing laboratory data (HDR historical) 
and the configuration of the LA7 LAB RESULTS TO HDR (SUB) subscriber will 
be started at the same time. This will ensure that there is an overlap of 
laboratory results between the real time extraction of lab data and the 
historical extraction of lab data.
 
If a VA site activates the LA7 LAB RESULTS TO HDR (SUB) subscriber before 
the historical extraction of existing laboratory data, the real time 
extraction of lab data at the VA site may not be synchronized with the 
HDR data.
 
If you have questions regarding installation or implementation,
contact the HDR Project Office.
 
Once the HDR Project Office confirms that installation and implementation 
was accomplished successfully, you must log a Remedy ticket for any
subsequent problems encountered.
 
*****************************************************************************
  
 
1. The following protocols are added to the PROTOCOL file (#101)
 
NAME: LA7 LAB RESULTS ACTION
  ITEM TEXT: Lab process results for HL7 messaging
  TYPE: action                          
  PACKAGE: AUTOMATED LAB INSTRUMENTS
 DESCRIPTION:   Action protocol to setup sending lab results to HL7 message
 subscribers via protocol LA7 LAB RESULTS AVAILABLE (EVN) - Lab Results
 Available Event.  This protocol should be attached to protocol LAB RESULTS
 =&gt; EXTERNAL PACKAGE [LR7O ALL EVSEND RESULTS] which is an extended action
 protocol triggered by the lab result verification process.
  ENTRY ACTION: D QUEUE^LA7HDR          TIMESTAMP: 59056,40855
 
 
NAME: LA7 LAB RESULTS AVAILABLE (EVN)  ITEM TEXT: Lab Results Available Event
  TYPE: event driver                   
 DESCRIPTION: A VistA Laboratory package HL7 ORU result message is created
 and sent by the HL package for transmission to any subscribers of event
 protocol LA7 LAB  RESULTS AVAILABLE (EVN).
 
 It provides the capability for the generation of a Laboratory HL7 ORU
 message containing patient laboratory results to subscribers of the HL7
 event protocol LA7 LAB RESULTS AVAILABLE (EVN) as these results are made
 available within the Laboratory package.
  
 The following subscripts are supported by the event:
   "CH", "MI", "SP", "CY", "EM".
 
  TIMESTAMP: 59725,36770                SENDING APPLICATION: LA7LAB
  TRANSACTION MESSAGE TYPE: ORU         EVENT TYPE: R01
  MESSAGE STRUCTURE: ORU_R01            ACCEPT ACK CODE: AL
  APPLICATION ACK TYPE: NE              VERSION ID: 2.4
  RESPONSE PROCESSING ROUTINE: D ACK^LA7VHL
SUBSCRIBERS: LA7 LAB RESULTS TO HDR (SUB)
 
 
NAME: LA7 LAB RESULTS TO HDR (SUB)      ITEM TEXT: Send Lab Results to HDR
  TYPE: subscriber                      
 DESCRIPTION:   This protocol should be attached to the HL7 event protocol
 LA7 LAB RESULTS AVAILABLE (EVN). See this protocol for further information.
 
 This subscriber protocol is used by the Laboratory package to indicate to
 the HL package to send laboratory results to the VA Health Data Repository
 (HDR).
 
 It utilizes the "Router" Subscriber Protocol supported by the VistA HL
 package. The routing logic uses the value of the parameter passed into the
 router to determine which Laboratory package subscript should be sent to
 the HDR.
 
 Examples:
 
 ROUTING LOGIC: D RTR^LA7HDR("CH;") will only send to HDR-IMS results
 associated with Laboratory "CH" subscript.
 
 ROUTING LOGIC: D RTR^LA7HDR("MI;") will only send to HDR-IMS results
 associated with Laboratory "MI" subscript.
 
 ROUTING LOGIC: D RTR^LA7HDR("CH;MI;SP;") will only send to HDR-IMS results
 associated with Laboratory "CH", "MI", and "SP" subscripts.
 
  TIMESTAMP: 59056,40125                RECEIVING APPLICATION: LA7HDR
  EVENT TYPE: R01                       LOGICAL LINK: VDEFVIE4
  RESPONSE MESSAGE TYPE: ACK            SENDING FACILITY REQUIRED?: YES
  RECEIVING FACILITY REQUIRED?: YES     ROUTING LOGIC: D RTR^LA7HDR("CH;")
 
 NOTE: This subscriber protocol is distributed with the ROUTING LOGIC
       disabled. See post-installation instructions for guidance to
       enable the protocol.
 
2. The following option is added to the OPTION file (#19)
 
NAME: LA7 HDR RECOVER    MENU TEXT: Recover/Transmit Lab HDR Result
Messages
 TYPE: run routine                                      
 PACKAGE: AUTOMATED LAB INSTRUMENTS
 DESCRIPTION:   Option to recover from failed Lab HDR ORU Result message 
generation and/or transmission failure. This option allows the user to
select those VistA Laboratory accessions that need to be transmitted to
the VA HDR and other subscribers of the VistA Laboratory Result Available
HL7 message capability via the protocol Lab Results Available Event [LA7
LAB RESULTS AVAILABLE (EVN)].
 
If the original message generation/transmission failed due to system or 
communication problems then using this option will allow the generation of
new HL7 messages with the results associated with the selected 
accessions.  Accessions can be selected using the human-readable accession
designation (area abbreviation modified date accession number - "CH 1225
100") or the accession's associated 10 character unique identifier (UID).
 
 ROUTINE: RECOVER^LA7HDR 
 UPPERCASE MENU TEXT: RECOVER/TRANSMIT LAB HDR RESUL
 
This option is assigned to the Lab liaison menu option [LRLIAISON] and
can be assigned to other uses as needed that support/monitor message 
transmission to the VA HDR and other subscribers.
 
3. The LA7HDR routine, if the configuration LA7HDR in LA7 MESSAGE
PARAMETER file (#62.48) has an active status, queues the record for
transmission to the HDR via a HL7 ORU result message which is transmitted
by the HL package to any subscribers of event protocol LA7 LAB RESULTS
AVAILABLE (EVN) in addition to the HDR subscriber LA7 LAB RESULTS TO HDR
(SUB).
 
   The LA7 LAB RESULTS TO HDR (SUB) subscriber protocol uses the logical
link VDEFVIE4. This is a router subscriber protocol which determines
which Lab HL7 messages are sent to the HDR. See protocol description
for further information.
  
 
4. Anatomic Pathology is not "CPRS-aware" and is unable to notify CPRS of
release of anatomic pathology results. HDR will be notified of 
availability of anatomic pathology results via three new-style
cross-references in LAB DATA file (#63). These indexes will also trigger
generation of the Lab HL7 ORU message if this capability has been enabled.
 
   The three new cross-references are:
 
Subfile #63.02
 
  New-Style Indexes:
 
  AC (#98)    FIELD    MUMPS        ACTION
      Short Descr:  Notify HDR and others that this report is available.
      Description:  This MUMPS cross-reference triggers the sending of this
                    report to the Health Data Repository (HDR) and other
                    subscribers when electron microscopy results are 
                    released.
        Set Logic:  D APQ^LA7HDR(DA(1),"EM",DA)
       Kill Logic:  Q
             X(1):  REPORT RELEASE DATE (63.02,.11) (Subscr 1) (forwards)
 
Subfile #63.08
 
  New-Style Indexes:
 
  AD (#95)    FIELD    MUMPS        ACTION
      Short Descr:  Notify HDR and others that this report is available.
      Description:  This MUMPS cross-reference triggers the sending of this
                    report to the Health Data Repository (HDR) and other
                    subscribers when surgical pathology results are 
                    released.
        Set Logic:  D APQ^LA7HDR(DA(1),"SP",DA)
       Kill Logic:  Q
             X(1):  REPORT RELEASE DATE/TIME (63.08,.11) (Subscr 1)
                    (forwards)
 
Subfile #63.09
 
  New-Style Indexes:
 
  AD (#96)    FIELD    MUMPS        ACTION
      Short Descr:  Notify HDR and others that this report is available.
      Description:  This MUMPS cross-reference triggers the sending of this
                    report to the Health Data Repository (HDR) and other
                    subscribers when cytology results are released.
        Set Logic:  D APQ^LA7HDR(DA(1),"CY",DA)
       Kill Logic:  Q
             X(1):  REPORT RELEASE DATE/TIME  (63.09,.11)  (Subscr 1)
                    (forwards) 
 
 
5. Microbiology results. The current Laboratory package does not support
LOINC encoding of microbiology results. A default encoding is enabled
to LOINC encode standard microbiology tests and antibiotics.
LOINC codes valid as of version 2.14.
  
Default mapping of NLT/LOINC codes to standard fields within the 
MICROBIOLOGY (#5) multiple of LAB DATA file (#63):
 
 
 Test                               Order NLT     Result NLT     LOINC Code
 Bacteriology report (#11)          87993.0000
 Gram stain (#11.6)                 87993.0000    87754.0000     664-3
 Bacteriology organism (#12)        87993.0000    87570.0000     11475-1
 Bacteria colony count (#12,1)                    87719.0000     564-5
 Parasite report (#14)              87505.0000
 Parasite organism (#16)            87505.0000    87576.0000     17784-0
 Mycology report (#18)              87994.0000
 Fungal organism (#20)              87994.0000    87578.0000     580-1
 Fungal colony count (#20,1)        87994.0000    87723.0000     19101-5
 Mycobacterium report (#22)         87995.0000
 Acid Fast stain (#24)              87995.0000    87756.0000     11545-1
 Acid Fast stain quantity (#25)     87995.0000    87583.0000     11545-1
 Mycobacterium organism (#26)       87995.0000    87589.0000     543-9
 Mycobacterium colony count (#26,1) 87995.0000    87719.0000     564-5
 Virology report (#33)              87996.0000
 Viral agent (#36)                  87996.0000    87590.0000     6584-7
 
 Bacteriology or mycobacterium (TB) organism's susceptibilities -
  is based on local site's mapping of NATIONAL VA LAB CODE field (#64)
  in ANTIMICROBIAL SUSCEPTIBILITY file (#62.06) and the related default
  LOINC code associated with this VA NLT code. Use option Map/Unmap 
  Antimicrobial Default LOINC Code [LR LOINC MAP ANTIMICROBIAL] to
  configure the default LOINC code for each antibiotic.
 
6. Surgical Pathology results. The current Laboratory package does not
support LOINC encoding of surgical pathology results.
LOINC codes valid as of version 2.14.
  
Default mapping of NLT/LOINC codes to standard fields within the 
SURGICAL PATHOLOGY (#8) multiple of LAB DATA file (#63):
 
 Test                            Order NLT     Result NLT     LOINC Code
 Specimen (#.012)                88515.0000    88539.0000     22633-2
 Brief clinical history (#.013)  88515.0000    88542.0000     22636-5
 Preoperative diagnosis (#.014)  88515.0000    88544.0000     10219-4
 Operative findings (#.015)      88515.0000    88546.0000     10215-2
 Postoperative diagnosis (#.016) 88515.0000    88547.0000     10218-6
 Gross description (#1)          88515.0000    88549.0000     22634-0
 Microscopic description (#1.1)  88515.0000    88563.0000     22635-7
 Frozen section (#1.3)           88515.0000    88569.0000     22635-7
 Surgical path diagnosis (#1.4)  88515.0000    88571.0000     22637-3
 Supplementary report (#1.2)     88515.0000    88589.0000     22639-9
 Specimen weight (#2)            88515.0000    81233.0000     3154-2
 
 
7. Cytology results. The current Laboratory package does not support
LOINC encoding of cytology results.
LOINC codes valid as of version 2.14.
  
Default mapping of NLT/LOINC codes to standard fields within the 
CYTOPATHOLOGY (#9) multiple of LAB DATA file (#63):
 
 Test                            Order NLT     Result NLT     LOINC Code
 Specimens (#.012)               88593.0000    88539.0000     22633-2
 Brief clinical history (#.013)  88593.0000    88542.0000     22636-5
 Preoperative diagnosis (#.014)  88593.0000    88544.0000     10219-4
 Operative findings (#.015)      88593.0000    88542.0000     10215-2
 Postoperative diagnosis (#.016) 88593.0000    88547.0000     10218-6
 Gross description (#1)          88593.0000    88549.0000     22634-0
 Microscopic examination (#1.1)  88593.0000    88563.0000     22635-7
 Supplementary report (#1.2)     88593.0000    88589.0000     22639-9
 Cytopathlogy diagnosis (#1.4)   88593.0000    88571.0000     22637-3
 
 
8. Electron microscopy results. The current Laboratory package does not
support LOINC encoding of electron microscopy.
 
Default mapping of NLT/LOINC codes to standard fields within the 
EM (#2) multiple of LAB DATA file (#63):
 
 Test                            Order NLT     Result NLT     LOINC Code
 Specimens (#.012)               88597.0000    88057.0000     22633-2
 Brief clinical history (#.013)  88597.0000    88542.0000     22636-5
 Preoperative diagnosis (#.014)  88597.0000    88544.0000     10219-4
 Operative findings (#.015)      88597.0000    88542.0000     10215-2
 Postoperative diagnosis (#.016) 88597.0000    88547.0000     10218-6
 Gross description (#1)          88597.0000    88549.0000     22634-0
 Microscopic examination (#1.1)  88597.0000    88563.0000     22635-7
 Supplementary report (#1.2)     88597.0000    88589.0000     22639-9
 EM diagnosis (#1.4)             88597.0000    88571.0000     22637-3
 
 
9. It corrects a defect identified during patch development with
processing input parameters for the GCPR^LA7QRY API. If the input
parameter LA7SC specified specific subscripts to search then the API
would search those subscripts for any search code even when specific 
search codes were passed to the API in the LA7SC array.
 
10. Converts several FileMan DBS calls on INSTITUTION file (#4) to using
supported API's $$NS^XUAF4 and $$STA^XUAF4.
 
11. It corrects a defect identified during patch development with
processing input parameters for the GCPR^LA7QRY API. If the input
parameters LA7SDT and LA7EDT specified specific results available date
range the API could return anatomic pathology results which have not
been released. This API has been corrected to check the REPORT RELEASE
DATE field (#.11) for subscripts "CY", EM", "SP".
 
12. Remedy ticket HD0000000096207 reported a problem with the error code
returned by the Lab API LA7QRY. A FileMan DBS error code was erroroneously
being returned to the calling application. Routines LA7QRY, LA7QRY1, and 
LA7QRY2 has been modified to use a different name spaced variable LA7QERR
to return to the calling application any error conditions. Additionally,
routine LA7VOBX1 has been modified to use another name spaced variable
LA7DDERR to handle FileMan DBS error conditions related to FileMan data
dictionary calls.
 
13. It corrects a defect identified by MyHeatheVet regarding encoding of 
the following fields in the OBR segment relating to anatomic pathology 
reports:
 OBR-32 - Principal result interpreter
 OBR-33 - Assistant result interpreter
 OBR-34 - Technician
 OBR-35 - Transcriptionist
 
The name component of these fields was being encoded with the wrong HL7
delimiter (component separator). The name component will be encoded with 
the subcomponent separator per the HL7 standard.
  
14. To integrate the VistA-Office EHR with the regular VistA system as
 well as adding functionality also available in the Indian Health Services
 system, the GQPR^LA7QRY API has been modified to allow for VistA-Office
 EHR to use data specifically geared toward clinical operations, whether
 in a hospital or a standalone clinic. The use of an Electronic
 Health Record number as opposed to a SSN for patient identification is
 supported as an identifier accepted as input to this API.
 
 The entry point GCPR^LA7QRY remains unchanged. However, the parameter
 used to pass the patient identifier should contain a 2nd piece indicating
 the type of identifier contained in the 1st piece.
 
 It supports the following types of patient identifiers
   SS = Social Security number
   PI = VA MPI Integration Control Number
   MR = medical record number of patient in file PATIENT/IHS (#9000001)
 
 To regular VistA users this modification will not be seen.
 
15. To support HDR-Historical which uses the GRPR^LA7QRY API to extract
historical laboratory test results, the input parameter LA7SC to GCPR^LA7QRY
supports a 2nd piece. When the 2nd piece of input parameter LA7SC equals
1 the API will return results encoded using VUID's when available.
 
16. Remedy tickets HD0000000141922/HD0000000148089 reported a problem with
failure of generation of MailMan bulletin LA7 ORDER STATUS CHANGED at
collection laboratory facility. Routine LA7VMSG1 changed to set interface
type to set flag in Lab HL7 ORU message indicating an order status change
to trigger bulletin generation at collecting site.
 
  
ASSOCIATED E3R
--------------
 None
 
 
ASSOCIATED REMEDY
-----------------
 HD0000000096207
 HD0000000141922
 HD0000000148089
 
TEST SITES
----------
 Atlanta VAMC
 Biloxi VAMC
 Boston HCS
 El Paso VAMC
 Houston VAMC
 Milwaukee VAMC
 North CHhicago VAMC
 Northhampton VAMC
 Palo Alto HCS
 Philadelphia VAMC
 Pittsburgh HCS
 Puget Sound HCS
 Salt Lake City VAMC
 South Texas HCS
 VA Greater Los Angeles HCS
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 1.   LOAD TRANSPORT GLOBAL
      ---------------------------------------
      Choose the PackMan message containing this patch and invoke the
      INSTALL/CHECK   MESSAGE PackMan option. 
 
 
 2.   START UP KIDS
      Start up the Kernel Installation and distribution System
      Menu [XPD MAIN]:
              Edits and Distribution ...
                           Utilities ...
                         Installation ...
      
     Select Kernel Installation &amp; Distribution System Option: Installation
                                                              ----
                1      Load a Distribution
                2      Verify Checksums in Transport Global
                3      Print Transport Global
                4      Compare Transport Global to Current System
                5      Backup a Transport Global
                6      Install Package(s)
                       Restart Install of Package(s)
                       Unload a Distribution
 
      Select Installation Option:
 
 3.   Select Installation Option:
      -------------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the
      INSTALL NAME, enter LA*5.2*68):
      a.  Backup a Transport Global - This option will create a
          backup message of any routines exported with this patch.
          It will not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when this
          patch is installed. It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
 
 4.   Select Installation Option:  Install Package(s)
                                   ------------------
      **This is the step to start the installation of this KIDS patch:
 
      a.  Choose the Install Package(s) option to start the patch install.
          (When prompted for the INSTALL NAME, enter LA*5.2*68.)
      b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          NO//' answer NO (unless otherwise indicated)
      c.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? NO//' answer NO (unless otherwise indicated)
 
 
 
 Note: Routine LA68 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
 
***************************************************************************
 
After the installation of Patch LA*5.2*68, do not activate the LA7 LAB 
RESULTS TO HDR (SUB) subscriber protocol until contacted by the HDR team
 
***************************************************************************
 
 
NOTE: Use the following steps only when activating the transmission of
laboratory data to the VA HDR and/or interfacing to a Commercial Off the 
Shelf System (COTS) or other VistA subscriber. No further action is
required, if there is no requirement to activate this interface.
 
 To activate messaging to the VA HDR perform steps 1, 2, and 3.
 To activate messaging to COTS and other VistA subscribers
    perform steps 1 and 4.
 
1. To utilize the building and transmission of HL7 Lab ORU result messages.
 
   Enable the configuration 'LA7HDR' in LA7 MESSAGE PARAMETER file
   (#62.48). This is accomplished by setting the field STATUS (#2) to
   'ACTIVE' using VA File Manager. Setting this field to 'INACTIVE' will
   turn off generation of this Lab HL7 message.
 
   Select VA FileMan Option:  Enter or Edit File Entries
 
   INPUT TO WHAT FILE: LA7 MESSAGE PARAMETER// 62.48  LA7 MESSAGE PARAMETER
    EDIT WHICH FIELD: ALL// STATUS
    THEN EDIT FIELD:
 
   Select LA7 MESSAGE PARAMETER CONFIGURATION: LA7HDR
   STATUS: INACTIVE// ACTIVE  ACTIVE
 
 
2. Activation of transmission to HDR requires coordination with your
   assigned HDR Implementation Manager (IM). Sites should not activate the
   LA7 LAB RESULTS TO HDR (SUB) subscriber until notified by the HDR
   team. The coordination of extractions of existing laboratory data will
   be started at the same time the configuration of the LA7 LAB RESULTS TO
   HDR (SUB) subscriber to ensure that there is an overlap of laboratory
   results. This overlap is done to ensure all laboratory results are in
   the HDR.
 
 a. Set up VDEFVIE4 link for Laboratory data transmission
 
     Use the HL7 Main Menu, Filers option to look at the setup for 
     VDEFVIE3. 
 
     Copy down the IP and port number used for VDEFVIE3.
 
     Use the HL7 Main Menu, Filers option to edit VDEFVIE4.  
 
     Enable auto startup and add the same IP and port numbers used for
     VDEFVIE3.
 
     Use the HL7 Main Menu, Start/Stop Links option to start the VDEFVIE4
     link.
 
     Use the HL7 Main Menu, Site Parameters option to select VDEF view
     and add VDEFVIE4 to the view.
 
 
 b. To activate the interface to the VA HDR use Protocol Edit option
   [HL EDIT INTERFACE] on the HL package Interface Developer Options
   [HL MENU INTERFACE TK] menu option and edit protocol LA7 LAB RESULTS
   TO HDR (SUB). Go to the second ScreenMan screen and edit the field
   ROUTING LOGIC and remove the leading ";" character and enter the
   'save' command to save the changes to the protocol.
 
                          HL7 SUBSCRIBER                       PAGE 2 OF 2
                         LA7 LAB RESULTS TO HDR (SUB)
---------------------------------------------------------------------------
 
      RECEIVING APPLICATION: LA7HDR
 
      RESPONSE MESSAGE TYPE: ACK                            EVENT TYPE: R01
 
 SENDING FACILITY REQUIRED?: YES          RECEIVING FACILITY REQUIRED?: YES
 
         SECURITY REQUIRED?:
 
               LOGICAL LINK: VDEFVIE4
 
 PROCESSING RTN:
 
  ROUTING LOGIC: ;D RTR^LA7HDR("CH;")  &lt;-- remove leading ";" character
____________________________________________________________________________
 
COMMAND:                                     Press &lt;PF1&gt;H for help    Insert
 
After the change the field should look like:
  ROUTING LOGIC: D RTR^LA7HDR("CH;")
 
3. To transmit Lab HL7 ORU result messages to another system, i.e.
   Commercial Off the Shelf System (COTS).
 
 a. Create a HL7 subscriber protocol as documented in HL7 Site Manager &amp;
    Developer Manual version 1.6*56
 
 b. Attach this protocol as a subscriber to HL7 event protocol LA7 LAB
    RESULTS AVAILABLE (EVN). Use Protocol Edit option [HL EDIT INTERFACE]
    on the HL package Interface Developer Options [HL MENU INTERFACE TK]
    menu option to add this subscriber.
 
 
4. Controlling message generation and transmission.
 
   Notify the HDR Project Office in the event that this interface is
   deactivated and the interface to the HDR was previously activated
 
   a. To turn off message building and transmission to ALL subscribers
      of event protocol LA7 LAB RESULTS AVAILABLE (EVN).
      Disable the configuration 'LA7HDR' in LA7 MESSAGE PARAMETER file
      (#62.48). This is accomplished by setting the field STATUS (#2) to
      'INACTIVE' using VA File Manager Enter or Edit File Entries [DIEDIT].
      Setting this field to 'INACTIVE' will turn off generation of this Lab
      HL7 message.
 
   b. To turn off message transmission to a specific subscriber.
      On the HL package, Interface Developer Options [HL MENU INTERFACE
      TK] menu option, use the Protocol Edit [HL EDIT INTERFACE] option to
      remove the related subscriber protocol from the event protocol LA7
      LAB RESULTS AVAILABLE (EVN).
 
      For the VA HDR, remove subscriber protocol LA7 LAB RESULTS TO HDR
      (SUB).
 
 
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option: 6  Install Package(s) 
Select INSTALL NAME: LA*5.2*68 Loaded from Distribution  2/4/05@10:21
     =&gt; LA*5.2*68
 
This Distribution was loaded on Feb 04, 2005@10:21 with header of
   LA*5.2*68
   It consisted of the following Install(s):
      LA*5.2*68
Checking Install for Package LA*5.2*68
Will first run the Environment Check Routine, LA68
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LA*5.2*68
 
Incoming Files:
 
 
   62.48     LA7 MESSAGE PARAMETER  (including data)
Note:  You already have the 'LA7 MESSAGE PARAMETER' File.
I will OVERWRITE your data with mine.
 
 
   63        LAB DATA  (Partial Definition)
Note:  You already have the 'LAB DATA' File.
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//
 
 
Want KIDS to INHIBIT LOGONs during the install? NO// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET VIRTUAL
 
 
 Install Started for LA*5.2*68 :
               Feb 04, 2005@10:21:55
 
Build Distribution Date: Feb 04, 2005
 
 Installing Routines:.............
               Feb 04, 2005@10:21:55
 
 Running Pre-Install Routine: PRE^LA68.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required---
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries: ...
               Feb 04, 2005@10:21:55
 
 Installing Data:
               Feb 04, 2005@10:21:55
 
 Installing PACKAGE COMPONENTS:
 
 Installing HL7 APPLICATION PARAMETER...
 
 Installing PROTOCOL..
  Located in the LA7 (LAB MESSAGING) namespace..
  Located in the LA7 (LAB MESSAGING) namespace..
  Located in the LA7 (LAB MESSAGING) namespace..
               Feb 04, 2005@10:21:55
 
 Running Post-Install Routine: POST^LA68.
 
                          *** Post install started ***
 
          *** Clearing facility name for LA7LAB entry in file #771 ***
 
                    *** Clearing facility name completed ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LA*5.2*68 Installed.
               Feb 04, 2005@10:21:55
 
 Install Message sent #xxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;74</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-09-24 15:46:23</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Refer to National Patch Module.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;80</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-09-30 10:18:08</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;81 SEQ #60</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-01-09 15:55:12</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1. Erroneous nodes created in File 68 for MICRO with VITEK result 
   interface.
</pre>
</dt>
</li>
</ol>
</dd></dl>
</li>
</ol>
</td>
</tr>
<tr>
<td>ENVIRONMENT CHECK ROUTINE</td>
<td>LAIPRE</td>
</tr>
<tr>
<td>ENVIRONMENT CHECK DONE DATE</td>
<td>1996-06-05 18:34:16</td>
</tr>
<tr>
<td>POST-INITIALIZATION ROUTINE</td>
<td>LAIPOST</td>
</tr>
<tr>
<td>POST-INIT COMPLETION DATE</td>
<td>1996-06-05 18:34:40</td>
</tr>
<tr>
<td>EXCLUDED NAME SPACE</td>
<td>
<ol>
<li>
<dt>EXCLUDED NAME SPACE:  &nbsp;&nbsp;LAZ</dt>
</li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</body></html>