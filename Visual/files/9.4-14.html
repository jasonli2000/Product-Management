<html>
<link rel="stylesheet" href="../datatable/css/demo_page.css" type="text/css" id=""/>
<link rel="stylesheet" href="../datatable/css/demo_table.css" type="text/css" id=""/>
<link rel="stylesheet" href="../style.css" type="text/css" id=""/>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../datatable/js/jquery.dataTables.js"></script>
<!-- Google Analytics -->
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-43872538-6', 'osehra.org');
 ga('send', 'pageview');
</script>


<script type="text/javascript" id="js">
  $(document).ready(function() {
  // call the tablesorter plugin
      $("#OS40LTE0").dataTable({
        "bPaginate": false,
        "bLengthChange": false,
        "bInfo": false,
        "bStateSave": true,
        "bSort": false
      });
}); </script>

<body id="dt_example"><div id="container" style="width:80%"><h1>LAB SERVICE (14) &nbsp;&nbsp;  PACKAGE (9.4)</h1>
<div id="demo"><table id="OS40LTE0" class="display">
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>LAB SERVICE</td>
</tr>
<tr>
<td>PREFIX</td>
<td>LR</td>
</tr>
<tr>
<td>SHORT DESCRIPTION</td>
<td>CORE LAB SYSTEM</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td><pre>
This is the entire Laboratory file, containing 41 Files.
The WKLD Code file and AUTO INSTRUMENT file have their own init and
are not included in the LRINIT.
  If this is the first install of the laboratory package
consult the installation guide for more information.
</pre>
</td>
</tr>
<tr>
<td>FILE</td>
<td>
<ol>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-60.html">LABORATORY TEST</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.html">TOPOGRAPHY FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.1.html">MORPHOLOGY FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.2.html">ETIOLOGY FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.3.html">FUNCTION FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.4.html">DISEASE FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.5.html">PROCEDURE FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-61.6.html">OCCUPATION FIELD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.html">COLLECTION SAMPLE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.05.html">URGENCY</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.06.html">ANTIMICROBIAL SUSCEPTIBILITY</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.07.html">EXECUTE CODE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.1.html">DELTA CHECKS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.2.html">LAB SECTION</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.4.html">AUTO INSTRUMENT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.5.html">LAB DESCRIPTIONS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.55.html">AGGLUTINATION STRENGTH</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.6.html">ACCESSION TEST GROUP</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.9999.html">ARCHIVED LR DATA</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.html">WKLD CODE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.05.html">NON WKLD PROCEDURES</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.1.html">WKLD DATA</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.2.html">WKLD SUFFIX CODES</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.21.html">WKLD CODE LAB SECT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.22.html">WKLD ITEM FOR COUNT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.3.html">WKLD INSTRUMENT MANUFACTURER</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.5.html">LAB REPORTS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.6.html">INTERIM REPORTS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.7.html">CUMULATIVE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-65.html">BLOOD INVENTORY</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-65.4.html">BLOOD BANK UTILITY</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-65.5.html">BLOOD DONOR</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-65.9.html">LAB LETTER</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;MERGE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-66.html">BLOOD PRODUCT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-66.9.html">BLOOD COMPONENT REQUEST</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.html">REFERRAL PATIENT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.1.html">RESEARCH</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.2.html">STERILIZER</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.3.html">ENVIRONMENTAL</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.4.html">NON PATIENT WORKLOAD</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.9.html">LAB MONTHLY WORKLOADS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-68.html">ACCESSION</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-68.2.html">LOAD/WORK LIST</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;File: 1, IEN: 68.4</dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-69.html">LAB ORDER ENTRY</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-69.1.html">COLLECTION LIST</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-69.9.html">LABORATORY SITE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-69.91.html">LR ROUTINE INTEGRITY CHECKER</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-66.5.html">OPERATION (MSBOS)</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-62.3.html">LAB CONTROL NAME</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-69.2.html">LAB SECTION PRINT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.03.html">WKLD LOG FILE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-95.html">LAB JOURNAL</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-64.19999.html">ARCHIVED WKLD DATA</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-67.99999.html">ARCHIVED LAB MONTHLY WORKLOADS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;File: 1, IEN: 65.9999</dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-66.2.html">BLOOD BANK VALIDATION</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;OVERWRITE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>INPUT TEMPLATE</td>
<td>
<ol>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLPABRH</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLPAG</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLPCMBS</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLPCS</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLPOLD</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLPT</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLSCREEN</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LRBLSPP</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
<li>
<dt>INPUT TEMPLATE:  &nbsp;&nbsp;LR MTB</dt>
<dt>FILE:  &nbsp;&nbsp;<a href="1-63.html">LAB DATA</a></dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>DEVELOPER (PERSON/SITE)</td>
<td>STALLING,F/DAL</td>
</tr>
<tr>
<td>*LOWEST FILE NUMBER</td>
<td>60</td>
</tr>
<tr>
<td>*HIGHEST FILE NUMBER</td>
<td>69.91</td>
</tr>
<tr>
<td>DEVELOPMENT ISC</td>
<td>DALLAS TX</td>
</tr>
<tr>
<td>CLASS</td>
<td>National</td>
</tr>
<tr>
<td>CURRENT VERSION</td>
<td>5.2</td>
</tr>
<tr>
<td>ADDITIONAL PREFIXES</td>
<td>
<ol>
<li>
<dt>ADDITIONAL PREFIXES:  &nbsp;&nbsp;LS</dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>AFFECTS RECORD MERGE</td>
<td>
<ol>
<li>
<dt>FILE AFFECTED:  &nbsp;&nbsp;<a href="1-2.html">PATIENT</a></dt>
<dt>NAME OF MERGE ROUTINE:  &nbsp;&nbsp;<a href="http://code.osehra.org/dox/Routine_LRXDRPT.html">LRXDRPT</a></dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>VERSION</td>
<td>
<ol>
<li>
<dt>VERSION:  &nbsp;&nbsp;5.2</dt>
<dt>DATE DISTRIBUTED:  &nbsp;&nbsp;2005-11-19 00:00:00</dt>
<dt>DATE INSTALLED AT THIS SITE:  &nbsp;&nbsp;1996-06-10 00:00:00</dt>
<dl><dt>PATCH APPLICATION HISTORY:</dt>
<dd>
<ol>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;105 SEQ #78</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-06-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is patch LR*5.2*105 which will transport menus, data dictionary
changes, load modified routines and edit templates.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;100 SEQ #91</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-06-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch to combine multiple alerts for Lab results.  It requires
the installation of patch OR*2.5*47.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;119 SEQ #94</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-07-15 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Note: Patch LR*5.2*105 Must be installed BEFORE this patch is loaded.
 
Patch Description:
Routine LRCAPV2 and LRCAPMA1 were exported in patch LR*5.2*105 with
incorrect second lines.
 
Routines LRCAPAM3 and LRCAPAM4 corrects consolidated institutions Phase 3
and Phase 4 reports not recognizing site numbers which have alpha
characters as apart of the site number.
NOIS # SEP-0496-60804
Reporting Site:        Sepulveda, Ca
Testing Site:  Sepulveda, Ca
 
LRCAPAM1 routine corrects BLOOD INVENTORY workload not being counted in
Non-Patient category for LMIP reports.
 
LRCAPFDS routine corrects NULL SUBSCRIPT error occurs when the user
selects a WKLD CODE LAB SECTION that does not have any WKLD CODES
assigned.
NOIS # DAY-0496-40011
Reporting Site:        Dayton, OH
Test Site(s)   Long Beach, CA
 
ROUTINE SUMMARY:
=================
 
 Routine Name                  Before Patch    After Patch     Patch List
LRCAPAM1                       14052207        14337228       105,119
LRCAPAM3                       12790683        13513963        42,119
LRCAPAM4                       12581527        13198299        42,105,119
LRCAPFDS                        6562403         7918114        105,119
LRCAPMA1                        5952535         5952535        105,119
LRCAPV2                         8714919         8714919        105,119
 
Options Effected by Patch:
 
Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT]
PHASE 1: Move data from 64.1 to 67.9. [LR WKLD LMIP 1]
PHASE 3: Print of data to be sent to NDB. [LR WKLD LMIP 3]
PHASE 4: Create E-mail message for NDB. [LR WKLD LMIP 4]
 
Installation Instructions:
==================
 
Note: Patch LR*5.2*105 MUST be installed before this patch is installed.
This patch also contains patches to patch LR*5.2*105.
 
1. User may remain on the system.
2. No options need be placed out of order.
3. Install patch during non-peak hours.
4. Laboratory specimens should not accessioned or verified during
   installation of the patch.
5. Install this patch using Kernel Installation and Distribution System
   (KIDS).
 
NOIS List
NOIS # DAY-0496-40011
NOIS # SEP-0496-60804
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;125 SEQ #96</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-08-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
ARCHIVE NOT FINDING A PATIENT
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;127 SEQ #97</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-09-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
DESCRIPTION:
The primary purpose of this patch (LR*5.2*127) is to convert from
reporting Laboratory clinic stop codes, to reporting CPT codes for ordered
tests done on patients. The Laboratory Package will capture and send CPT
codes via PCE/API. There is an install deadline involved (10/1/96) in
order to support PCE functionality requirements.
 
Creating links between file LABORATORY TEST (#60) and WKLD CODE (#64)
 
The National Laboratory File [LR7O 60-64] menu under the LIM workload menu
[LR LIM/WKLD] has options to link file Laboratory Test (#60) to WKLD CODE
(#64) file.  The options you will use are:
               Semi-automatic Linking of file 60 to 64 [LR7O 60-64 AUTO]
               Manual Linking of file 60 to 64 [LR7O 60-64 MANUAL] 
  These options should be run in this order listed to reduce linking time.
It may be beneficial to obtain a report of Laboratory Tests with Accession
and Verify WKLD CODES listed. Each of the above options has the capability
of producing this report.
 
Coordinate the task of linking tests with the Laboratory LIM so it is
completed before the scheduled start of collection of CPT codes for
laboratory activity (October 1, 1996). Only those tests that can be
ordered by clinicians on patients need to be linked.
 
 
This is the PCE/API patch which will be replacing the current method of
recording clinic stop codes with CPT codes. This patch creates several new
fields and one new file LAB NLT/CPT CODES (#64.81).
       1. A new field in LABORATORY TEST file(#60) named NATIONAL VA LAB
CODE (#64). This new field links orderable tests in file #60 with generic
WKLD CODES (a.k.a. NLT) (#64). Generic codes are those NLT codes ending in
four (4) zeros. Utilities (options) are provided for linking LABORATORY
TEST (#60) file to WKLD CODE (#64) file. The new PCE/API uses this linkage
to determine what CPT codes should be passed to the PCE/API. Orderable
tests in LABORATORY TEST file should have a linkage to WKLD CODE.
       2. Modified field PCE/VSIT ON (#615) in file LABORATORY SITE
(#69.9) will control which reporting method should used. Field
functionality change: The TRANSMIT CLINIC STOP CODES (#614) field in the
LABORATORY SITE (#69.9) file is no longer used to control reporting of
clinic stop codes. The PCE package has replaced the clinic stop codes with
CPT codes for each test collected. You should now use PCE/VSIT ON (#615)
in LABORATORY SITE (#69.9) file to control both clinic stop code and CPT
code transmission. Patch LR*5.2*127 automatically sets the PCE/VSIT ON
field to report both clinic stop and CPT codes. It is expected that
beginning with Oct. 1, 1996 VA DHCP will begin reporting workload using
CPT codes. Logic has been built into the software to determine when to
start reporting CPT codes to the PCE package. The TRANSMIT CLINIC STOP
CODES (#614) field will be retired in a future version.
       3. A new field PCE COUNTED (#11) has been added to file LAB ORDER
ENTRY (#69). This field prevents an order from being counted more than
once.
       4. The field CPT CODE (#18) has been modified in WKLD CODE
file(#64). This field's name has been changed to CODE and is a multiple.
The CODE entries can be of different types. Each code has optional fields
of RELEASE DATE (#2) and INACTIVE DATE (#3). These fields can be used to
screen codes based on dates entered. There is another field REPLACEMENT
CODE (#4) which is used for local record keeping. The software logic does
not use the REPLACEMENT CODE field.
       5. This patch also adds CPT codes to WKLD CODE FILE (#64) during
the post install phase.
       6. Additional Fields have added to WKLD LOG FILE (#64.03). These
fields are not directly related to PCE/API. These fields are used to
support Laboratory Extract for DSS. Additional fields have been added to
WKLD LOG FILE (#64.03) to support laboratory extract of LMIP codes for
DSS. These files are not used by the Laboratory PCE/API. WKLD LOG FILE is
being upgraded to support DSS API and is used exclusively by DSS and there
is no direct user interaction. WKLD LOG FILE is a temporary storage file
for LMIP codes for DSS extracts. A new routine ,'LRCAPDSS' provides DSS
with a API to extract laboratory workload data in batch mode. If the site
is currently using WKLD LOG FILE for local purposes, this practice should
be terminated. WKLD LOG FILE IS USED EXCLUSIVELY TO SUPPORT DSS DATA
EXTRACTION.
       7. This patch also contains a new file LAB NLT/CPT CODES (#64.81).
This file is only used to transport data to upgrade existing WKLD CODES
(NLT) test codes already released to the field. This file is used by the
Post Install routine to add CPT codes to WKLD CODE (#64) file. Entries are
automatically purged from 64.81 file if the linking process was
successful. If there is an error during the linking process, a message is
stored in #64.81 and the entry is not purge. A FileMan print of #64.81
file will display those codes which were not linked. If there are no
errors, file #64.81 will be empty after the post install routine runs to
completion.
      Any new WKLD CODES released will already have assigned CPT Procedure
and are distributed via national releases of NLT package. CPT coding of
WKLD CODES is done by Health Administration Head Quarters and should not
be changed locally.
      8 Option Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] has been
enhanced to allow printing of WKLD CODES which have CPT code linkages.
Modifications to routine LRCAPFDS provided this new functionality.
     9. Routine LRCAPV1A has been modified to allow the user to enter a
synonym for newly created WKLD CODES using the option; 'Add a new WKLD
code to file [LRCAP CODE ADD].
     10. This patch contains a new routine LRCAPPH1 and the modified
routine LRCAPPH. These routines gather the needed data and creates the
PCE/API CPT linkage. 'LRCAPPH' has been change to look at the modified
field PCE/VSIT ON (#615) in file LABORATORY SITE file (#69.9) to determine
which reporting method should used. The user can inactivate reporting,
report only CPT codes or report both CPT and Clinic Stop Codes. There is
additional logic which determines if the PCE package is active. If the PCE
package is not active, no CPT codes will be passed regardless of the entry
in the PCE/VSIT ON field.
      11.This patch provides utilities for linking ORDERABLE tests in
LABORATORY TEST (#60) file to WKLD CODE (#64) file. This linkage differs
from LMIP file setup. CPT Procedure coding is a rather non specific
identification of ORDERED tests. CPT codes identifies procedures ordered
by the provider. LMIP coding identifies procedures and method of analysis
used to collect management data. These coding system are used for two
different purposes and should not be confused.
There are two routines which provide this functionality, LR7OU4 and
LR7OU5.
 
 
Example of the Semi-automated option: 
 
Select OPTION NAME:    LRMENU        Laboratory DHCP Menu
 
 
Select Laboratory DHCP Menu Option:  Supervisor menu
 
Select Supervisor menu Option:  Lab liaison menu
 
Select Lab liaison menu Option:  National Laboratory File
 
Select National Laboratory File Option: ?
 
   1      Semi-automatic Linking of file 60 to 64
   2      Manual Linking of file 60 to 64
 
Enter ?? for more options, ??? for brief descriptions, ?OPTION for help
text.
 
Select National Laboratory File Option: 1  Semi-automatic Linking of file
60 to 64
 
 This option will look for potential matches between file 64 (NLT) and
file 60. 
 
   You will be allowed to create a permanent link between matching entries
in these files. Tests with the type of NEITHER will be omitted during link
phase. 
 
               ONLY GENERIC NLT CODES CAN BE LINKED TO LAB TEST
     
 
 
      Those LAB TEST already linked to the NLT file will also be omitted.
     
 
Ready to proceed? YES
Would you like a list of WKLD CODES from LABORATORY TEST file? No// 
 
     Do you want to automatically link entries when there is an exact
match     
 
                           on the NAME in both files
     
? No// Y
  (Yes)
 
    Did not find a exact name match for Lab Test 1,25-DIHYDROXYVIT D3
 Want to use a Verify WKLD code instead?
 
  Vitamin D 1 25 Dihydroxy                        83998.0000
 
Select Verify WKLD if appropriate: VIT
 
 
60 = 1,25-DIHYDROXYVIT D3
64 = Vitamin D 1 25 Dihydroxy    83998.0000 
                                o----LINKED----o
 
 
    Did not find a exact name match for Lab Test ABO/RH TYPING
 Want to use a Verify WKLD code instead?
 
  ABO Cell Serum and Rh(D)                        86082.0000
 
Select Verify WKLD if appropriate AB
 
 
60 = ABO/RH TYPING
64 = ABO Cell Serum and Rh(D)   86082.0000 
                                o----LINKED----o
 
 
60 = ACETALDEHYDE
64 = Acetaldehyde   81502.0000 
 
 
60 = ACETAMINOPHEN
64 = Acetaminophen   81068.0000 
                                o----LINKED----o
 
 
60 = ACETONE
64 = Acetone   81504.0000 
                                o----LINKED----o
 
 
60 = ACETYLCHOLINE RECEPTOR
64 = Acetylcholine receptor   89080.0000 
                                o----LINKED----o
 
 
60 = ACTH
64 = ACTH   82020.0000 
                                o----LINKED----o
 
 
    Did not find a exact name match for Lab Test AFB CULTURE &amp; SMEAR
 Want to use a Accession WKLD code instead?
 
  Accession Specimen Mycol Cult                   87800.0000
 
Select Accession WKLD if appropriate ^
 
================================================================
Example of the PCE ^TMP("LRPXAPI") which is built by the LRCAPPH1 routine.
 
^TMP("LRPXAPI",545275466,"ENCOUNTER",1,"ENC D/T") = 2960709.140053
^TMP("LRPXAPI",545275466,"ENCOUNTER",1,"ENCOUNTER TYPE") = A
^TMP("LRPXAPI",545275466,"ENCOUNTER",1,"HOS LOC") = 41
^TMP("LRPXAPI",545275466,"ENCOUNTER",1,"INSTITUTION") = 5000
^TMP("LRPXAPI",545275466,"ENCOUNTER",1,"PATIENT") = 230
^TMP("LRPXAPI",545275466,"ENCOUNTER",1,"SERVICE CATEGORY") = X
^TMP("LRPXAPI",545275466,"PROCEDURE",1,"ENC PROVIDER") = 31
^TMP("LRPXAPI",545275466,"PROCEDURE",1,"PROCEDURE") = 12345
^TMP("LRPXAPI",545275466,"PROCEDURE",1,"QTY") = 1
 
 
ROUTINE SUMMARY:
=================
 
 Routine Name           Before Patch      After Patch       Patch List
LR7OU4                  NA                12072536          127
LR7OU5                  NA                13069620          127
LRCAPDSS                NA                5467821           127
LRCAPFDS                6562403           8630651           105,119,127
LRCAPPH                 9417286           10523848          1,19,127
LRCAPPH1                NA                3477475           127
LRCAPV1A                2080378           2090945           105,127
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;136 SEQ #99</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-10-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch LR*5.2*127 is required to be installed.
 
1) This patch corrects the problem of multiple LRCAPPH jobs running and
the same time when only one is required. This problem appears when the
system has slow response times and LRCAPPH jobs begin to accumulate.
 
2) This patch also correct a variable used to for system response
monitoring.
 
Routines      Before Check Sum        After Check Sum   Patch List
==================================================================
 
LRCAPPH      10523848                 10492287          1,19,127,136
 
===================================================================
 
Note: Patch LR*5.2*127 MUST be installed before this patch is installed. 
 
1. Users may remain on the system.
2. No options need be placed out of order.
3. Install patch during non-peak hours.
4. Laboratory specimens should not be accessioned or verified during
installation of the patch.
5. Auto-instrument LAB routines does not have to be stopped.
 
NOIS List
MIN-0996-41784
MIA-1096-30234
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;59 SEQ #100</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-10-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Lab Archiving Enhancement Patch
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;101 SEQ #101</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
DETAILED WORKLOAD REPORT
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;126 SEQ #102</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
FIX FOR PATCH 108
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;138 SEQ #103</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
This is a joint Radiology, PIMS, PCE, VSIT, National Patient Care Database
(NPCDB) and Laboratory patch. This patch will not successfully install if
the Scheduling Package SD*5.3*63 patch has not been installed.
 
    Patches should be installed in the following order:
      SD*5.3*63  (Scheduling)
      RA*4.5*8   (Radiology/Nuclear Med)
      LR*5.2*138 (Laboratory ** this patch **)
      VSIT*2*1   (Visit Tracking)
      PX*1*9     (PCE)
 
Patch SD*5.3*63 must be installed before the installation LR*5.2*138.
The sequence of patch installs for either RA*4.5*8 or LR*5.2*138 is not
important. The RA*4.5*8 and LR*5.2*138 can be installed in reverse order.
 
The Laboratory Information Manager (LIM) should be notified of the patch
installation schedule and the date/time of the actual LR*5.2*138
installation.
 
Site Preparation notice:
This patch and LMIP workload reporting rely on the STATION NUMBER (#99) in
the INSTITUTION file (#4) being correctly defined. New OOS HOSPITAL
LOCATION names will be based on this field. The user can not control how a
new LAB OOS LOCATIONS will be named. The name will be based on the
INSTITUTION file setup.
===============================
Purpose of the patch:
1. Correct collection of NPCDB laboratory workload.
2. Create LAB Occasion of Service (OOS) LOCATIONS for the purpose of PCE
   reporting.
3. Provide immediate functionality without LIM intervention.
4. Provide data clean up of previously reported NPCDB workload (PX*1*9).
5. Provide utilities to manage multi-divisional NPCDB workload.
6. Provide capabilities to support non Pathology &amp; Laboratory Medicine
   services to receive proper NPCDB workload credit.
7. Enhancement of the Laboratory NPCDB reporting capabilities.
 
This patch will not effect LMIP workload capture or DSS Laboratory
workload data extraction. There are no CPT code updates contained in this
patch.
==============================
Problem:
Scheduling software determines if a particular procedure requires patient
diagnosis based on the HOSPITAL LOCATION file setup. The Laboratory was
passing the ordering location without patient diagnosis. This produced
NPCDB workload recording errors because of no diagnosis being passed.
  Some packages still use Clinic Stop codes to identify certain kinds of
data. The Stop Codes were determined based on the HOSPITAL LOCATION file
setup. The Stop Code passed by Laboratory to the PCE API was not being
used.
============================
Problem Solution
New OOS HOSPITAL LOCATIONS will be created solely for Laboratory NPCDB
Workload reporting. These new locations can not be used for appointments
or as test ordering locations. These special OOS locations will be
configured to not require diagnosis, eliminating the current errors.
   The Scheduling software will use these special hospital (non diagnosis
requiring) locations when passing workload to NPCDB. Upon initial install
all workload will be reported as laboratory Stop Code 108 for the Primary
Institution as defined by LMIP Workload Collection file (#67.9). Options
are provided to allow the LIM to create additional OOS Hospital Locations.
The naming of the OOS locations is controlled by the a option included in
this patch.
 
NOTE: The LIM can not edit the Hospital Location file directly. They can
only do so via a special option. LAB OOS LOCATIONS should not be created
through VA FileMan.
 
==============================
Workload Reporting Logic:
1. Only collected specimens will be processed by the software.
2. Only laboratory specimens having a collection type of Immediate 
Collect, Send Patient or Lab Collect will receive phlebotomy Workload
credit.
3. Only those specimens with a HOSPITAL LOCATION type of Clinic, Module or
Other will be passed to PCE API. This is not dependent on specimen
collection type
4. No new WKLD CODE CPT codes are included in this patch. Those linked
LABORATORY TESTS without CPT codes will not be passed to PCE API. Another
Laboratory patch will fully populate the WKLD CODE file with CPT codes.
 
NOTE: The DEFAULT LAB OOS LOCATION field is populated during the post
install. This field is used by NPCDB Laboratory workload reporting
software if a specific ACCESSION AREA does not have a LAB OOS LOCATION
assigned.
 
  A tasked routine will inspect the LAB ORDER ENTRY (#69) file for
collected specimens. When it finds a patient with collected specimen(s)
the software will use the above logic steps to determine if the specimen
meets criteria. If the specimens meets criteria, the software checks the
ACCESSION AREA where the specimen was accessioned. The accessioned test(s)
does not need to be verified in order to trigger NPCDB or LMIP Phlebotomy
workload reporting. If the ACCESSION AREA has a LAB OOS LOCATION defined
the API will pass that location. If the ACCESSION AREA does not have a LAB
OOS LOCATION defined, the DEFAULT LAB OOS LOCATION will be passed.
 
=======================================
ROUTINE SUMMARY:
=================
 Routine Name           Before Patch      After Patch       Patch List
LR138                   NA                3411930           138
LR138P                  NA                2851115           138
LR138PO                 NA                4890675           138
LRCAPPH                 10492287          9623897   1,19,127,136,138
LRCAPPH1                3477475           7546206    127,136,138
LRCAPPH2                NA                6972273           138
LRWU                    11418768         10739890           42,138
=========================================
Installation Instructions:
NOTE: SD*5.3*63 patch MUST be installed before this patch WILL install
successfully.
 
1. All users may remain on the system.
2. No options need be placed out of order.
3. Install patch during non-peak hours.
4. Laboratory specimens should not be accessioned or verified during
   installation of the patch.
5. The Auto-Instruments 'LAB' job does not have to be stopped.
6. Installation time of this patch is less than ten minutes.
7. Journaling requires no special attention.
 
NOIS List
===========================
Refer to SD*5.3*63 patch
 
===========================
Test Sites:
Developmental Test Site: Long Beach
Alpha Test Sites : Reno, Tucson and Oklahoma City
 
===========================
Technical Information:
Occasion of Service (OOS)
All valid LAB OOS LOCATIONS follow this format:
Each LAB OOS LOCATION begins with 'LAB DIV'.
Followed by the STATION NUMBER. (Field #99 of the INSTITUTION (#4) file)
Followed by 'OOS ID'.
Followed by the STOP CODE number.
 
List of selectable OOS Stop Codes:
                PULMONARY FUNCTION                104
                X-RAY                             105
                EEG                               106
                EKG                               107
                LABORATORY                        108
                NUCLEAR MEDICINE                  109
                CARDIOVASCULAR NUCLEAR MED        110
                ONCOLOGICAL NUCLEAR MED           111
                INFECTIOUS DISEASE NUCLEAR MED    112
                RADIONUCLIDE TREATMENT            113
                SING PHOTON EMISS TOMOGRAPHY      114
                ULTRASOUND                        115
                HBHC - PHYSICIAN                  170
                CLINICAL PHARMACY                 160
                BEREAVEMENT COUNSELING            165
                VASCULAR LABORATORY               421
                EMPLOYEE HEALTH                   999
                EVOKED POTENTIAL                  126
                TOPOGRAPHICAL BRAIN MONITORING    127
                PROLONGED VIDEO-EEG MONITORING    128
                MAMMOGRAM                         703
                RADIONUCLIDE THERAPY              144
                PHARM/PHYSIO NMP STUDIES          145
                PET                               146
    
 
No LAB OOS LOCATIONS can have appointments.
No patients can be scheduled to LAB OOS LOCATIONS.
LAB OOS LOCATIONS can not be selected as the ordering locations.
All locations are created by the Scheduling API.
Name Length is less than 31 characters.
LAB OOS LOCATION can not be deleted with FileMan.
 
Example LAB OOS LOCATION name = LAB DIV 647 OOS ID 108
Where 647 = Poplar Bluff, MO
Where 108 = Laboratory Stop Code
===========================================
This patch contains two (2) new options which will be added to the LIM
workload menu [LR LIM/WKLD MENU].
1) Create Laboratory OOS Locations [LR WKLD LOCATION] provides a software
controlled creation of LAB OOS HOSPITAL LOCATIONS.
2) Edit ACC Area OOS Location [LR WKLD ACC AREA LOCATION] allows the LIM
to modify individual accession areas LAB OOS LOCATIONS to adjust NPCDB
workload credit.
 
=============================
Fields included in LR*5.2*138
 
WKLD CODE (#64) File
   DSS Feeder Key (#14) field
ACCESSION (#68) File
   LAB OOS LOCATION (#.8) field
LAB ORDER ENTRY (#69) File
   TEST (#69.03) subfile
     PCE VISIT # (#12) field
LABORATORY SITE (#69.9) File
   DEFAULT LAB OOS LOCATION (#.8) field
 
 
Field Notes:
A new field DEFAULT LAB OOS LOCATION (#.8) has been added to the
LABORATORY SITE file (#69.9). It is used when ACCESSION AREAS does not
have a LAB OOS LOCATION defined.
A new field LAB OOS LOCATION (#.8) has been added to the ACCESSION (#68)
file. This field is used to adjust NPCDB workload reporting.
* An existing field is renamed, DSS Feeder Key (#14) in the WKLD CODE
(#64) file. This field was altered by an earlier patch.
 
Routine Notes:
This patch contains three (3) modified routines LRCAPPH, LRCAPPH1, LRWU
and one (1) new routine LRCAPPH2. These routines control the reporting of
NPCDB workload data and the screening of hospital OOS locations.
  There are several additional non laboratory routines that will control
the user's HOSPITAL LOCATION selections.
 
==============================
Example of option use after Post Installation failure
 
Select OPTION NAME:    LR WKLD LOCATION
        Create Laboratory OOS Locations
 
                List of already defined Laboratory OOS Locations
     
 
                           NONE ARE CURRENTLY DEFINED
     
 
                            INSTALL PATCH LR*5.2*138
     
=================================
Example of a defined OOS location display
Select OPTION NAME: LR WKLD LOCATION
Create Laboratory OOS Locations
 
                List of already defined Laboratory OOS Locations
     
 
LAB DIV 170 OOS ID 108          170     108
 
Would you like a detail display ?No// YES
 
Select Laboratory OOS Location : LAB DIV 170 OOS ID 108          
 
NAME: LAB DIV 170 OOS ID 108            TYPE: CLINIC
  INSTITUTION: 170 STATION 170          STOP CODE NUMBER: LABORATORY
  SERVICE: NONE                         NON-COUNT CLINIC? (Y OR N): NO
  CLINIC MEETS AT THIS FACILITY?: YES   INCLUDE ON FILE ROOM LISTS?: NO
  TYPE EXTENSION: CLINIC                ASK PROVIDER AT CHECK OUT:
YES/REQUIRED
  ASK DIAGNOSIS AT CHECK OUT: NO
==================================
Example of attempted duplicate LAB OOS LOCATION entry
 
Select Laboratory OOS Location : 
                List of already defined Laboratory OOS Locations
     
LAB DIV 647 OOS ID 108          647     108
 
Would you like a detail display ?No// 
 
                  You may define a new Laboratory OOS Location
     
 
Enter New Division : POPLAR BLUFF, MO                              647
Select Stop Code Service : 108  LABORATORY        108
                      ONCE DEFINED - IT CAN NOT BE DELETED
     
 
 [LAB DIV 647 OOS ID 108]  Is this the correct new name ? No// YES
 
                    LAB DIV 647 OOS ID 108
      This location is already defined 
=======================================
Example of creating a non Laboratory OOS location
                List of already defined Laboratory OOS Locations
     
 
LAB DIV 647 OOS ID 108          647     108
Would you like a detail display ?No// 
                  You may define a new Laboratory OOS Location
     
 
Enter New Division : POPLAR BLUFF, MO                              647
Select Stop Code Service : 
 
              1  PULMONARY FUNCTION                104
              2  X-RAY                             105
              3  EEG                               106
              4  EKG                               107
 
CHOOSE 1-4: 1  
                      ONCE DEFINED - IT CAN NOT BE DELETED
     
 
 [LAB DIV 647 OOS ID 104]  Is this the correct new name ? No// YES
 
NAME: LAB DIV 647 OOS ID 104            TYPE: CLINIC
  INSTITUTION: POPLAR BLUFF, MO         STOP CODE NUMBER: PULMONARY
FUNCTION
  SERVICE: NONE                         NON-COUNT CLINIC? (Y OR N): NO
  CLINIC MEETS AT THIS FACILITY?: YES   INCLUDE ON FILE ROOM LISTS?: NO
  TYPE EXTENSION: CLINIC                ASK PROVIDER AT CHECK OUT:
YES/REQUIRED
  ASK DIAGNOSIS AT CHECK OUT: NO
 
                               LAB Location Added
     
                  You may define a new Laboratory OOS Location
     
Enter New Division : 
=====================================
Example of changing ACCESSION AREA LAB OOS LOCATION
 
Select OPTION NAME: LR WKLD ACC AREA LOCATION
 
Select Accession Area : GAS    
Select OOS Location for [GAS] Acc Area : LAB DIV 7000BY OOS ID 108
  Replace ... With LAB DIV 647  Replace 
   LAB DIV 647
     1   LAB DIV 647 OOS ID 108          
     2   LAB DIV 647 OOS ID 104          
CHOOSE 1-2: 2  
          DONE
 
Select Accession Area : 
=======================================
=======================================
 
Example of the Build Install
 
Select OPTION NAME: XPD MAIN    Kernel Installation &amp; Distribution System
 
Select Kernel Installation &amp; Distribution System Option: Installation
 
Select Installation Option: Install Package(s)
Select INSTALL NAME: LR*5.2*138          Loaded from Distribution
10/21/96@12:12:25
     =&gt;LR*5.2*138 3k LINES  ;Created on Oct 21, 1996@13:48:57
 
This Distribution was loaded on Oct 21, 1996@12:12:25 with header of 
LR*5.2*138 3k LINES  ;Created on Oct 21, 1996@13:48:57
It consisted of the following Install(s):
LR*5.2*138
Will first run the Environment Check Routine, LR138
                           Environment Check is Ok ---
      
Install Questions for LR*5.2*138
   64        WKLD CODE  (Partial Definition)
Note:  You already have the 'WKLD CODE' File.
   68        ACCESSION  (Partial Definition)
Note:  You already have the 'ACCESSION' File.
   69        LAB ORDER ENTRY  (Partial Definition)
Note:  You already have the 'LAB ORDER ENTRY' File.
   69.9      LABORATORY SITE  (Partial Definition)
Note:  You already have the 'LABORATORY SITE' File.
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
DEVICE: HOME//   HOME
LR*5.2*138                                   
 Install Started for LR*5.2*138 : 
               Oct 21, 1996@12:16:32
 Installing Routines: 
               Oct 21, 1996@12:16:33
 Running Pre-Install Routine: ^LR138P
                         LOCKING THE ^LRO(69,AA) GLOBAL
     
                           Pre Install Step Complete
     
 Installing Data Dictionaries: 
               Oct 21, 1996@12:16:51
 Installing PACKAGE COMPONENTS: 
 Installing OPTION
               Oct 21, 1996@12:16:53
 Running Post-Install Routine: ^LR138PO 
                         Starting Post Install Process
     
Option [LR WKLD LOCATIONS] was Added to [LR LIM/WKLD] MENU 
Option [LR WKLD ACC AREA LOCATIONS] was Added to [LR LIM/WKLD] MENU 
                   Creating Laboratory OOS Workload Locations
     
NUMBER: 657                             NAME: LAB DIV 600 OOS ID 108
  TYPE: CLINIC                          INSTITUTION: LONG BEACH, CA
  STOP CODE NUMBER: LABORATORY          SERVICE: NONE
  DIVISION: VA MEDICAL CENTER, LONG BEACH
  NON-COUNT CLINIC? (Y OR N): NO        CLINIC MEETS AT THIS FACILITY?:
YES
  INCLUDE ON FILE ROOM LISTS?: NO       TYPE EXTENSION: CLINIC
  ASK PROVIDER AT CHECK OUT: YES/REQUIRED
  ASK DIAGNOSIS AT CHECK OUT: NO
                               LAB Location Added
     
                     Database Upgrade Completed Successfully
      
                          DEFAULT LAB OOS LOCATION IS
     
NUMBER: 657                             NAME: LAB DIV 600 OOS ID 108
  TYPE: CLINIC                          INSTITUTION: LONG BEACH, CA
  STOP CODE NUMBER: LABORATORY          SERVICE: NONE
  DIVISION: VA MEDICAL CENTER, LONG BEACH
  NON-COUNT CLINIC? (Y OR N): NO        CLINIC MEETS AT THIS FACILITY?:
YES
  INCLUDE ON FILE ROOM LISTS?: NO       TYPE EXTENSION: CLINIC
  ASK PROVIDER AT CHECK OUT: YES/REQUIRED
  ASK DIAGNOSIS AT CHECK OUT: NO
 
            PCE/VSIT ON (#615) field in LABORATORY SITE (#69.9) file
     
 
                  has been set to BOTH PCE/VSIT AND STOP CODES
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;134 SEQ #104</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-15 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a Patch for a Patch.
 
It was discovered that 2 separate AP reports were not functioning
correctly after installation of LR*5.2*72
 
First--It was discovered after patch LR*5.2*72 was released that the
Autopsy Status Report did not capture Autopsies done after the load date
of the patch.  This actually is the symptom of two separate problems:
 
1.  The routine LRAUSTA which was supposed to be part of patch LR*5.2*72
was never exported with the patch.  Since this report is rarely run by the
sites, this was never noticed during the testing of the patch
 
2.  During the LRAPFIX data conversion, the ^LR("AAUA", node was rebuilt
using the new accession # format, however the old ^LR(AAUA", node was not
deleted.  This is why the routine was picking up the Autopsies logged in
previous to the loading of the patch.
 
The other problem was reported by the Bronx.  A null subscript error would
occur during the option Malignancy review  [LRAPQAMR] if the following
conditions were met:
     
     1.  There were reports positive for malignancy during the time period
the report was requested for.
 
     2.  The user responds "YES" to the prompt:
         Do you want corresponding permanent pathology reports to print
following search ? NO// Y  (YES)
 
The null subscript error would occur because the routine LRAPQAMR  was
attempting to get a patient's LRDFN from the ^LR(LRXREF,LRY,LRAN,0)
reference when in fact this reference should have been updated to reflect
the new format of this node after the data conversion of LR*5.2*72.  The
correct reference should have been ^LR(LRXREF,LRY,LRABV,LRAN,0).  The code
was changed to this new reference as well as inserting Quit statements for
the $O command.
 
 
 
Both of these issues will be resolved with this patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;137 SEQ #105</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
FIX FOR LRDPA
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;141 SEQ #106</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
UNDEF IN WORKLOAD ROUTINE
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;128</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;139 SEQ #108</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-12-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch must be loaded by ALL sites who have loaded LR*5.2*72.  This
patch corrects problems encountered with the option Log-in regular
(invoices) [LRBLILR] and  Select units for patients [LRBLPIC] after
LR*5.2*72.  For a complete description of this patch, refer to the patch
description in the patch message from the Forum Patch Module.  The actual
patch message itself MUST be forwarded to the BB Supervisor and/or LIM at
every site.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;107 SEQ #109</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-12-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Multidivisional Printer Problems- This patch is for multidivisional sites that
wish to print lab collect order copies at separate divisions.  Also, this
patch allows the site to change the default label printer from LABLABEL to
a division specific printer.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;152 SEQ #110</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-01-22 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;132 SEQ #111</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-03-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Under the auspices of the Program Office for Infectious Diseases 
VAHQ the Laboratory Emerging Pathogens Initiative (EPI) software 
package is to allow the Department of Veterans Affairs (DVA) to track 
Emerging Pathogens on the national level without the necessity for 
additional local data entry. Using this objective information, plans can 
be formulated on the national level for intervention strategies and 
resource needs. Results of aggregate data can also be shared with 
appropriate public health authorities for planning on the national level 
for the non-VA and private health care sectors.



The Laboratory EPI program is designed to automatically provide data 
on emerging pathogens to Veterans Affairs Headquarters (VAHQ) 
without additional individual data entry at the site level. The data will 
be sent to Austin Automation Center (AAC) for initial processing and 
coupling with denominator data related to workload. VAHQ data 
retrieval and analysis can then be accomplished.


</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;158 SEQ #112</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-03-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch LR*5.2*158
Default PCE Provider/Phlebotomy Workload Capture
 
Purpose of the Patch:
This patch contains two enhancements. (1) Provide a PIMS certified Default
Provider to be used for laboratory Patient Care Database workload
collected via PCE API. (2) Correct excessive counting of laboratory
phlebotomy workload.
 
-----------------
Routine List
                  Before         After            Patch
Routine          Check Sum     Check Sum          List
 
LRCAPPH         9623897         10294589     1,19,127,136,138,158
LRCAPPH1        7546206         4949612      127,136,138,158
 
-----------------
Files/Fields
 
File: LABORATORY SITE (#69.9)
Field:  PCE DEFAULT PROVIDER (#617)
File: LAB ORDER ENTRY
Field: PCE ENC (#30)
 
------------------
Installation Instructions:
 
1. All users may remain on the system.
2. No options need be placed out of order.
3. Install patch during non-peak hours.
4. Laboratory specimens should not be accessioned or verified during
   installation of the patch.
5. The Auto-Instruments 'LAB' job does not have to be stopped.
6. Installation time of this patch is less than ten minutes.
7. Journal requires no special attention.
8. No options are contained in this patch
 
NOIS List (Partial List)
===========================
MILW-1196-41783
MOU-1196-31178
SEP-1196-62013
MAD-0297-41389
===========================
Test Site:
Alpha Test Site: Long Beach
 
------------------
Patch Description:
 
This patch provides a new field, PCE DEFAULT PROVIDER, in the LABORATORY
SITE (#69) file to support the Laboratory PCE API workload data capture.
The default provider is defined locally based on PCE/PIMS workload
provider screening criteria. It is the responsibility of the LIM to
coordinate with the PCE/PIMS Coordinator to ensure that this field is
properly defined and maintained.
 
Failure to enter a default provider will cause PCE and Laboratory
phlebotomy workload data NOT TO BE PROCESSED. NONE of the workload data is
lost. No default provider causes the workload data processing software to
stop and wait until the field is properly defined.
 
The software logic will check the ordering provider for no termination
date and person class for the encounter date. If the ordering provider
fails this check the default provider will be used instead.
 
A cleanup utility will be provided to deal with previous provider
rejection errors by reprocessing encounters using the default provider
instead of the ordering provider of record.
---------------------
Second Enhancement:
 
Laboratory phlebotomy counts were being credited for non patient
specimens. Also other factors were inflating phlebotomy workload. A code
change now screens all workload to ensure that only patients from the
Patient (#2) file are processed. Software logic has been change to capture
1 phlebotomy count for each LAB ORDER with a collection type of Send
Patient (SP), Immediate Collect (I) or Lab Collect (LC).
 
The inflated phlebotomy counts coincide with the installation of patch
LR*5.2*138. It is recommended that the manual counts be used for the date
range between this patch and LR*5.2*138 instead of the LMIP generated
totals. After this patch is installed the manual totals should match
auto-captured phlebotomy totals +/- 5%. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;150 SEQ #113</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-04-01 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Workload Archiving Patch
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;160 SEQ #114</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-04-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
MISCELLANEOUS- HOUSEKEEPING
-includes fix for wrong lab sample when a UA is ordered
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;165 SEQ #115</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-05-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
MISSING COLLECTION TYPE PROMPT
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;140 SEQ #118</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-07-09 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;143 SEQ #119</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-07-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
LR*5.2*143 Patch Description:
DSS Clinical Data Extract API
==================
ROUTINE SUMMARY:
 
Routine Name      Before Patch       After Patch    Patch List
LRCAPDAR              NA               5854094         143
LRCAPDSS            5467821            5610986       127,143
==================
File Installed:
LAB DSS LAR EXTRACT  ^LAR(64.036)
 
==================
 
Installation Instructions:
NOTE: This patch is invoked by patch ECX*2*18 and does not function
independently. There are no laboratory options associated with the patch.
 
1. All users may remain on the system.
2. No options need be placed out of order.
3. Install patch during non-peak hours.
4. This patch has no effect on routine laboratory operations.
5. The Auto-Instruments 'LAB' job(s) does not have to be stopped.
6. Installation time of this patch is less than ten minutes.
7. Journalling requires no special attention.
 
===========================
NOIS List 
None
DSS Program Office Request
===========================
Test Sites:
Alpha Test Site: Long Beach
Beta Test Sites : Portland, Murfreesboro
 
----------------
Functionality:
 
The Laboratory Clinical Extraction API replaces the earlier clinical data
extraction software that utilized the LABORATORY SITE file (#69) and the
ACCESSION file (#68). In an earlier guideline, DSS requested that the LIM
adjust the purge date for these two files to retain 300 days of data. This
request could not be done by numerous sites because of the lack of disk
storage capacity. Patch LR*5.2*143 will relieve the sites from retaining
300 days of ORDERS and ACCESSION, and the normal PURGE OLD ORDERS AND
ACCESSION option date range can be restored.
 
Implementation:
 
The DSS LAR Data (Patch LR*5.2*143 and the companion DSS patch ECX*2*18)
extract utilizes the LAB DATA file (#63) and does not require the LAB
ORDERS file (#69) or the ACCESSION file (#68). Implementation of the DSS
LAR API DOES require that the LIM link the 12 DSS LAR tests in the DSS LAB
TEST file (#727.2) to all local corresponding tests in the LABORATORY
TESTS file (#60). For DSS purposes, these corresponding laboratory tests
must be linked to the WKLD CODE file and must be individually orderable
(atomic) tests. The link between LABORATORY TESTS file and the WKLD CODE
file is accomplished by assigning a WKLD CODE. The NATIONAL LABORATORY
TEST field (#64) of the LABORATORY TESTS file (#60) provides this linkage.
The NATIONAL LABORATORY TEST field is not used by LMIP data capture
software and will not effect LMIP counts. Patch LR*5.2*127 provided a
menu, "National Laboratory Test" [LR70 60-64], to link the LABORATORY
TESTS file to the WKLD CODE file. 
 
NOTE: When linking the DSS LAR tests to local laboratory tests, only
atomic Laboratory Tests are selectable. Panel tests are NOT permitted to
be linked to any DSS survey test.
 
The DSS LAR extract also requires the LIM to identify all specimens that
are derived from blood or urine, i.e., plasma, serum, clean catch. The LAB
DSS LAR API will use these specimens to screen patient's results in the
LAB DATA file and extract information for the 12 DSS tests.
 
The local DSS Coordinator will seek the LIM's assistance to identify tests
and specimens. This should require less than 30 minutes to complete. The
LIM is not required to actually initiate the data extraction. This will be
done by the local DSS Coordinator.
 
The LIM SHOULD coordinate the purging/archiving of the LAB DATA and the
WKLD DATA files with the DSS Coordinator.
 
The data for the DSS LAR extract will be stored during processing in a new
file LAB DSS LAR (#64.036) and the data is stored in the global
^LAR(64.036). This global will be purged by the calling DSS option when
the data has been transferred to the DSS laboratory clinical database.
Normally this file will be empty. The design and functionality are the
same used by the WKLD LOG file (#64.03) for the DSS LAB extract. Neither
the LIM nor the Laboratory Package is responsible for purging data from
the WKLD LOG file (#64.03) or the LAB DSS LAR file (#64.036).
 
 
------------------------------------------------------------
Laboratory Management Index Program (LMIP) and DSS sendout tests setup and
referral lab identification guidelines:
 
LMIP and DSS are reviewing data collected for laboratory sendout testing.
The collected data indicates that a consistent nation wide coding method
for capturing sendout tests is not being used.  Each site should review
the WKLD Codes for sendout tests to assure that it follows these
guidelines:
 
Each sendout test should be coded with an appropriate specific WKLD Code
prefix. If there is not an appropriate specific WKLD Code available,
submit a request for WKLD Code addition(s) to the P&amp;LMS Informatics Manage
at the Dallas CIOFO. Forms are available in Patch LR*5.2*138 for making
these requests.
 
Each sendout test should have a .8XXX suffix. All nationally recognized
sendout laboratories have a suffix code numbers in the range of
.8000-.8999. Each sendout test should be assigned an .8XXX suffix
indicating the laboratory that the specimen was sent for analysis. If the
same sendout test is sent to two or more laboratories, one method, is to
have a separate test for each sendout laboratory. Separate test for each
sendout laboratory will allow different normal ranges and specimen
requirements and test cost. At the very least the sendout tests should be
coded to include the ordered test and the sendout laboratory whenever
possible. In certain situations, sendout testing represents a significant
percentage of total patient care cost. This cost requires better tracking
to determine patient's overall treatment cost.
 
The Lab DSS API (routine LRCAPDSS) will be enhanced by patch LR*5.2*143 to
extract all sendout tests based on the .8XXX suffix. It is not necessary
to set the DSS Feeder Key to 'YES'.
 
Example 
CEA done at VA Milwaukee
86617.8694  CEA~VA MILWAUKEE
CEA done at Smith Kline Beecham
86617.8001  CEA~SMITH KLINE BEECHAM
 
With the new Lab DSS API enhancement, WKLD Codes conforming to any of the
following patterns will be extracted and passed to the DSS Workload API.
 
WKLD CODE marked as Billable Procedure [LMIP Unit] (Austin Database)
WKLD CODE with the suffix of .9999 (DSS ACC)
WKLD CODE with the suffix of .8XXX (Sendout laboratory destination )
WKLD CODE with the DSS Feeder Key (#14) field in the WKLD CODE file (#64)
marked YES
 
Note:
National Laboratory Tests (NLT)and WKLD Codes can be considered to be the
same codes. NLT is the name of the VistA Package responsible for
distributing and updating WKLD Code files.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;164 SEQ #120</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-07-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;171 SEQ #121</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-07-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Patch LR*5.2*171 is a complete replacement for patch LR*5.2*140.
 If you have not already installed Patch LR*5.2*140, do not install it.
 
  Patch LR*5.2*140 corrected the following issues:
  
  1.  The problem of erratic printing from the Group data 
      review (verified &amp; EM) [LRGVP] option has been resolved. 
      Tests that were STAT or had critical results are 
      displayed with control characters that produce the
      reverse video. The control characters caused erratic 
      printing in which the printer had to be powered off 
      and on to clear the problem.
   
  2.  The problem of Incorrectly reported as comments not 
      stored when the combined text strings are greater than 68
      characters has been resolved. In addition a date/time stamp
      and DUZ ID of the person making the change has been added 
      to each incorrectly reported as comment.
   
  3.  Data names in the LAB DATA file (#63) have been limited to 50 
      characters.
  
  4.  The option Review Data Names [LR REVIEW DATA NAMES] will
      permit the user to review the data base for entries &gt; 50
      characters.
  
  
   Reference NOIS:   KAN-0395-40200
                     MAN-O694-10052
  
   E3R               E3R #9370
 
    
   Test Site(s):     Muskogee, OK
                     Asheville, NC
                     Lexington, KY
                     Loma Linda, CA
 
  This patch corrects these issues and also the following issues.
  
  1.  When using the Enter/Verify/Modify data (manual) [LRENTER] option to
      edit more than one result on a verified accession, an undefined
      variable DIE occurred.
 
  2.  When using the Enter/Verify/Modify data (manual) [LRENTER]
      to edit a result,the user is allowed to edit the results
      without entering their initials.
 
  
   Reference NOIS:   NYN-0797-10830
                     MAN-0797-10794
  
    
   Test Site(s):     Manchester, NH
                     New York, NY
                     Durham, NC
                     
  Installation:
  
    1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
    2.  The patch has now been loaded into a Transport global on your
        system. You now need to use KIDS to install the Transport global.
        On the KIDS menu, under the 'Installation' menu, use the following
        options:
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Backup a Transport Global
    3.  On the KIDS menu, under the 'Installation' menu, use the following
        options:
           Install Package(s)  'LR*5.2*171'

    4.  Assign the option Review Data Names [LR REVIEW DATA NAMES] to
        appropriate lab person(s).
 
    5.  Remove the Environment Check Routine, LR171, from your system.
    
 


</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;172 SEQ #122</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-08-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
  Printer does not set-up properly when running cume reports manually.
  Adding LRPARAM to LRAC resolves this problem.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;163</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-08-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Build Patch Description LR*5.2*163
 
 This patch upgrades the National Laboratory Test (NLT) codes. The
 following enhancements are provided. The CPT/HCPCS CODES Version 6.0
 is a required package for this patch.
  
   1.  All existing Current Procedural Terminology (CPT) codes in the
 WKLD CODE file (#64) will be removed. The 1997 CPT codes will be
 linked to existing codes. After installation, all relevant WKLD CODES
 will have assigned CPT codes. This will cause a 2 to 4 fold increase
 in the workload Patient Care Encounter (PCE) Application Programmer
 Interface (API) traffic.
  
 The workload API is dependent on orderable tests being linked to a NLT
 code. National Laboratory File menu [LR70 60-64] option has sub-menu
 options to link the LABORATORY TEST file (#60) entries to NLT codes.
  
   2.  The routine LRCAPAMP that is used by the Recompile Phase 1 LMIP
 data [LR WKLD LMIP 1 REPEAT] option was not resetting all file entries.
 In certain situations, workload data could be lost.
 NOTE: Remember to recompile each division individually before repeating
 any additional data compiling.
 
   3.  The Workload code list [LRCAPD] option has been enhanced to
 display CPT codes and additional fields to be used by Laboratory
 Electronic Data Interchange (LEDI). NOTE: It is recommended that a
 new list be generated with this option.
  
   4.  The Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] option
 now allows the user to edit all fields for any WKLD CODE in the file.
 This option should be restricted to the Laboratory Information
 Manager's (LIM's) menu.
  
   5.  The Add a new WKLD code to file [LRCAP CODE ADD] option now
 prompts for test cost and price.
  
   7.  The PRICE field (#8) has been added to the WKLD CODE file (#64).
  
   8.  Any conversion errors are stored in the LAB NLT/CPD CODE (#64.81).
 If no errors are generated during the CPT code linkage, this file will
 be empty after install is completed.
  
   9.  The PCE/VSIT ON field (#615) in LABORATORY SITE file (#69.9) will
 be set to "PCE/VSIT ONLY" which transmits CPT codes only to the workload
 API. No Clinic Stop Code data will be transmitted.
  
  10  When using the Manual Linking of file 60 64 [LR7O 60-64 MANUAL]
 option to change an NLT code assigned to a test in the LABORATORY TEST
 file (#60), a FileMan error "??" would occur. This resulted in the
 previous associated test in WKLD CODE file (#64) not being deleted. The
 routine LR7OU4 corrects this error.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;177 SEQ #124</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-08-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Fixes the undefined in LRWU5.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;121</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-08-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;156 SEQ #126</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
There is a problem of unknown origin where 7 nines (9999999) are getting
stored in the LAB DATA file (# 63), the ACCESSION file (# 68),
and the Cumulative Reports Global (^LAC("LRAC"). This patch replaces the
these erroneous data nodes with the laboratory inverse date. Initial search
of the database is extensive and will take up to two hours. This is a one
time occurrence. A background task should be scheduled to run daily to clean
up any new occurrences.

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;169 SEQ #127</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Build Description LR*5.2*169
 
Functionality:
 This patch corrects the &lt;UNDEF&gt; error at TEST+3^LRCAPDAR ^(64).
 The program has been modified to accept the new file structure put in
 place by the Decision Support System Extracts (DSS) patch ECX*2*18.
  
 Implementation:
 The DSS Laboratory Results (LAR) EXTRACT (patch LR*5.2*169 and the
 companion DSS patch ECX*2*26) extract utilizes the LAB DATA file (#63)
 and does not require the LAB ORDER ENTRY file (#69) or the ACCESSION
 file (#68). Implementation of the DSS LAR Application Programmer
 Interface (API) DOES require that the Laboratory Information Manager
 (LIM) link the 12 DSS LAR tests in the DSS LAB TESTS file (#727.2) to
 all local corresponding tests in the LABORATORY TEST file (#60). 
 
 Linking of DSS clinical tests has NO EFFECT ON WORKLOAD DATA CAPTURE.
 You should link the atomic test in LABORATORY TEST (#60) file that is
 used to report the result. 
  
 For DSS purposes, these corresponding laboratory tests must be linked
 to the WKLD CODE file (#64) and must be individually orderable (atomic)
 tests. The link between LABORATORY TEST file (#60) and the WKLD CODE
 file (#64) is accomplished by assigning a WKLD CODE. The NATIONAL
 NATIONAL VA LAB CODE field (#64) of the LABORATORY TEST file (#60)
 provides this linkage.
  
 The NATIONAL VA LAB CODE field (#64) is not used by LMIP data capture
 software and will not effect LMIP counts. Patch LR*5.2*127 provided a
 menu, National Laboratory File [LR7O 60-64], to link the LABORATORY
 TEST file (#60) to the WKLD CODE file (#64). 
  
 NOTE: When linking the DSS LAR tests to local laboratory tests, only
 atomic Laboratory Tests are selectable. Panel tests are NOT permitted to
 be linked to any DSS survey test.
 
 The DSS LAR extract also requires the LIM to identify all specimens
 that are derived from blood or urine, i.e., plasma, serum, clean
 catch. The LAB DSS LAR API will use these specimens to screen patient's
 results in the LAB DATA file (#63) and extract information for the 12
 DSS tests.
  
 The local DSS Coordinator will seek the LIM's assistance to identify
 tests and specimens. This should require less than 30 minutes to
 complete. The LIM is not required to actually initiate the data
 extraction. This step will be completed by the local DSS Coordinator.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;90 SEQ #128</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch contains a Description of problems, their associated Risk
Analysis, routines, input templates and DD's for the VistA Blood Bank
software.  It is accompanied by two additional INFORMATION ONLY patches,
LR*5.2*92 (Validation Scenarios) and LR*5.2*147 (Documentation Changes).
 
See the individual patch messages from the Forum Patch Module for complete
information on these patches:
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;174 SEQ #131</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Fixes undefined for the option Reprint cumulative on a given patient [LRAC PT].

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;162 SEQ #132</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Workload Archiving Patch

 *************************NOTE************************************* 
   Patches LR*5.2*59 and LR*5.2*150 MUST be installed prior to 
    installing this patch.  
  
  *******************************************************************  

 1)  This patch makes the Purge Wkld Data file 64.1 [LRAR PURGE 64.1] option 
     and the Purge Lab Monthly Workloads file 67.9 [LRAR PURGE 67.9] option 
     queued options.  
 2)  The ARCHIVE TASK NUMBER field (#18) in the LAB ARCHIVAL ACTIVITY file
     (#95.11) is now deleted upon completion of the task.  The Write Data
     to Off-line Media options, [LRAR WRITE MEDIA 67.99999] and [LRAR WRITE
     MEDIA 64.19999], then check for data in this field as a test of
     completion of archive.  
 3)  For information: 
     When archiving the LAB MONTHLY WORKLOADS file (#67.9), the date range 
     selected for archiving must be in entire month chunks due to the file 
     structure of File 67.9.
  
     For instance if you select a date range from March 1, 1994 to
     April 1,1994, you will archive the entire months of March and April.  
 
 This patch to the Laboratory package does not contain any changes to the VISTA
 BLOOD BANK Software as defined by VHA DIRECTIVE 97-033 titled VISTA BLOOD BANK
 SOFTWARE VERSION 5.2.  
 
  Reference NOIS:      HIN-0297-41349                 
                              
  Reporting Site:      Hines, IL 
   
  Test Site(s):        Hines, IL 
                       Minneapolis, MN              
                              
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;186 SEQ #133</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-12-22 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
At Open M sites a Merge of a global into itself causes an error.  A check has
been added to make sure the global values are different before doing the merge.
 
 
This patch should also be installed at non-Open M sites, even though they are
not getting the error.
 This patch to the Laboratory package does not contain any changes to the
 VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 97-033 titled VISTA
 BLOOD BANK SOFTWARE VERSION 5.2.
 Reference NOIS:   PRE-0797-60641
 Reporting Sites:  Prescott, AZ
 Testing Sites:    Prescott, AZ
 ROUTINE SUMMARY:
 =================
 
 The second line of the routine now looks like:
 
 &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                       Checksum Values
 
 Routine Name           Before Patch    After Patch     Patch List
 ------------           ------------    -----------    -----------
 LROR6A                 15782769        16122062       24,100,128,186
        Installation Instructions:
        ==========================
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
           option will load the KIDS package in this message onto your
           system.
        2. Review your mapped set.  If the routines are mapped, they should
           be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on your
           system. You now need to use KIDS to install the Transport
           global.
           On the KIDS menu, under the 'Installation' menu, use the
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system, but installation should be done
           at off peak hours.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak hours
           and less than 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory space.
        8. From the 'Installation Menu' of the KIDS menu, run the option
           'Install Package(s)' Select the package 'LR*5.2*186' and proceed
           with the install.
        9. If any routines were unmapped as part of step 2, they should be
           returned to the mapped set once the installation has run to
           completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;182 SEQ #134</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-12-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch fixes problems encountered when user enter comments on
lab specimens during accessioning.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;173 SEQ #135</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-02-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a variety of problems with Anatomic Pathology reports.
 See the Description on the Forum patch module for full information on
this patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;198 SEQ #137</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-03-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch fixes the undefined error that occurs when non package
(X) variable is killed by VADPT.

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;153</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-03-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Please refer to the 'LABORATORY ELECTRONIC DATA INTERCHANGE (LEDI) Patch
LA*5.2*27 and patch LR*5.2*153 INSTALLATION GUIDE.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;203</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
  Reference NOIS:        None
  
  Reporting Site:        N/A
  
  Test Site(s)--Alpha Platform w/ DSM OS:  Milwaukee, Brockton
                                           North Chicago
  
 
  DESCRIPTION:
  ============
 In accordance with the evaluation performed using established policies
 and VHA Directive 97-033, documented on the patch change control summary
 and consultation with the FDA on 3/3/1998, this patch does not need to be
 submitted to the FDA for approval.  Changes only involve print routines
 and have no affect on safety critical requirements and has no associated
 risks.   
  
  A COPY OF THIS PATCH MESSAGE MUST BE FORWARDED TO THE BLOOD BANK
  SUPERVISOR AND THE  LABORATORY INFORMATION  MANAGER (LIM).
  
  
  PROBLEM:  
  
  With the upcoming turn of the century (Y2K) the Office of the Chief
  Information Office Technical Services has issued a guidelines document
  for VISTA Software Y2K requirements. This guideline lays out the core
  essentials to meet or exceed OMB, GAO and congressional requirements for
  Year 2000 requirements.  The VISTA Blood Bank Software v 5.2 was
  evaluated and found to have no existing problems as far as date storage
  and evaluation.  The date in all instances is already stored internally
  in a format which allows the definite determination of proper century.
  
  The Y2K guidelines document states that applications are required to
  expand the external date displays on reports or forms which can be
  considered legally binding documents between the VA and the veteran, an
  agent of the veteran, or a service- or product- provider to the VA.
  Using this statement as a guideline it was determined that the reports
  generated by the following options were to be modified to display the
  date using a 4 digit year format rather than the traditional dd/mm/yr
  format currently used:
  
  Print single BB patient report [LRBLP PRINT SINGLE]
  Print all BB patient reports on print queue [LRBLP PRINT ALL ON QUEUE]
  Blood bank consultation reports [LRBLCN]  **&gt; Locked with LRBLSUPER
  Print units with final disposition [LRBLRUF] **&gt; Locked with LRBLSUPER
  
 
  RISK ANALYSIS:  Since the coding changes only affect the format of the
  year printed on the report and have no functionality changes, the risk
  is NONE.
  
  EFFECT ON FUNCTIONAL REQUIREMENTS/ INTENDED USES: Problem does not
  involve a software safety critical requirement and does NOT change the
  scope of a design safeguard or intended use.
 
  POTENTIAL IMPACT ON SITES:  There is no potential impact on the sites
  from the installation of LR*5.2*203.
  
  VALIDATION TESTING REQUIREMENTS:  Although the changes do not involve
  any requirements or functional specifications, it is necessary to
  perform the following steps in order to confirm that the Patient
  chartable reports are printing dates using a 4 digit year format:
  
  OPTION: Print single BB patient report [LRBLP PRINT SINGLE]
  
  This option should generate a chartable patient report where the date
  format uses a 4 digit year regardless of whether the work was done
  before or after installation of the patch.  To verify this:
  1) Select the option Print single BB patient report [LRBLP PRINT
     SINGLE].
  2) At the prompt Select Patient Name: type in a name of a patient who
     has previous Blood Bank results.
  3) At the prompt Print component requests  ? NO//  press the ENTER key
     to accept NO as the response.
  4) At the prompt DEVICE: select a valid printer name or print the report
     to the screen. 
  
          Examine the report to verify that all instances of the date are
          formatted to include all four digits of the year.
  
          Repeat steps 1 through 4 above with the following exception:
          During step 3) answer YES to print component requests. 
 
          Examine the report to verify that all instances of the date are
          formatted to include all four digits of the year.
  
  
      OPTION: Print all BB patient reports on print queue [LRBLP PRINT ALL
              ON QUEUE]
  
  This option is used to print a batch of chartable patient reports.  The
  format of the individual patient reports should be identical to the
  reports printed using the option Print single BB patient report [LRBLP
  PRINT SINGLE].  To verify the correct date format on these reports
  perform the following steps:
  1) Select the option Print all BB patient reports on print queue [LRBLP
     PRINT ALL ON QUEUE].
  2) At the prompt Save reports for reprinting ? NO// answer YES.
  3) At the prompt Print component requests  ? NO/ answer YES.
  4) At the prompt DEVICE: select a valid printer name or print the report
     to the screen.
  
          Examine the report to verify that all instances of the date are
          formatted to include all four digits of the year.
  
          Repeat steps 1 through 4 above with the following exceptions.
          During step 2) answer  NO.
          During step 3) answer NO.
  
          Examine the report to verify that all instances of the date are
          formatted to include all four digits of the year.
  
  
     OPTION: Blood bank consultation reports [LRBLCN]
 
  This option is available for those sites wishing to use VistA to  
  generate a Chartable Consultative report on patients who after Blood
  Bank serological testing are found to have either an allo-antibody or a
  positive Direct Coombs. If this option is used at a site, then a sample
  report should be printed for each type of Consultative report generated
  and then reviewed to determine that all dates print using a 4 digit year
  format.  This will need to be completed by a user with the LRBLSUPER key
  performing the following steps:
 
   1) Select the option Blood bank consultation reports [LRBLCN].
   2) At the prompt Select CONSULTATION: type in a "?".  You will see a
      listing of each type of consultative report used at your facility.
      ANTIBODY or DIRECT COOMBS TEST REPORT.
   3) At the prompt Select Patient Name:  choose a name of a patient that
      is known to have an identified allo antibody or positive Direct
      Coombs test, whichever is appropriate.
   4) At the prompt DEVICE: select a valid printer name or print the
      report to the screen.
 
        Examine the report to verify that all instances of the date are
          formatted to include all four digits of the year.
 
          Repeat steps 1-4 as necessary to provide an example of each 
          type of consultative report generated at your facility.
 
     OPTION: Print units with final disposition [LRBLRUF]
  
  This option is designed for a site to print a permanent hard copy of the
  BLOOD INVENTORY file (#65) prior to the use of the option Remove units
  with final disposition [LRBLSER] to purge the BLOOD INVENTORY file (#65)
  for a specified date range. This functionality is provided for those
  sites who may have a need or desire to not keep all BLOOD INVENTORY data
  on line indefinitely.  It is not recommended that this option be run on
  a routine basis.  However, if necessary the option is available.
  
  Because of the implications of generating this report, it is recommended
  that if a site wishes to verify that the printing of dates uses a 4
  digit year that this verification be done in a test environment.  This
  report should be locked with the LRBLSUPER key so will need to have a
  user with that key perform the testing if performed.
  
  To verify the correct date format on these reports perform the following
  steps:
  1) Select the option Print units with final disposition [LRBLRUF].
  2) If this option has been used in the past you may be prompted with the
     following.  *** ANSWER NO AT THE PROMPT TO DELETE THE LIST ***
  
      There is a list of units printed by USER,PREVIOUS
      They should be deleted before printing another list. OK ? YES// N
      (NO)
  3) At the prompt Start with Date TODAY//  choose a date far enough in
     the past so that there will be unit with a final disposition entered.
  4) At the prompt Go    to   Date TODAY// choose a date more recent than
     the Start with Date.
  5) At the DEVICE: prompt, choose a valid printer name.
  
  Examine the report to verify that all instances of the date are
  formatted to include all four digits of the year.
  
 -----------------------------------------------
  Software Availability:
   
  This patch is available from one of the CIO Field Offices listed below.
  All VAMC's are encouraged to use their FTP capability to obtain the
  software from the appropriate directory
   
  CIO Field Office           FTP Address             Directory
  ----------------          -------------        -----------------
  Hines                     152.129.1.110        anonymous.software
  Albany                    152.127.1.5          anonymous.software
  Salt Lake                 152.131.2.1          anonymous.software
  
  File Name:LAB_Y2K.KID
 
 
  Y2K routine changes included with this patch:
  
  Routine         Line Tag      Purpose of change
  -------         ---------     -----------------
  LRBLJPA1           R+2       Format output to accommodate 4 digit year.
                     R+5       Format output to accommodate 4 digit year.
                      Y        Expand date format to print a 4 digit year.
                     H+3       Format output to accommodate 4 digit year.
  
  LRBLPBR1            T        Expand date format to print a 4 digit year.
                     N+3       Format output to accommodate 4 digit year.
                     L+1       Format output to accommodate 4 digit year.
                      R        Format output to accommodate 4 digit year.
 
  LRUCN              ASK+1     Expand date format to print a 4 digit year.
                      H        Format output to accommodate 4 digit year.
 
 
 During initial evaluation of LRBL namespaced routines it was reported
 that 26 routines would need renovation to be Y2K compliant.  After
 further evaluation, it was determined that only two LRBL namespaced
 routines would need to be modified.  The routines originally reported but
 not modified are:
 
 LRUDEL      LRBLDEX1      LRBLDEX2     LRBLJPA      LRBLJPA2
 LRBLJPP     LRBLJTS       LRBLJTS1     LRBLPC       LRBLPC1
 LRBLPR      LRBLPR1       LRBLPRA      LRBLPT       LRBLPT1
 LRBLPTR1    LRBLPUS       LRBLPX       LRBLPX1      LRBLRCT
 LRBLSET     LRBLTA        LRBLTA1      LRBLTXA
 
  
Installation Instructions:
 =========================
 
Note: This build contains LR*5.2*201 and LA*5.2*42 therefore, the
environment for installation must satisfy all three patches. There are
special considerations made for Automated instruments which are
not directly associated with Blood Bank.
 
 1.  The following patches must be installed prior to installation of this
     patch: LR*5.2*153, LA*5.2*27, LA*5.2*37, DI*21.0*44, XU*8.0*71.
 
 2.  From the Kernel Installation and Distribution Systems (KIDS)
              Menu, select the Installation Menu [XPD INSTALLATION MENU]:
               Select INSTALLATION OPTION
                Select Installation Option: Load a Distribution
                Enter a Host File: LAB_Y2K.KID
              Dialog:
           KIDS Distribution saved on Mar 23, 1998@13:22:30
 Comment: LR*5.2*203  LR*5.2*201  LA*5.2*42  Y2K Enhancements  3-23-98
 
 
 This Distribution contains Transport Globals for the following
 Package(s):
 
      LR*5.2*203
      LR*5.2*201
      LA*5.2*42
 
 Want to Continue with Load? YES// 
 Loading Distribution...
 
   
       It is strongly recommended to do a KIDS Backup before installing
       the build.
 
  3. Review your mapped set.  If the routines are mapped, they should
       be removed from the mapped set at this time.
 
  4. From the 'Installation Menu' of the KIDS menu, run the option
       'Verify Checksums in Transport Global' and verify that all routines
       have the correct checksum.
  
  5. From the 'Installation Menu' of the KIDS menu, you may use the option
    'Print Transport Global' to view what will be installed on your system
     prior to the Install.
  
  6. Users can remain on the system.  Installation should take less than
     ten minutes during non-peak hours.
  
  7. Primary Laboratory Options should be placed out of service
     and Laboratory Users should be off the system. Disable the menu
     option Laboratory [LRMENU] or the local equivalent during the
     install.
 
     Routine LAB or lab automated instruments interface thru the LSI
     should be stopped.
 
     If the site has direct-connect interfaces for lab automated
     instruments, these should be stopped.
 
     The HL7 background job (HLLP) for the Lab Universal Interface
     should be stopped.
 
     The routine LA7UIIN to process incoming HL7 messages should be
     not be running. This routine will shutdown automatically after 5
     minutes if no messages have been received.
 
     If using auto download for Lab automated instruments, the routine
     LA7ADL should be stopped. Use the option 'Start/Stop Auto Download
     Background Job' [LA7 ADL START/STOP].
     if no 
  
  8. From the 'Installation Menu' of the KIDS menu, run the option
    'Install Package(s)' Select the package  LR*5.2*203 and proceed with
     install.
  
  9. If any routines were unmapped as part of step 3, they should be
     returned to the mapped set once the installation has run to
     completion. 
 
 10. After installation is complete, remove the routines LR201 and LA42 
     from your system.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;201</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
PATCH DESIGNATION: LR*5.2*201           PACKAGE: LAB SERVICE
  VERSION: 5.2                          PATCH NUMBER: 201
  PATCH SUBJECT: Y2K LABORATORY (LR) PATCH
  PRIORITY: MANDATORY                   STATUS OF PATCH: UNDER DEVELOPMENT
  DATE PATCH FIRST ENTERED: JAN 27, 1998
 
 
CATEGORY OF PATCH: ROUTINE
CATEGORY OF PATCH: DATA DICTIONARY
 
 
 PATCH DESCRIPTION:   
 This is the Year 2000 (Y2K) compliance patch containing the changes
 necessary to accommodate the year 2000.  2 digit (YY) year dates are
 replaced with 4 digit (CCYY) century year dates in laboratory routines
 for patients' permanent clinical record. 2 digit year dates are replaced
 in other laboratory routines where space was available.  Because of the
 lack of space, labels are still printed with 2 digit year dates.
  
 Warning:
 Local label routines that call DD^LRX or DT^LRX will need to be modified
 to call DDOLD^LRX or DTOLD^LRX to print 2-digit dates.
                                
 Patch LR*5.2*201 VISTA BLOOD BANK SOFTWARE V5.2 
 DEVICE PRODUCT LABELING STATEMENT
  
 March 10, 1998
  
 VISTA Laboratory Package patch LR*5.2*201 contains changes to software 
 controlled by VHA DIRECTIVE 97-033, titled VISTA BLOOD BANK SOFTWARE 
 VERSION 5.2.  The following routines listed as part of Group B in the 
 directive were modified to be Y2K compliant:
 LRU, LRUA, LRUPT.  
  
 These are shared routines that are used by Blood Bank as well as general 
 Laboratory software.  They were modified to display a date using a 4
 digit century year format and formatting was changed when necessary to
 accommodate the extra two characters in the year.
  
 The above change has been reviewed by the VISTA Blood Bank Developer and 
 found to have no impact on the VISTA BLOOD BANK SOFTWARE version 5.2 
 control functions.
  
 PROBLEM:   With the upcoming turn of the century (Y2K) the Office of the 
 Chief Information Office Technical Services has issued a guidelines 
 document for VISTA Software Y2K requirements.  This guideline lays out
 the core essentials to meet or exceed OMB, GAO and congressional
 requirements for Year 2000 requirements.  Laboratory software has been
 modified to meet or exceed these guidelines.
  
 RISK ANALYSIS:   Changes made by patch LR*5.2*201 have no effect on Blood
 
 Bank software functionality, therefore RISK is none.
  
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*201 does not 
 alter or modify any software design safeguards or safety critical
 elements functions.
  
 POTENTIAL IMPACT ON SITES:  This patch contains changes to a routine 
 identified in Veterans Health Administration (VHA) Directive 97-033. The 
 changes have no effect in Blood Bank functionality or medical device 
 control functions. There is no adverse potential to sites.
  
 VALIDATION REQUIREMENTS BY OPTION:  There are no required validation 
 scenarios to be completed by sites after installing LR*5.2*201.
  
 
 -----------------------------------------------
 Software Availability:
  
 This patch is available from one of the CIO Field Offices listed below.
 All VAMC's are encouraged to use their FTP capability to obtain the
 software from the appropriate directory
  
 CIO Field Office           FTP Address             Directory
 ----------------          -------------        -----------------
 Hines                     152.129.1.110        anonymous.software
 Albany                    152.127.1.5          anonymous.software
 Salt Lake                 152.131.2.1          anonymous.software
  
 File Name:LAB_Y2K.KID
 
Note: This patch is issued as a part of a KIDS Distribution in which
the Transport Global contains all three Laboratory Y2K patches.
The install order and patches are:
LR*5.2*203 Blood Bank
LR*5.2*201 Laboratory Service
and LA*5.2*42 Automated Instruments.
  
 Data dictionary changes include:
  
 Modified the write "ID" nodes for:
 ^DD(62.3,0,"ID",.02) = W:$D(^("0")) " ",$$FMTE^XLFDT($P(^("0"),U,2),"5Z")
  
 ^DD(67,0,"ID",.03) = W "   ",$$FMTE^XLFDT($P(^(0),U,3),"5Z")
  
 ^DD(67.1,0,"ID",3) = W:$D(^("0")) "   ",$$FMTE^XLFDT($P(^("0"),U,3),"5Z")
  
 ^DD(69.91,0,"ID",2) = W:$D(^("0")) " ",$$FMTE^XLFDT($P(^("0"),U,3),"5Z")
  
 New Data Dictionary:
 ^DD(68,.097,0)= NON LAB ACCESSION AREA^S^1:YES;0:NO;^0;21^Q
 
 
 Routine Listing:
  
 Name       Line Tag            Description
 -------------------------------------------------------------------------
  
 LR5XCNV                        OBSOLETE ROUTINE - deleted
 LR5XCNV0                       OBSOLETE ROUTINE - deleted
 LR5XCNV1                       OBSOLETE ROUTINE - deleted
 LR5XCNV3                       OBSOLETE ROUTINE - deleted
 LR5XCNV4                       OBSOLETE ROUTINE - deleted
 LR5XCNV5                       OBSOLETE ROUTINE - deleted
 LR5XCNV8                       OBSOLETE ROUTINE - deleted
 LR5XCNV9                       OBSOLETE ROUTINE - deleted
 LR5XCNVA                       OBSOLETE ROUTINE - deleted
 LR5XCNVD                       OBSOLETE ROUTINE - deleted
 LR5XCNVP                       OBSOLETE ROUTINE - deleted
 LR5XCNVU                       OBSOLETE ROUTINE - deleted
 LR5XCNVX                       OBSOLETE ROUTINE - deleted
 LR5XOK                         OBSOLETE ROUTINE - deleted
 LR5XOK3                        OBSOLETE ROUTINE - deleted
 LR5XOK31                       OBSOLETE ROUTINE - deleted
 LR5XOK5                        OBSOLETE ROUTINE - deleted
 LR5XOK51                       OBSOLETE ROUTINE - deleted
 LR5XOK8                        OBSOLETE ROUTINE - deleted
 LR5XOK81                       OBSOLETE ROUTINE - deleted
 LR5XOK9                        OBSOLETE ROUTINE - deleted
 LR5XOK91                       OBSOLETE ROUTINE - deleted
 LR5XOKA                        OBSOLETE ROUTINE - deleted
 LR5XOKA1                       OBSOLETE ROUTINE - deleted
 LR5XOKU                        OBSOLETE ROUTINE - deleted
 LR5XTIM2                       OBSOLETE ROUTINE - deleted
 LR5XTIME                       OBSOLETE ROUTINE - deleted
 LR7OSBR1   T                   dd/mm/yyyy
            L+1                 formatting for the extra 2 century
                                characters.
            L+2                 formatting for the extra 2 century
                                characters.
            R+1                 formatting for the extra 2 century
                                characters.
 LR7OSOS    DATE                dd/mm/yyyy
 LR7OSUM3   UDT+7               dd/mm/yyyy
 LR7OSUM6   LRUDT+3             dd/mm/yyyy
            WR+5                formatting for the extra 2 century
                                characters.
            WR1+1               formatting for the extra 2 century
                                characters.
 LR7OU5     DQ+1                Update the LRAFUNC1 to XLFDT call.
 LR7OU64    CHECK+4             Update the LRAFUNC to XLFSTR call.
            DQ+2                Update the LRAFUNC1 to XLFDT call.
 LR7OU641   DQ+1                Update the LRAFUNC1 to XLFDT call.
 LRABG1     LRABG1+35:36        Set 4-digit date.
 LRAC3      LRAC3+32            dd/mm/yyyy
            LRAC3+43            dd/mm/yyyy
 LRAC4      Y2K                 New TMP file structure
            BS1                 dd/mm/yyyy
 LRACK      STA+1               2 digit to 4 digit date
            STA+3               ""
 LRACM1     DIC                 dd/mm/yyyy
            LRACM1+33           dd/mm/yyyy
            LRACM1+41           dd/mm/yyyy
               +1
 LRACM3     LRACM3+19           dd/mm/yyyy
 LRACS      QUE+2               Ancillary to cumes.
 LRACS2     LRACS2+3            2 digit to 4 digit date
 LRACS3     LRIFN+2             Ancillary to cumes.
 LRACSUM    LRACSUM+43          Ancillary to cumes.
 LRACSUM3   LRACSUM3+31         2 digit to 4 digit
            LRACSUM3+37         2 digit to 4 digit
 
 LRACSUM4   Y2K                 Ancillary to cumes.
 LRACSUM6   LRACSUM6+4          2 digit to 4 digit
            LRACSUM6+7          Display format
            LRACSUM6+16         dd/mm/yyyy
 
 LRAPAUA    W1                  Rename variable T to LRAUDT, expand to
                                4 digit year
            END                 Kill new variable.
 LRAPAUL    PRT+1               Format output to accommodate 4 digit year.
            DT                  Expand to 4 digit year.
            H+1                 Format output to accommodate 4 digit year.
            QUE                 Fix syntax problem with DBS call exported
                                with LR*5.2*173
 LRAPBK     SH+3                Rename variable LRW(1) to LRSPDT, expand
                                to 4 digit year.
            SH+7                Rename variable LRW(1) to LRSPDT.
 LRAPDPT    AP                  Expand to 4 digit year.
            AU                  Expand to 4 digit year.
 LRAPF      F+5                 Strip off seconds from Admission date 
                                (set in another routine).
 LRAPJNC    W                   Format output to accommodate 4 digit year.
            L+1                 Rename variable H(4) to LRDTINT.
            S+1                 Rename variable H(5) to LRDTEXT, expand
                                to 4 digit year.
            S+2                 Rename variables H(4) and H(5) to LRDTINT 
                                and LRDTEXT.
            A                   Rename variable H(4) to LRDTINT.
            H+1                 Format output to accommodate 4 digit year.
            END                 Kill new variables.
 LRAPL      W+2                 Rename variable S(1) to LRSPECDT.
            P                   Rename variable S(1) to LRSPECDT and
                                expand to 4 digit year.
            END                 Kill new variable.
 LRAPLG     GETP                Expand to 4 digit year, format output
                                to accommodate 4 digit year.
 LRAPPF1    EN+1                Expand to 4 digit year.
            EN+4                Format output to accommodate 4 digit year.
 LRAPQ      W                   Expand to 4 digit year.
            W+2                 Format output to accommodate 4 digit year.
            H+2                 Format output to accommodate 4 digit year.
 LRAPQAT1   L                   Expand to 4 digit year.
            AU+1                Change direct global reads to ^DGPM(  to
                                using call INP^VADPT.
            A                   Assign local variable names to output
                                variables from INP^VADPT.
 LRAPQOR    W                   Expand to 4 digit year, format output to
                                accommodate 4 digit year.
            H+2                 Display format
 LRAPQOR1   D                   Expand to 4 digit year.
            W                   Format output to accommodate 4 digit year.
            W2                  Expand to 4 digit year.
            H1                  Format output to accommodate 4 digit year.
 LRAPS1     EN                  Expand to 4 digit year.
            EN+3                Format output to accommodate 4 digit year.
            M                   Additional change to accommodate patch
                                LR*5.2*203.
 LRAPSEM2   A                   Expand to 4 digit year. Format output
                                to accommodate 4 digit year.
            H+2                 Display format
 LRAPSL     SET                 Expand to 4 digit year.
 LRAPTT     B                   Format output to accommodate 4 digit year.
            S+4                 Expand to 4 digit year.
 LRAPTT1    LRAPTT1+4           Format output to accommodate 4 digit year.
 LRAPV      I                   Rename variable Z to LRDATE.
            1                   Rename variable Z to LRDATE.
            W                   Rename variable Z to LRDATE, expand to 4 
                                digit year.
            2+1                 Rename variable Z to LRDATE.
            H1                  Rename variable Z to LRDATE.
 LRAPWE     T+2                 Expand to 4 digit year.
 LRAUSTA    FIX                 Expand to 4 digit year.
            WRT                 Rename variable M to LRSENIOR.
                                Rename variable M(2) to LRESIDEN.
            WRT+2               Rename variable R(1) to LRAUDT.
                                Rename variable R(2) to LRAUCOMP.
                                Rename variable R(3) to LRFAD.
                                Rename variable W(15) to LRPAD.
                                Change LRPAD to the correct data piece.
            WRT+3               Reference new variable names, format
                                output to accommodate 4 digit year.
            WRT+4               Reference new variable name.
            WRT+5               Reference new variable name.
            H+1                 Format output to accommodate 4 digit year
            END                 Kill new variables before exit routine.
 LRCAP64    LRCAP64+25          Replaced call to LRAFUNC1 date/time 
            LRCAP64+27          function to Kernel date/time calls.
            LRCAP64+30          ""
            LRCAP64+32          ""
            LRCAP64+35          ""
            LRCAP64+45          ""
 LRCAP67    LRCAP67+19          Replaced call to LRAFUNC1 date/time     
            LRCAP67+23          function to Kernel date/time calls.
 LRCAPA12   LRCAPA12+64         Display 4-digit date.
 LRCAPACC   LRCAPACC+53         Display 4-digit date.
 LRCAPAM1   LRCAPAM1+11         Replaced call to LRAFUNC1 date/time   
            LRCAPAM1+12         function to Kernel date/time calls.
            LRCAPAM1+15         ""
 LRCAPAM2   LRCAPAM2+10         ""      
            LRCAPAM2+19         ""
            LRCAPAM2+29         ""
 LRCAPAM3   LRCAPAM3+11         ""
            LRCAPAM3+18         ""
            LRCAPAM3+21         ""
            LRCAPAM3+29         ""
            LRCAPAM3+30         ""
            LRCAPAM3+55         ""
            LRCAPAM3+81         ""
 LRCAPAM4   LRCAPAM4+29         ""
            LRCAPAM4+74         ""
 LRCAPAM6   LRCAPAM6+10         ""
 LRCAPAM8   LRCAPAM8+6          ""
            LRCAPAM8+7          ""
 LRCAPAM9   LRCAPAM9+5          ""
 LRCAPAMP   LRCAPAMP+13         ""
 LRCAPBB    LRCAPBB+7           ""
 LRCAPD2    LRCAPD2+39          ""
 LRCAPDSS   LRCAPDSS+17         ""
            LRCAPDSS+26         ""
 LRCAPMR    LRCAPMR+29          ""
            LRCAPMR+36          ""
 LRCAPMR2   LRCAPMR2+65         ""
 LRCAPR1A   LRCAPR1A+7          ""
            LRCAPR1A+8          ""
 LRCAPR3    LRCAPR3+14          ""
            LRCAPR3+23          ""
 LRCAPV1S   LRCAPV1S+4          ""
            LRCAPV1S+5          ""
 LRCENDE1   ZAP                 Prevent complete accession deletion.
 LRDPA1     LRDPA1+16           Changed to Kernel Date/Time call
 LREXPD     LREXPD+20           ""
 LRFAST     AMIS +1             Replaced $$NOW^LRAFUNC1 with $$NOW^XLFDT.
 LRGEN      LRGEN+7             Cleanup Variable
 LRGEN1     LRGEN1+20           Display 4-digit date.
            LRGEN1+27           Display 4-digit date.
 LRLIST     LRLIST+5            Replaced call to LRAFUNC1 date/time 
            LRLIST+86           function to Kernel date/time calls.
 LRLISTE    LRLISTE+4           ""
            LRLISTE+49          ""
 LRLSTWRL   LRLSTWRL+12         ""
 LRMISEZ2   LRMISEZ2+26         dd/mm/yyyy
 LRMISEZ4   LRMISEZ4+17         dd/mm/yyyy
 LROE       TASK                Variable LRLBL is no longer killed.
 LROLOVER   EN+4                Changed to Kernel date/time call.
            OVER+2              Enhanced $D statement
            ROLLAH+3            Set LRAD to correct date/time
            ROLLAH+13           Add $G( statement prevent undefined.
 LRORD1     LEDI+1              Added $L statement for alpha characters
                                in UID.
 LRORDIM    EN+4                Changed $$DOW^LRAFUNC1 to $$DOW^XLFDT.
            EN+22               Changed $$NOW^LRAFUNC1 to $$NOW^XLFDT.
            CHK+1               Changed $$DOW^LRAFUNC1 to $$DOW^XLFDT.
            DATE+3              Changed $$CFMTDH^LRAFUNC1 to $$FMTH^XLFDT.
            DATE+7              Changed $$CDHTFM^LRAFUNC1 to
                                $$HTFM^XLFDT.
 LRORDK     KILL+7              Variable LRLABLIO is no longer killed.
 LRPARAM    LRPARAM+13          Replaced call to LRAFUNC1 date/time
                                function to Kernel date/time calls.
 LRPEND     LRPEND+10           ""
            LRPEND+37           ""
 LRQC       LRQC+3              Changed to display 4-digit year date.
 LRRP5      DATE+3              Changed to display 4 digit year date.
            INIT+2              ""
 LRRP6      LRRP6+38            dd/mm/yyyy
            LRRP6+42
 LRRP6A1    LRRP6A1+15          dd/mm/yyyy
 LRRP6B1    LRRP6B1+12          dd/mm/yyyy
 LRSMAC     LRSMAC+39           Replaced call to LRAFUNC1 date/time 
                                function to Kernel date/time calls.
 LROW2RP    DATE               Added an "F" to the %DT flags for 'date of
                               order prompt.
 LRSORA2    PRTEST+5           Changed to display 4-digit year date.
 LRSORC1A   PRINT+23           Formatting for the extra 2 century
                               characters.
            PRNTST+9
            COM+8
 LRSORD1A   PRINT+23           Formatting for the extra 2 century
                               characters.
            PRNTST+9
            COM+8
 LRSTOPC                       OBSOLETE ROUTINE - deleted
 LRTOCOST   LRTOCOST+5         Replaced call to LRAFUNC1 date/time
                               function to
            LRTOCOST+7         Kernel date/time calls.
            LRTOCOST+8         ""
            LRTOCOST+56        ""
            LRTOCOST+74        ""
 LRTSTSET   LRTSTSET+25        ""
 LRTT5      LRTT5+38           ""
            LRTT5+54           ""
 LRTT5R1    LRTT5R1+27         ""
 LRU        T                  Added description of functionality to line
                               tag.
            A                  Added description of functionality to line
                               tag, expand to 4 digit year.
            D                  Added description of functionality to line
                               tag, expand to 4 digit year.
            DA                 Added description of functionality to line
                               tag, expand to 4 digit year.
            DT                 Checks if LRSS="BB". If not, expands to 4
                               digit year.  Selected Blood Bank internal
                               displays are not modified due to current
                               FDA constraints.
            V+3                Kill new variables.
 LRUA       LRUA+3             Change call to D^LRU to newly created line
                               tag DATE.
            LRUA+8             Change call to D^LRU to newly created line
                               tag DATE.
            DATE               New line tag, returns date/time in 4 digit
                               year format.
 LRUDEL     D                  Change call to D^LRU to newly created line
                               tag DATE.
            REST+5             Change call to D^LRU to newly created line
                               tag DATE.
            REST+6             Change call to D^LRU to newly created line
                               tag DATE.
            DATE               New line tag, returns date in eye-readable
                               month format w/ 4 digit year.
 LRUER      P                  Rename variable T to LRDATE.
            P+2                Rename variable T to LRDATE, format output
                               to accommodate 4 digit year.
            H+1                Format output to accommodate 4 digit year.
            H1                 Rename variable T to LRDATE, format output
                               to accommodate 4 digit year.
 LRUMD      W+1                Rename variable T(1) to LRDATE, expand to 4
                               digit year.
            W+3                Rename variable T(1) to LRDATE.
 LRUMDM     W+3                Rename variable from T(1) to LRDATE, expand
                               to 4 digit year.
            W+5                Rename variable from T(1) to LRDATE, format
                               output to accommodate 4 digit year.
 LRUMDP     W+1                Rename variable from T(1) to LRDATE, expand
                               to 4 digit year.
            W+2                Rename variable from T(1) to LRDATE.
 LRUP       LRUP+3             Update the LRAFUNC1 to XLFDT call.
 LRUPT      FIX+2              Rename variable from Y to LRDATE, expand to
                               4 digit year.
            FIX+4              Rename variable from Y to LRDATE, format
                               output to accommodate 4 digit year.
            A                  Rename variable from Y to LRDATE, format
                               output to accommodate 4 digit year.
            LIST+3             Format output to accommodate 4 digit year.
            MORE+1             Rename variable Y to LRDATE, format output
                               to accommodate 4 digit year.
            HDR                Format output to accommodate 4 digit year.
 LRUTL      STF+7              Update the LRAFUNC1 to XLFDT call.
 LRUTT      W+1                Expand to 4 digit year, format output to
                               accommodate 4 digit year.
 LRVER1     LRVER1+19          Replaced call to LRAFUNC1 date/time
                               function to
                               Kernel date/time calls.
 LRVER2     LRVER2+13          Display 4-digit date.
            LRVER2+27          ""
 LRVR2      LRVR2+13           Display 4-digit date.
            LRVR2+25           ""
            LRVR2+26           Changed to Kernel Date/time call
 LRWLST12   C3                 Changed $$CDHTFM^LRAFUNC1 to $$HTFM^XLFDT.
 LRWRKIN1   X+16               Adjust column display to accommodate
                               displaying
            X+24               4-digit year.
 LRWRKINC   HED+5              Adjust column header to accommodate
                               displaying
            HED+11             4-digit year.
 LRWU4     LRWU4+2             Set Kernel variable DT using approved call
           LRWU4+3             $$DT^XLFDT.
           AC2+2               Added "P" to %DT variable, assume past
                               dates.
           AC4+2               Display accession date with 4-digit year.
 LRX       DD                  Changed to display 4-digit year date.
           DT+3                Used Kernel Date/Time call.
           DDOLD               Provide backward compatible format for
                               labels.
           DTOLD               Provide call to return 2 digit date.
           Y2K                 Call to return dd/mm/yyyy Date/Time
  
    Reference NOIS:  N/A
    
    Reporting Site:  N/A
  
    Testing Site(s): Milwaukee, WI - Brockton/West Roxbury, MA
                     North Chicago, Il
 
  
   ROUTINE SUMMARY:
   =================
  
   The second line of the routine now looks like:
  
   &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;155 SEQ #141</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Reference NOIS:         HIN-0297-40272, DEN-0697-51422
 
 Reporting Site:        Hines, Long Beach
 
 Test Site(s)   Hines, Madison, Long Beach
 
 DESCRIPTION:
 ============
  
 This patch to the Laboratory package does not contain any changes to the
 VISTA BLOOD BANK Software as defined by VHA Directive 97-033 titled VISTA
 BLOOD BANK SOFTWARE VERSION 5.2.
 
 
 1.  HIN-0297-40272
     Two problems were discovered with the QA functions for the Autopsy
     Accession Area.
 
     # 1:  The user wasn't prompted to enter any QA codes while
           executing the option QA codes entry/edit [LRAPQACD] and
           choosing the Autopsy Accession Area.
 
     # 2:  When using the option QA outcome review cases [LRAPQOR], not
           all of the information was printing.  Prior to patch LR*5.2*72,
           the actual Autopsy accession # and date of autopsy would print
           on the 2nd part of the report.
 
 2.  It was reported that after patch LR*5.2*72 that the report format
     for Autopsy data review [LRAPAURV] did not accommodate the new
     accession # format.
 
 ROUTINE SUMMARY:
 =================
  
 The second line of the routine now looks like:
 
 &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                       Checksum Values
 
 Routine Name      Before Patch    After Patch     Patch List
 ============      ============    ===========     ==========
 LRAPQACD          1985498         1982867          72,85,155
 LRAPQOR2          5647114         5107599             155
 LRAURV            8143951         8364694             155
 
 Installation Instructions:
 =================
 
 1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
      option will load the KIDS package in this message onto your system.
 
 2. From the 'Installation Menu' of the KIDS menu, run the option
      'Verify Checksums in Transport Global' and verify that all routines
      have the correct checksum.
 
 3. From the 'Installation Menu' of the KIDS menu, you may use the option
    'Print Transport Global' to  view what will be installed on your
     system prior to the Install.
  
  4. Review your mapped set.  If the routines are mapped, they should
     be removed from the mapped set at this time.
 
  5. Users can remain on the system.  Patch installation should take less
     than 5 minutes.  No options need to be placed out of service.  
     Install during non-peak times.
  
  6. From the 'Installation Menu' of the KIDS menu, run the option
     'Install Package(s)' Select the package  LR*5.2*155 and proceed with 
     install.
  
  7. If any routines were unmapped as part of step 4, they should be
     returned to the mapped set once the installation has run to
     completion. 
 
 
 Below is an example of the dialogue seen during the KIDS load.
 
 Select Installation Option: INStall Package(s)
 Select INSTALL NAME: LR*5.2*155          Loaded from Distribution
 3/26/98@13:49
 :39
     =&gt; LR*5.2*155
 
 This Distribution was loaded on Mar 26, 1998@13:49:39 with header of 
 LR*5.2*155
 It consisted of the following Install(s):
 LR*5.2*155
 
   LR*5.2*155
 
 Install Questions for LR*5.2*155
 
 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
 
 DEVICE: HOME//   TELNET
 
                                   LR*5.2*155
     
 -------------------------------------------------------------------------
 
 Install Started for LR*5.2*155 : 
               Mar 26, 1998@14:02:16
 
 Installing Routines:
               Mar 26, 1998@14:02:17
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*155 Installed. 
               Mar 26, 1998@14:02:18
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;191 SEQ #142</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;208 SEQ #143</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch fixes comment problems during receipt of specimens from wards.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;189 SEQ #144</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;205 SEQ #145</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-05-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Required for special processing of file 63 for Patient Merge.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;210</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-07-12 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
Description: 
============
 
 Patch LR*5.2*210 VISTA BLOOD BANK SOFTWARE V5.2 DEVICE PRODUCT LABELING
 STATEMENT
  
 April 10, 1998
  
 VISTA Laboratory Package patch LR*5.2*210 contains changes to software
 controlled by VHA DIRECTIVE 97-033, titled VISTA BLOOD BANK SOFTWARE
 VERSION 5.2.  Change includes:
 LROS was modified to display the Patient Care Encounter (PCE) visit
 number when one exists.
  
 The above change has been reviewed by the VISTA Blood Bank Developer and
 found to have no impact on the VISTA BLOOD BANK SOFTWARE version 5.2
 control functions.
  
 PROBLEM:   Sites have requested a means to verify CPT code capture.  It
 was determined that displaying the PCE visit number when viewing the
 Order/Test Status for a patient would assist sites in verifying their
 data.
  
 RISK ANALYSIS:   Changes made by patch LR*5.2*210 have no effect on Blood
 Bank software functionality, therefore RISK is none.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*210 does not
 alter or modify any software design safeguards or safety critical
 elements functions.
  
 POTENTIAL IMPACT ON SITES:  This patch contains changes to a routine
 identified in Veterans Health Administration (VHA) Directive 97-033. The
 changes have no effect in Blood Bank functionality or medical device
 control functions. There is no adverse potential to sites.
 
 VALIDATION REQUIREMENTS BY OPTION:  There are no required validation
 scenarios to be completed by sites after installing LR*5.2*210.
  
 =============================
  
 This patch is the regular release of additional National Laboratory Test
 Codes (WKLD CODES). It contains the requested additional prefix and
 suffix codes required to identify ordered test and test results.
 LR*5.2*210 Patch Description:
  
 This patch contains updates of WKLD CODES stored in WKLD CODE file (#64).
 These codes are also known as National Laboratory Test codes. The added
 codes represent those codes requested, by various sources, to identify
 ordered tests and results. If you wish to print the new additional WKLD
 CODES, use FileMan Print sorted by numbers. Begin with number 2990, end
 with 99999. Select caption print for the print fields.
  
 This patch contains updates of suffix codes stored in WKLD SUFFIX CODES
 file (#64.2). These codes were requested, by various sources, to identify
 methods used to determine results of ordered tests.
  
 This patch contains updates of manufacturers stored in WKLD INSTRUMENT
 MANUFACTURER file (#64.3). This file is a reference file used to group
 WKLD CODE SUFFIX codes by manufacturer.
  
 In addition to new NLT Codes the options Order/test status [LROS] and
 Review by order number [LRCENLKUP] have been enhanced to display the
 Visit number returned by the PCE interface for Laboratory CPT code
 capture. The number displayed corresponds to the internal entry number
 for the VISIT (#9000010) file. This number maybe useful when verifying
 Laboratory CPT workload capture. The VISIT file pointer is free text and
 each individual pointer number is separated by a semi-colon. CPT workload
 is only captured for patients seen on outpatient status. CPT codes are
 captured for ordered tests only. There is no relationship between
 accessioned/verified and CPT workload capture. CPT workload capture is
 based on entries in the LAB ORDER ENTRY (#69) file ONLY.
  
 Ordered tests must be linked via NATIONAL VA LAB CODE field (#64) of the
 LABORATORY TEST file (#60). All CPT codes associated with the linked NLT
 Code will be passed to the PCE interface.
  
 The new print option NLT Monthly Workload Detail [LR CAP ELROY] is also
 provided. This FileMan print option allows the user to select
 institution/division, date range and NLT codes. The report will print
 sub-total by NLT code with grand total for the report period. This report
 maybe useful when reviewing data stored in LAB MONTHLY WORKLOADS file
 (#67.9) for workload trends by specific NLT Codes.
  
 Note: When selecting Institution use literal name (i.e. Long Beach), not
 station number (.i.e. 600).
 NOTE: Data is stored in the LAB MONTHLY WORKLOADS file by month only.
 There aren't any daily totals stored in this file.
  
 The Post install procedure will make some corrections to your database if
 appropriate. This is a list of possible corrections required by your
 systems. If corrections are made, they will be displayed during the
 install. They are also stored in the Install file for review.
  
 If the install is successful please remove the routine LR210 from your
 system.
  
 NLT Name                    Old Number   New Number   New Name
 Gliadin Ab IgA              84295.3103   89589.0000
 Gliadin Ab IgG              84140.3103   89635.0000
 Gliadin Ab Panel            82435.3103   89637.0000
 Specimen Collection Time    82373.3103   89359.0000
 Rh (D) Typing               86087.0000   86088.0000
 CD62L                       86601.0000   86682.0000
 CDw124                      86670.0000   86683.0000
 Rh Typing                   86714.0000   86712.0000
 Plateletpheresis            86728.0000   86739.0000
 Drug Dependant Ab           89110.0000   84466.0000  X*Drug Dependant
 HLA DR                      89079.0000   89569.0000
 Glaidin Ab IgA              84295.0000   84028.0000  X*Glaidin Ab
 X*Hepatitis C RNA           97485.0000   87419.0000
 HIV Viral Load Ultra        98497.0000   87423.0000
 Smooth Muscle Ab            98589.0000   87379.0000
 Norchlordiazeposide         81030.0000   81411.0000
  
     Reference NOIS:  N/A
     
     Reporting Site:  N/A
   
     Testing Site(s): Long Beach, CA, Milwaukee, WI, Brockton, MA
  
 -----------------------------------------------
  Software Availability:
   
  This patch is available from one of the CIO Field Offices listed below.
  All VAMC's are encouraged to use their FTP capability to obtain the
  software from the appropriate directory.
   
  CIO Field Office           FTP Address             Directory
  ----------------          -------------        -----------------
  Hines                     152.129.1.110        anonymous.software
  Albany                    152.127.1.5          anonymous.software
  Salt Lake                 152.131.2.1          anonymous.software
   
  File Name:LR52_210.KID
  
    ROUTINE SUMMARY:
    =================
   
    The second line of the routine now looks like:
   
    &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
  
  Checksum Values
  
  Routine Name   Before Patch   After Patch    Patch List 
  ------------   ------------   -----------   -----------
 LR210              NA           13528777         210  
 LRCE            12940981        13197719     28,76,103,121
                                                153,210
 LROS            14491271        14423120     121,153,210
  
  
    Installation Instructions:
    ==========================
 The Laboratory Information Manager (LIM) should be informed of/coordinate
 the installation this patch. This patch contains important codes required
 for Laboratory Management Index Program (LMIP) reporting and Laboratory
 Electronic Data Interchange (LEDI) implementation.
  
 All users may remain on the system. Laboratory users should be idle (no
 accessioning or verifying). The LAB interface routine does not need to
 be stopped. The Universal Interface does not need to be stopped. The
 Health Level Seven Lower Level Protocols (HL7 LLPs) do not need to be
 stopped.
  
 The installation of this patch takes less than 10 minutes.
  
   1.  START FROM KERNEL 
       From the KERNEL Installation and Distribution Systems (KIDS)
       Menu, select the Installation menu [XPD INSTALLATION MENU]:  
            Installation
            Edits and Distribution ...  
            Utilities ...  
            Installation ...  
      
   2.  SELECT INSTALLATION OPTION 
       Select Installation Option:  Load a Distribution 
       Enter a Host File: LR52_210.KID
 
       This Distribution contains Transport Globals for the following 
       Package(s): LR*5.2*210
  
       Want to RUN the Environment Check Routine? YES// 
          LR*5.2*210
       Will first run the Environment Check Routine, LR210
  
       Use INSTALL NAME: LR*5.2*210  to install the Distribution.  
       
       NOTE:  The following are OPTIONAL:
     
      a.  Backup a Transport Global - This option will create a backup 
           message of any routines exported with this patch. It will not 
           backup any other changes, such as DDs or templates.  
      b.  Compare Transport Global to Current System - This is not
           recommended.  The reported data is misleading.
      c.  Verify Checksums in Transport Global - This option will allow 
           you to ensure the integrity of the routines that are in the 
           transport global.  
      
   3.  Use the install name LR*5.2*210 
  
 Note: If installation is successful, remove the routine LR210 from your
 system.
  
   4. No routine mapping adjustments are required
 
Routine Information:
====================
 
Routine Name:
  - LRCE
 
Routine Name:
  - LROS
 
Routine Name:
  - LR210
 
==========================================================================
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;193 SEQ #147</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-07-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;200 SEQ #148</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-07-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;192 SEQ #149</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-07-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;195 SEQ #150</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-08-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;188 SEQ #151</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-08-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;175 SEQ #152</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-08-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 
 
Installation for all sites.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;161 SEQ #153</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 This patch to the Laboratory package does not contain any changes to
 the VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 97-033
 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
  
 This patch will address enhancements and fixes to Lab label printing.
  
   1. The ability to designate label stock on a printer by printer basis
      is available. This is used for printing with the Intermec label
      printers. This patch supports 1x2, 15/16X3, and 10 part 2.4x4
      label stock.
  
   2. Support exists for the following bar code symbologies:
        Code 39
        Code 39 with check digit
        Code 128 bar code
  
      The bar code symbology used can be designated on an accession area
      basis. See the BAR CODE PRINT field (#5) in the ACCESSION file (#68).
      The set of codes for this field has been expanded to allow designating
      a specific symbology. See item #23 below for the effect of this field
      when using the Intermec label printers.
  
   3. Support exists for bar coding the short/long identifier on labels.
      The label software will now check the field TYPE OF ACCESSION NUMBER
      (#.092) to determine the identifier to bar code. If a short identifier
      (accession number) is selected it will be formatted as determined in
      item #4 below. If it is a long identifier the Laboratory Unique
      Identifier (UID) will be printed. Formats in the Intermec label routines
      have been adjusted to handle the increased length of the bar code
      printed.
      NOIS PRO-1096-11923, MAN-0196-10924, BRK-0696-11519
  
   4. The ability to designate the length of a short identifier (accession
      number) when it is selected to be bar coded on an accession label is
      supported. When the accession number is less than the number specified,
      it will be padded with zeros. See the description for the BAR CODE PAD
      field (#5.1) in the ACCESSION file (#68) for additional information and
      examples.
  
   5. Support for local label routines on a printer or accession area basis
      is available. To designate local label routines on a printer by printer
      basis see the section on POST-INSTALLATION INSTRUCTIONS item #1.
      To designate local label routines on an accession area basis see the
      section on POST-INSTALLATION INSTRUCTIONS item #2 and complete the
      fields ALTERNATE LABEL ENTRY (#5.2) and ALTERNATE LABEL ROUTINE (#5.3)
      in the ACCESSION file (#68).
  
   6. The ability to print test urgencies on a label exists. Sites can
      designate on an individual urgency basis if the urgency is to print.
      The urgency that is printed will be the highest urgency of all the
      tests on the accession. The highest urgency is determined as the
      urgency with the lowest internal entry number in the URGENCY file
      (#62.05). Sites can designate a 1-5 character abbreviation that will
      be printed as the urgency. See the section on POST-INSTALLATION
      INSTRUCTIONS item #3.
  
   7. The Reprint accession label(s) option [LRLABXT] has been enhanced to
      allow printing selected accessions.
  
   8. The Print future collection labels option [LRUFCL] has been enhanced
      to allow selection of a range of collection types. The collection type
      WARD COLLECT is now selectable. A user can select one or more types
      when printing future collection labels.
  
   9. Fixed the null subscript error in array variable LRBAR when the
      variable LRAA was undefined.
      NOIS GRJ-0395-50211
  
  10. Fixed printing of information in the wrong fields on the Intermec 4100
      10-part labels. There was an extra carriage return being sent to the
      printer which was moving the accession and other information into the
      wrong fields.
      NOIS BUF-0695-13329
  
  11. Fix an undefined variable error, usually LRAN, when printing test labels.
      All standard required lab variables will be defined when printing test
      labels.
      NOIS BAN-1097-11647, DAY-0497-42491, GRJ-0796-50216
  
  12. Fixed formatting the SSN on the 10-part label. There was an extra
      carriage return being sent to the printer which was moving the SSN
      into the next field.
      NOIS BIG-0596-71566
  
  13. Fixed a problem in the Reprint accession label(s) option [LRLABXT]
      in which a user, after selecting the label device, would encounter
      a "Device Unavailable" message. This error was caused by the opening,
      closing, and reopening of the label device.
      NOIS PRO-0196-10343
  
  14. Adjusted the label field positioning. Position of the field on label
      was near the edge which left little room for variation in label stock
      positioning.
      NOIS GRJ-1095-52265
  
  15. When the list of tests are printed on accession labels the software
      attempts to print as many test abbreviations as will fit within the
      dimensions of the label. Some of the label formats, specifically the
      formats used on the Intermec printers, did not use all of the space.
      This resulted in a shortened test list. The label software has been
      adjusted to use the full amount of space available for the test list.
      This varies with the different label sizes and formats.
      The list of tests will be formatted such that a ";" separates each 
      test abbreviation. If all of the accession tests can not print on the
      label due to lack of space then the list will be truncated. Truncation
      will be indicated by the characters "..." at the end of the label test
      list.
      NOIS ASH-1095-33536, BAY-0796-30672, MRN-0296-41708, WBP-0795-22054
  
  16. Fixed the location not printing on 1x2 and 10 part labels.
      NOIS ASH-0795-30288, FHM-0396-50465, SHR-0696-70850
  
  17. Fixed an undefined error, variables LRAN and LRACC, when printing
      future collection labels.
      NOIS MAN-0196-11087
  
  18. Changed the setting of variables LRBAR0/LRBAR1 to values returned by
      a supported call to KERNEL (PSET^%ZISP) for bar code on (IOBARON)/bar
      code off (IOBAROFF) characteristics.
      NOIS SPO-0696-50319
  
  19. Provided the ability to designate label type and label routine on a
      printer by printer basis. See the section on the POST-INSTALLATION
      INSTRUCTIONS item #1.
      NOIS AMA-0297-71215
  
  20. To conform to VistA Programming Standards and Conventions (SAC),
      The following changes have been made:
      
      a. W * was changed to W $C() in the label routines.
         NOIS FNC-0697-31993
 
      b. Routine LRLABLD was changed to use an approved DBIA (#2469) when
         determining a user's default lab label printer. If a printer is
         associated with the user's home device by entering a printer in
         the LAB LABEL PRINTER field (#101) in the DEVICE (#3.5) file, then
         this printer becomes the default label printer instead of LABLABEL.
         It had been using a direct global read of global %ZIS.

      c. Routine LRPHLIST was changed to use the supported DBIA #10091 call. 
         If the user has no institution defined in the NEW PERSON (#200) file,
         this call is used to determine the user's default institution, 
         It had been using a direct global read of global XMB.
  
  21. The Print future collection labels option [LRUFCL] was not determining
      the collection sample correctly. The collection sample is now derived
      from the COLLECTION SAMPLE field (#3) in the SPECIMEN # multiple 
      field (#1) of the LAB ORDER ENTRY file (#69).
  
  22. Lab routine selection:
  
      a. The label routine selection is backward compatible with previous
         logic. The software determines a label routine by the value of the
         LABEL TYPE field (#302) in the LABORATORY SITE file (#69.9).
  
      b. If a site defines label devices in the LABEL DEVICE multiple field
         (#360) of the LABORATORY SITE file (#69.9), the label routine will
         be determined as follows:
  
         If an accession area is not defined (test/future order labels) then
         the accession area designated by DEFAULT ACCESSION AREA field (#.06)
         within LABEL DEVICE multiple field (#360) of the LABORATORY SITE
         file (#69.9) for following selection logic is used.
  
         If an alternate label routine for the accession area is designated
         then the label routine designated by fields ALTERNATE LABEL
         ENTRY (#5.2) and ALTERNATE LABEL ROUTINE (#5.3) of the
         ACCESSION file (#68) is used.
  
         Otherwise if site has designated an alternate label routine for the
         device then the label routine designated by fields ALTERNATE LABEL
         ENTRY (#.04) and ALTERNATE LABEL ROUTINE (#.05) within LABEL DEVICE
         multiple field (#360) of the LABORATORY SITE file (#69.9) is used.
  
         Otherwise if the printer is designated as an Intermec 4100 by the
         PRINTER TYPE field (#.02) of the LABEL DEVICE multiple field (#360)
         of the LABORATORY SITE file (#69.9), the label routine is determined
         by the LABEL STOCK field (#.03) of the LABEL DEVICE multiple field
         (#360) of LABORATORY SITE file (#69.9) as follows:
  
            1        15/16X3       --&gt; routine LRLABELC
            2        1X2           --&gt; routine LRLABELA
            3        2.5X4 10 PART --&gt; routine LRLABELB
  
      c. If none of the conditions checked in b. above apply then the label
         routine designated in a. above is used.
  
  
  23. Intermec 4100 label format assignments:
  
      F0     - Reserved by manufacturer
      F1     - Presently not used (Unavailable on 4100BA models)
      F2     - Presently not used (Unavailable on 4100BA models)
      F3     - 1x2 Plain Label (Old Style)
      F4     - 1x2 Code 39 Label (Old Style)
      F5     - 1x2 Code 39/128 - UID
      F6     - Presently not used
      F7     - 15/16x3 Plain Label (Old Style)
      F8     - 15/16x3 Code 39 (Old Style)
      F9     - 15/16x3 Code 39/128 - UID
      F10    - Presently not used
      F11    - Presently not used
      F12    - 10 Part Code 39 (Old Style)
      F13    - 10 Part Code 39/128 - UID
      F14    - Presently not used - Reserved for LEDI shipping labels
      F15    - Presently not used - Reserved for LEDI shipping labels
      F16    - Presently not used - Reserved for LEDI shipping labels
      F17    - Presently not used - Reserved for LEDI shipping labels
      F18    - Presently not used - Reserved for LEDI shipping labels
      F19    - Presently not used - Reserved for LEDI shipping labels
  
      Note: Formats F4, F8, and F12 print the bar code with a check digit.
  
  24. Intermec format selection:
      Note: This is based on the printer being designated as Intermec printer,
            that is when the PRINTER TYPE field (#.02) in the LABEL DEVICE
            multiple field (#360) of the LABORATORY SITE file (#69.9)
            equals 1 and the value of the BAR CODE PRINT field (#5) in the
            ACCESSION file (#68) is as listed in the below table:
  
                               Intermec 4100
                    1x2 label     15/16X3    10 part label
  
                0     F3            F7          F12
                1     F4            F8          F12
      BAR CODE  2     F5            F9          F13
      PRINT     3     F5            F9          F13
                4     F5            F9          F13
  
      BAR CODE PRINT set of code: 0 - NONE
                                  1 - YES (Code 39 with check digit)
                                  2 - Code39
                                  3 - Code39 with check digit
                                  4 - Code128
  
      NOTE: The site will need to program the Intermec 4100 printer for those
            formats which will be used based on label stock and bar code
            symbology selected.
            Example: Site is using 1x2 labels and has specified BAR CODE
                     PRINT of 0,1, or 4 for various accession areas.
                     The Intermec 4100 printer would need to be
                     downloaded with formats F3, F4, and F5.
  
  
 Associated NOIS
  ---------------
  AMA-0297-71215
  ASH-0795-30288
  ASH-1095-33536
  BAN-1097-11647
  BAY-0796-30672
  BIG-0596-71566
  BRK-0696-11519
  BUF-0695-13329
  DAY-0497-42491
  FHM-0396-50465
  FNC-0697-31993
  GRJ-0395-50211
  GRJ-1095-52265
  GRJ-0796-50216
  MAN-0196-10924
  MAN-0196-11087
  MRN-0296-41708
  PRO-0196-10343
  PRO-1096-11923
  SHR-0696-70850
  SPO-0696-50319
  WBP-0795-22054
  
  
  Test Sites
  ----------
  
  Asheville VAMC
  Bath VAMC
  Dayton VAMC
  Loma Linda VAMC
  Long Beach VAMC
  Manchester VAMC
  Milwaukee VAMC
  North Chicago VAMC
  
 ----------------------------
  
 ROUTINE SUMMARY
 ---------------
  
  The following is a list of routines included in this patch. The second
  line of each routine now looks like:
  
  &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
  
                   CHECK^XTSUMBLD results
  
    Routine Name   Before Patch   After Patch   Patch List
    ------------   ------------   -----------   ----------
    LR161            N/A           2465270       161
    LRBARA          3774911        6240751       161
    LRBARB          6451096        18545310      161
    LRBARC           N/A           4506131       161
    LRBARCF          N/A           4094580       161
    LRLABEL         1668195        826314        161
    LRLABEL1        2827443        978058        161
    LRLABEL2        1294781        590501        161
    LRLABEL3        1905479        847432        161
    LRLABEL5        2457165        1079193       161
    LRLABEL6        3490879        3114683       161
    LRLABELA        1935828        2536685       161
    LRLABELB        4990488        6023279       161
    LRLABELC         N/A           1616954       161
    LRLABELF        7055278        5776749       121,161
    LRLABLD         10046912       8089099       65,161
    LRLABLD0        9258958        9351158       1,65,121,161
    LRLABLDS        5030406        4835286       161
    LRLABLIO        7032106        5515879       107,161
    LRLABXOL        5526784        2794683       11,121,161
    LRLABXT         5435171        6060326       80,161
    LRPHLIS1        14289685       12110295      1,161
    LRPHLIST        13349268       12051480      161
  
 
 FILE SECURITY
 -------------
 
 There are four new fields added by this patch which have FileMan Write
 Access equal to "@". This is required for security purposes. To edit these
 fields requires the user to have FileMan Programmers Access. The fields
 affected are:
 
  - ALTERNATE LABEL ENTRY (#5.2) and ALTERNATE LABEL ROUTINE (#5.3) of the
    ACCESSION file (#68).

  - ALTERNATE LABEL ENTRY (#.04) and ALTERNATE LABEL ROUTINE (#.05) within
    LABEL DEVICE multiple field (#360) of the LABORATORY SITE file (#69.9).
 
 
 INSTALLATION INSTRUCTIONS
 -------------------------
 The install time for this patch is less than 5 minutes. This patch
 can be installed when Laboratory users are on the system.
 However the following conditions apply:
  
    - Label printing should not be occurring
  
  
  
 NOTE: MailMan and KERNEL patches must be current on the target system to
       avoid problems loading and/or installing this patch.
  
       Patch installation needs to be coordinated with the Laboratory
       Information Manager (LIM/ADPAC). The LIM/ADPAC needs to perform the
       file setup as explained in the post-installation instructions if
       applicable.
  
  
 1.  If any of the above routines are mapped, disable mapping for them.
  
 2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
     option will load the KIDS patch onto your system.
  
 3.  The patch has now been loaded into a Transport global on your
     system.  You now need to use KIDS to install the transport global.
  
 4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
     select the 'Installation' menu.
  
 5.  Use the 'Verify Checksum in Transport Global' option and verify that
     all routines have the correct checksums.
  
 6.  If you wish to preserve a copy of the routines exported in this patch
     prior to installation, you should use the 'Backup a Transport Global'
     option at this time.  You may also compare the routine in your
     production account to the routine in the patch by using the 'Compare
     a Transport Global to Current System' option.  These options can
     both be found under the 'Installation' menu.
  
 7.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'LR*5.2*161'.  When prompted 'Want to
     DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
     choose 'NO'.
  
 8. On a mapped system, rebuild your map set.
  
 9. Routine LR161 can be deleted after successful patch installation.
  
  
 *****************************************************************************
 Below is an example of the dialogue seen during the KIDS install:
  
  
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME:  LR*5.2*161   Loaded from Distribution  
 5/2/97@17:11:20
      =&gt; LR*5.2*161
  
 This Distribution was loaded on May 02, 1997@17:11:20 with header of
 LR*5.2*161
 It consisted of the following Install(s):
 LR*5.2*161
  
    LR*5.2*161
 Will first run the Environment Check Routine, LR161
  
  
                         --- Environment Check is Ok ---
  
 Install Questions for LR*5.2*161
  
 Incoming Files:
  
  
    62.05     URGENCY  (Partial Definition)
 Note:  You already have the 'URGENCY' File.
  
  
    68        ACCESSION  (Partial Definition)
 Note:  You already have the 'ACCESSION' File.
  
  
    69.9      LABORATORY SITE  (Partial Definition)
 Note:  You already have the 'LABORATORY SITE' File.
  
  
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   VIRTUAL TERMINAL
  
  
  Install Started for LR*5.2*161 :
                May 02, 1997@17:14:54
  
  Installing Routines:
                May 02, 1997@17:15:09
  
  Running Pre-Install Routine: PRE^LR161
  
                           *** Pre install started ***
  
                   --- No actions required for pre install ---
  
                          *** Pre install completed ***
  
  Installing Data Dictionaries:
                May 02, 1997@17:15:45
  
  Installing PACKAGE COMPONENTS: 
  
  Installing OPTION
                May 02, 1997@17:15:46
  
                                   LR*5.2*161                                   
  
  Running Post-Install Routine: POST^LR161
  
                           *** Post install started ***
  
                   --- No actions required for post install ---
  
                          *** Post install completed ***
  
  Updating Routine file...
  
  Updating KIDS files...
  
  LR*5.2*161 Installed.
                May 02, 1997@17:16:09
  
  
 Install Completed
  
  
 Select Installation Option:
  
  
 End of example install
  
 *****************************************************************************
  
  
 POST-INSTALLATION INSTRUCTIONS
 ------------------------------
  
 The following actions should be performed by the Lab Information Manager 
 (LIM) or the person(s) responsible for the maintenance of the files LABORATORY
 SITE (#69.9) and ACCESSION (#68).
  
  1. If a site is using local label routines or the Intermec 4100 label
     printers to print lab labels then perform the following steps.
  
     To define local label routines on a printer by printer basis, complete
     fields ALTERNATE LABEL ENTRY (#.04) and ALTERNATE LABEL ROUTINE (#.05).
  
     a. Define printers in the LABEL DEVICE multiple field (#360) in the
        LABORATORY SITE file (#69.9).
  
        *** Start of example ***
        Select OPTION: 1  ENTER OR EDIT FILE ENTRIES
  
        INPUT TO WHAT FILE: LABORATORY SITE//
        EDIT WHICH FIELD: ALL// LABEL DEVICE      (multiple)
        EDIT WHICH LABEL DEVICE SUB-FIELD: ALL// ?
        Answer with LABEL DEVICE SUB-FIELD, or NUMBER
        Choose from:
           .01             LABEL DEVICE
           .02             PRINTER TYPE
           .03             LABEL STOCK
           .04             ALTERNATE LABEL ENTRY (see note on FILE SECURITY)
           .05             ALTERNATE LABEL ROUTINE (see note on FILE SECURITY)
           .06             DEFAULT ACCESSION AREA
        FOLLOW A FIELD NAME WITH ';"CAPTION"' TO HAVE THE FIELD ASKED AS
        'CAPTION: ' OR WITH ';T' TO USE THE FIELD 'TITLE' AS CAPTION
        EDIT WHICH LABEL DEVICE SUB-FIELD: ALL//
        THEN EDIT FIELD:
  
  
        Select LABORATORY SITE SITE NAME: 'name of your site'
        Select LABEL DEVICE:    IRM DEVELOP INTERMEC
        LABEL DEVICE: IRM DEVELOP INTERMEC//
        PRINTER TYPE: INTERMEC 4100// ?
           Choose from:
             0        OTHER
             1        INTERMEC 4100
        PRINTER TYPE: INTERMEC 4100//
        LABEL STOCK: 2.5X4 10 PART// ?
           Choose from:
             0        OTHER
             1        15/16X3
             2        1X2
             3        2.5X4 10 PART
        LABEL STOCK: 2.5X4 10 PART//
        ALTERNATE LABEL ENTRY: ?
          Answer must be 1-8 uppercase alpha and/or numeric characters in
          length. Site can enter an alternate label entry point to be used
          instead of the standard lab label routines used by the lab package
          when printing labels using this device. Field ALTERNATE LABEL
          ROUTINE (#.05) must be completed for the software to use this field.
          (see note on FILE SECURITY)
        ALTERNATE LABEL ENTRY:

        ALTERNATE LABEL ROUTINE: ??
          Answer must be 1-8 uppercase alpha and/or numeric characters in
          length. Site can enter an alternate label routine to be used 
          instead of the standard lab label routines used by the lab package
          when printing labels using this device.
          (see note on FILE SECURITY)
        ALTERNATE LABEL ROUTINE:
  
        DEFAULT ACCESSION AREA: ??
          Select accession area to use for default characteristics.
          This field is used by the label software when printing test
          or future order labels. When printing these types of labels
          there is no accession area identified to determine label
          characteristics such as type of barcode or accession
          area alternate label routine.
  
          The accession area designated for this device will be used
          by the software to obtain accession area specific
          characteristics when printing labels which are not associated
          with any particular accession area. Examples of these
          characteristics are barcode type, number of pad digits
          for barcode number, and alternate label routine.
  
          *** End of example ***
  
     b. Program the Intermec 4100 label printer with new formats using
        the Lab Bar Code Label Formatter option [LR BAR CF] located on
        the Lab liaison menu [LRLIAISON]
  
  
  2. Edit the following fields in the ACCESSION file (#68), to set up the
     bar code parameters and/or local label routines for each accession
     area.
  
            *** Start of example ***
  
     Select OPTION: 1  ENTER OR EDIT FILE ENTRIES
  
  
     INPUT TO WHAT FILE: ACCESSION//
     EDIT WHICH FIELD: ALL// 5  BAR CODE PRINT
     THEN EDIT FIELD: 5.1  BAR CODE PAD
     THEN EDIT FIELD: 5.2  ALTERNATE LABEL ENTRY (see note on FILE SECURITY)
     THEN EDIT FIELD: 5.3  ALTERNATE LABEL ROUTINE (see note on FILE SECURITY)
  
  
     Select ACCESSION AREA: CHEMISTRY
     BAR CODE PRINT: CODE39 WITH CHECK DIGIT// ??
       This field is used by the label print utilities to determine if
       bar code labels should be printed for this accession area.
       Choose from:
         0        NONE
         1        YES
         2        CODE39
         3        CODE39 WITH CHECK DIGIT
         4        CODE128
     BAR CODE PRINT: CODE39 WITH CHECK DIGIT//
     BAR CODE PAD: ?
       Type a Number between 1 and 15, 0 Decimal Digits
       Enter the number of zeros ("0") to pad an accession number when
       printing a bar code using the accession number. Used when site
       needs a minimum length bar code on labels.
  
       Example if need a four digit bar code then enter four.
               This would produce the following:
               Accession number       Bar Code
                   1                  0001
                  12                  0012
                 123                  0123
                1234                  1234
               12345                 12345
  
     ALTERNATE LABEL ENTRY: ?
       Answer must be 1-8 uppercase alpha and/or numeric characters
       in length.
       Site can enter an alternate label entry point to be used instead of
       the standard lab label routine entry point defined in file
       LABORATORY SITE (#69.9).
  
       This field overrides the label routine settings in file LABORATORY
       SITE (#69.9) for this accession area. Field ALTERNATE LABEL ROUTINE
       (#5.3) must be completed for the software to use this field.
       See description of field #5.3.
       (see note on FILE SECURITY)
     ALTERNATE LABEL ENTRY:
     ALTERNATE LABEL ROUTINE: ?
       Answer must be 1-8 uppercase alpha and/or numeric characters
       in length.
       Site can enter an alternate label routine to be used instead
       of the standard lab label routine defined in file LABORATORY
       SITE (#69.9).
  
       This field overrides the label routine settings in file LABORATORY
       SITE (#69.9) for this accession area. It is used in conjunction
       with field ALTERNATE LABEL ENTRY (#5.2) for building the
       variable LRLABEL.
       (see note on FILE SECURITY)
     ALTERNATE LABEL ROUTINE:
  
    Select ACCESSION AREA:
  
  
  3. Edit new fields LABEL PRINT (#5) and ABBREVIATION (#6) in the URGENCY
     file (#62.05) using FileMan's Enter/Edit option.
  
     Select OPTION: 1  ENTER OR EDIT FILE ENTRIES
  
     INPUT TO WHAT FILE: URGENCY//
     EDIT WHICH FIELD: ALL// 5  LABEL PRINT
     THEN EDIT FIELD: 6  ABBREVIATION
     THEN EDIT FIELD:
  
  
     Select URGENCY: ROUTINE
     LABEL PRINT: YES// ?
        Select if abbreviation is to be printed.
          Choose from:
                0        NO
                1        YES
                2        YES, REVERSE FIELD
     LABEL PRINT: YES// ??
        Determines if urgency's abbreviation is to be printed on labels.
        If "YES, REVERSE FIELD" is selected and label printer supports
        reverse field printing, then abbreviation will be printed with
        white letters on a black background.
          Choose from:
                0        NO
                1        YES
                2        YES, REVERSE FIELD
     LABEL PRINT: YES//
     ABBREVIATION: ROUT
  
     Select URGENCY:
  
  
          *** End of example ***
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;217 SEQ #154</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 This patch to the Laboratory package does not contain any changes to
 the VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 97-033
 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
 
 This patch will address a locking problem concerning the LRO global and
 a fix to Laboratory Unique Identifier (UID) creation.
 
 
   1. When patch LR*5.2*153 was released it contained changes to the code
      in routine LRX used to create the UID. These changes performed a
      check to determine if the UID that was to be created already existed.
      The intent is to prevent the same UID being assigned to two or more
      accessions. If the UID already existed then routine LRX created an
      alternate UID substituting the accession area's numeric identifier
      with "00".
 
      The code used to produce an alternate UID was setting a lock on
      the global LRO(68,"C",uid) which was not being released.
      This caused other lab users to "hang" until the user with the lock
      logged off and the lock was released. This condition has been found
      to occur under three scenarios.
 
      The first is when a site switches the numeric identifier for an
      accession area and the identifier has been previously used.
      The second is when a site has modified the data dictionary for field
      NUMERIC IDENTIFIER (#.4) in the ACCESSION file (#68) to allow more
      than one accession area to have the same identifier. The third is
      explained in #2 below.
      
      See FileMan's field Description for fields TYPE OF ACCESSION NUMBER
      (#.092) and NUMERIC IDENTIFIER (#.4) in the ACCESSION file (#68)
      for further information.
 
      Solution: modified code in routine LRX to remove setting lock on
                global LRO(68,"C",uid). Since the routine also lock/unlocks
                global node LRO(68,"C"), this lock is not neccessary.
 
      NOIS CTX-0798-71641, PAL-0898-60857, PUG-0498-51586, LAS-0798-60721
 
   2. It has been found that under the following conditions the code to
      create an accession's UID was being called twice. This resulted in
      the UID for the accession being changed to a UID that began with
      "00" even if the original UID was unique. This would occur when a
      site has accession areas in parallel and the parallel accession
      area has a lower internal entry number in the ACCESSION file (#68).
 
      Example: Accession area "B" is in parallel with accession area "A".
               Accession area "B" has a lower internal entry number in file
               ACCESSION (#68). When building acccessions from an order
               the accessions are created based on the internal entry
               number in the ACCESSION file (#68). In this example, the
               acccession for accession area "B" would be created first.
               But since it's in parallel with accession area "A" the
               software first creates an accession for accession area "A",
               then uses acccession area's "A" accession number for
               accession area's "B" accession. Next when the Lab software
               attempted to put tests on accession area "A" it detected
               that the UID existed and generated the alternate UID using
               "00" as the NUMERIC IDENTIFIER even though it was the
               same accession.
 
      Solution: modified code in routine LRX to only generate an alternate
                UID if the UID exists and is not for the same accession.
                NOIS PUG-0498-511586

 
  Associated NOIS
  --------------
 
  CTX-0798-71641
  LAS-0798-60721
  PAL-0898-60857
  PUG-0498-51586
 
  Test Sites
  ----------
 
  Central Texas HCS
  Las Vegas VAMC
  Milwaukee VAMC
  Palo Alto VAMC
  Puget Sound HCS
 
 ----------------------------
 
 ROUTINE SUMMARY
 ---------------
 
  The following is a list of routines included in this patch. The second
  line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                   CHECK^XTSUMBLD results
 
    Routine Name   Before Patch   After Patch    Patch List
    ------------   ------------   -----------   --------------
    LR217            N/A          2463818           217
    LRX            14065673       13923654      65,153,201,217
 
 INSTALLATION INSTRUCTIONS
 -------------------------
 The install time for this patch is less than 2 minutes. This patch
 can be installed when Laboratory users are on the system.
 However the following conditions apply:
 
    - Accessioning should not be occurring.
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 NOTE: MailMan and KERNEL patches must be current on the target system to
       avoid problems loading and/or installing this patch.
 
 
 
 1.  If any of the above routines are mapped, disable mapping for them.
 
 2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
     option will load the KIDS patch onto your system.
 
 3.  The patch has now been loaded into a Transport global on your
     system.  You now need to use KIDS to install the transport global.
 
 4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
     select the 'Installation' menu.
 
 5.  Use the 'Verify Checksum in Transport Global' option and verify that
     all routines have the correct checksums.
 
 6.  If you wish to preserve a copy of the routines exported in this patch
     prior to installation, you should use the 'Backup a Transport Global'
     option at this time.  You may also compare the routine in your
     production account to the routine in the patch by using the 'Compare
     a Transport Global to Current System' option.  These options can
     both be found under the 'Installation' menu.
 
 7.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'LR*5.2*217'.  When prompted 'Want to
     DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
     choose 'NO'.
 
 8.  On a mapped system, rebuild your map set.
 
 9.  Routine LR217 can be deleted after successful patch installation.
 
 
 *****************************************************************************
 Below is an example of the dialogue seen during the KIDS install:
 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:    LR*5.2*217        Loaded from Distribution  8/28/98@15:5
7:39
     =&gt; LR*5.2*217
 
This Distribution was loaded on Aug 28, 1998@15:57:39 with header of
LR*5.2*217
It consisted of the following Install(s):
LR*5.2*217
 
   LR*5.2*217
Will first run the Environment Check Routine, LR217
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*217
 
 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET VIRTUAL
 
 
 
 Install Started for LR*5.2*217 :
               Aug 28, 1998@15:58:32
 
 Installing Routines:
               Aug 28, 1998@15:58:32
 
 Running Pre-Install Routine: PRE^LR217
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                                   LR*5.2*217
 
                         *** Pre install completed ***
 
 Running Post-Install Routine: POST^LR217
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*217 Installed.
               Aug 28, 1998@15:58:34.
 
 Install Message sent #10909944
 
 Install Completed
 
 
 
Select Installation Option:
 
 
 
End of example install
 
 *****************************************************************************
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;202 SEQ #155</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;185 SEQ #156</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a problem where the comments were missing from
the Long Form Accession List (LRACC1) option.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;187 SEQ #157</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;190 SEQ #158</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;176 SEQ #159</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch fixes the problem of not being able to choose the option Interim
report for selected tests [LRRP3] from the Ward Lab Menu. 

 Before this patch: 

       Select Ward lab menu Option: Interim 
         1  Interim report 
         2  Interim report by provider 
         3  Interim report for selected tests as ordered 
         4  Interim reports for 1 location (manual queue) 

 The option Interim report for selected tests [LRRP3] could not be chosen.  
 This patch resolves this problem by changing the menu text of the option 
 [LRRP3] from Interim report for selected tests to Interim report for chosen 
 tests.  

  Reference NOIS:      MAN-0496-12206 
      
  Reporting Site:      Manchester, NH 

  Test Site(s):                       
                              
                              
  Installation Instructions: 
    ==========================
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This 
           option will load the KIDS package in this message onto your system. 
        2. The patch has now been loaded into a Transport global on your 
           system. You now need to use KIDS to install the Transport global. 
           On the KIDS menu, under the 'Installation' menu, use the following 
           options: 
               Print Transport Global 
               Compare Transport Global to Current System 
               Verify Checksums in Transport Global 
               Backup a Transport Global 
        3. Users may remain on the system, but installation should be done at 
           off peak hours.  
        4. From the 'Installation Menu' of the KIDS menu, run the option 
           'Install Package(s)' Select the package 'LR*5.2*176' and proceed 
           with the install.  
        5. Delete routine LR176.  

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;214 SEQ #160</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-11-04 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See National Patch Module for LR*5.2*214.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;219 SEQ #161</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-11-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;211 SEQ #162</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-11-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects two problems:
1. The first problem (as reported by Washington in NOIS # WAS-1297-20917)
is encountered when using the VIC card magnetic stripe to identify
patients within the Lab module. Prior to patch LR*5.2*211, the system
would not recognize the data transmitted from the Veteran's ID Card as a
valid patient identifier.  With the installation of patch LR*5.2*211, the
data contained in the magnetic stripe will be interpreted appropriately.
  
2. The second problem (as reported by Indianapolis in NOIS #
IND-0498-41683) is encountered when attempting to add a patient through
the LRDPA routine. After installing patch LR*5.2*153, general lab users
can no longer add patients to the PATIENT file (#2) even though the
ALLOW LAB TO ADD PATIENTS field (#13) of the LABORATORY SITE file (#69.9)
is set to YES. Part of patch LR*5.2*153 was intended to eliminate first
level addition of entries to the Patient file, but provide a second level
entry.  Patch LR*5.2*211 restores this second level entry ability.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;220 SEQ #163</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-12-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;213 SEQ #164</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-02-01 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;227 SEQ #165</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-02-01 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;225 SEQ #166</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-02-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
  Patch 201 inadvertently removed the indicator that designated which
  comment went with which result on the cumulative reports.  This only
  affected the horizontally formatted reports.  The following is an
  example of the output prior to patch 201.
 
ERD   a 07/30/98 09:32                  4.0 L  5.0     12 L   13 L   14 L
 
  After patch 201 the output resembled:
 
ERD   07/30/1998 09:32                  4.0 L  5.0     12 L   13 L   14 L
 
  Patch 225 corrects the output to look like:
 
ERD   a 07/30/1998 09:32                4.0 L  5.0     12 L   13 L   14 L
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;224 SEQ #167</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-02-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;226 SEQ #168</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-02-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;223 SEQ #169</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-03-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;166</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-04-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch includes the routines, files and data dictionary changes
to support CPRS version 1.  It is included with the CPRS Master build
and should not be installed independent of CPRS.  Refer to the CPRS
Installation Guide for installation instructions.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;228 SEQ #171</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-04-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;215</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-04-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
NLT Mapping to LOINC LR*5.2*215
The purpose of the National Laboratory Test (NLT) Mapping to the Logical
Observation Identifier Names and Codes (LOINC) is to provide the mapping of
Chemistry tests result codes, and the standardization of files used in the
Laboratory Software Package. Standardizing codes allows the movement of
tests results from one computer system to another.  This includes sharing
information with both Veterans Health Information Systems and Technology
Architecture (VistA) and Non-VistA computer systems.  The LOINC committee
including the largest clinical laboratories in the United States, and
Veteran Affairs, has agreed to use LOINC to identify test results.

NLT Mapping to the Logical Observation Identifier Names and Codes (LOINC)
has the following features:

Provides a method to communicate across laboratories in support of Clinical
Information Resource Network (CIRN) by mapping VistA lab test to LOINC codes.

Provides sets of universal names and ID codes for identifying laboratory
and clinical test results.

Allows the creation of a uniform naming convention for clinical terms.

Allows the merging of clinical data across sites (where terminology may vary
widely.)

Requires the adoption of naming or coding conventions, and the mapping of
local terminology to these conventions.

Maps the WKLD CODE file(#64) file to LOINC codes.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;239 SEQ #173</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-05-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
LR*5.2*239 FIX FOR LR*5.2*215
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;231 SEQ #175</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-06-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch provides a link between Anatomic Pathology and the Women's
Health Program.  For full details see the patch message in the Forum Patch
Module.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;234 SEQ #176</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-07-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
RECONCILE AUTOPSY DATA DISCREPANCY
 
This patch corrects a problem with option [LRAPQOR] QA Outcome Review Cases.
This report's function is to break out by treating specialty, the number of
autopsies performed over a given period of time.  On the last page of the
report, it lists the total number of autopsies performed in the given date
range.  Under this total, the number of autopsies, subtotaled by treating
specialty, are listed.  These subtotals are not reconciling back to the grand
total number of autopsies.
 
Upon investigation, it has been determined that in-patient autopsy numbers for
patients whose treating specialty had changed since they were originally logged
in, were being totaled in the wrong treating specialty, or omitted from the
report all together.  This resulted in subtotals not reconciling back to the
grand total.  The solution is to create an 'Exceptions List' at the bottom of
the report.  This list displays the autopsy accession number, it's current
treating specialty from the FACILITY TREATING SPECIALTY field (#.09) of the 
PATIENT MOVEMENT file (#405), and its original treating specialty from the
TREATING SPECIALTY AT DEATH field (#14.6) of the LAB DATA file (#63).  It also
displays the total number of exceptions listed.  The subtotals by treating
specialty plus the total number of exceptions now reconciles back to the grand
total number of autopsies performed.  This also gives the site the necessary
information to update the LAB DATA file (#63) with the current treating
specialty number.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;235 SEQ #177</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-07-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;221 SEQ #178</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-07-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch LR*5.2*221 VISTA BLOOD BANK SOFTWARE
Version 5.2 DEVICE PRODUCT LABELING STATEMENT
=============================================
 
The VISTA Laboratory software patch LR*5.2*221 contain the following
changes to the BLOOD BANK SOFTWARE VERSION 5.2 controlled by VHA DIRECTIVE
97-033.
 
BLOOD BANK SOFTWARE V.5.2 Changes:
 
1. Routines LRCENDEL, LROS, LRTSTJAN, and LRTSTOUT have been modified to
accommodate the new ordered test status of NOT PERFORMED.
 
2. The ACCESSION file (#68), subfile (#68.04), *RESULT field (#5) marked
for deletion several years ago has been renamed to DISPOSITION field (#5).
This DISPOSITION field (#5) is used to enter a DISPOSITION status for an
accessioned test that is NOT PERFORMED.
 
3. The LAB DATA file (#63), Service field (#14.1) was modified to include
an input transform. This modification is consistent with the changes being
exported as part of VA FileMan V. 22.
 
The above software changes have been reviewed by the VISTA Blood Bank
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE V.
5.2 controlled functions.
 
PROBLEM: A new disposition for accessioned tests called NOT PERFORMED has
been created. This disposition is assigned to a test that is not performed
for any type of reason. This will replace the past practice of canceling
or deleting tests which had no results entered.
 
RISK ANALYSIS: Changes made by patch LR*5.2*221 have no effect on Blood
Bank Software V. 52 functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*221 does not
alter or modify any software design safeguards or safety critical element
functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to files and
routines identified in Veterans Health Administration (VHA) Directive
97-033. The changes have no effect to Blood Bank functionality or medical
device control functions. There is no adverse potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: There are no required validation
scenarios to be completed by sites after installing this patch.
 
Patch Description:
 
The VISTA Laboratory software patch LR*5.2*221 contain several
enhancements across several functions and procedures. One major
enhancement or change in business practice is the handling of tests that
will not be done (performed) for various reasons. It is clear that there
are legitimate reasons that an ordered procedure will not be performed by
the laboratory service. This enhancement does not prevent the laboratory
personnel from following established guidelines.
 
This patch provides another status called "Not Performed" (NP). Not
Performed is considered a test completion status. The software treats NP
status the same as verified test except there is no test result. Instead
of storing a result, NP enhancement stores a comment indicating the reason
for the NP status.
 
Example:
 *CALCIUM Not Performed: 02/11/19999 9:02pm by 104
 *NP Reason: Hemolyzed Specimen
  
You will note that NP comments start with the "*" that differentiate this
comment from other types of comments. NP comment and reason is stored in
the LAB Data file (#63) and in the LAB ORDER ENTRY (#69). The CPRS order
is marked as 'Discontinued' and displayed on the 'Active Orders' screen
when the LAB ORDER CANCEL notification in CPRS is enabled. If this is not
acceptable then the CPRS order can be marked as Complete when 'SERVICE
CORRECTION' is used as an Order Cancellation Reason.
 
NP is different than "canc". Canc is a result that is stored in the
patient's clinical record.
 
This enhancement allows the conveyance of the following information to the
health care provider:
 
1. The ordered procedure has been given a status of 'Not Performed' and
the reason for the status.
2. It prevents numerous software errors resulting from missing data nodes
in the database.
 
3. Creates an audit trail of what ultimately happened to all tests ordered
or accessioned.
 
Associated NOISs:
================
CHY-0798-51245, ALN-1198-11196, ASH-0898-30554, ATG-0698-31312,
WNY-0698-11221, CLA-0598-20635 CMO-1198-41253, DEN-0898-50267,
DUB-0898-30615, FGH-1198-32348, GAI-0698-32344, HAM-1098-21436,
LAS-0698-60208, LEX-0898-41581, LEX-1198-40049, COM-0498-60788,
MIN-0798-40025, MON-0798-51662, MUS-1098-71863, NAS-1098-31373,
OKL-0698-71939, SAG-0498-42248, SLC-1198-50813, TAM-0798-30677,
TAM-1298-31153, TOG-0898-11351, LEB-1298-22078, TAM-1298-31153,
CLA-1198-22013, ALX-1198-71715, ALX-0898-71684, ASH-0898-30675,
BEC-0998-20129, BYN-0598-11025, DAY-0798-42525, DEN-1098-50461,
EKH-0998-40137, GAI-0898-30690, GNH-0498-41065, HAM-0898-21544,
HUN-0798-20942, LEB-1298-22078, LOM-0498-60884, NAS-1098-31373,
OKL-0698-70962, PHI-0598-20045, PHO-1298-60877, SDC-0598-60879,
SLC-0998-50822, WIC-0898-41805, WPB-1198-31834, WAS-1098-31246,
WNY-0998-11152, BAY-0798-31877, FHM-0897-51017, NCH-0596-40125,
CLA-0598-20356, CIN-0998-41790, CMO-0998-41772, COS-0898-41373,
NJH-1298-21603, EKH-0998-40488, GAI-0698-31676, MWV-0598-21363,
SAM-1098-20301, IOW-1298-41014, BAN-0897-11956, PHO-0798-60573,
CHS-0398-42380, MAD-1098-41673,
 
Test Sites:
===========
Long Beach, CA
Milwaukee, WI
Loma Linda, CA
North Chicago, IL
West Palm Beach, FL
 
Added Cross Reference:
=====================
--A new 'AE' MUMPS cross-reference has been created in the LAB ORDER (#69)
file, Subfile SPECIMEN # (#1), subfile TEST (#6), field CANCEL BY (#10).
This X-Ref is used to identify canceled test that must be sent to PCE for
credit. The data can be used by the billing software.
 
DATA Dictionary Changes:
========================
ACCESSION file (#68):
The *RESULT field (#5) of the Test subfield (#68.04) name has been changed
to DISPOSITION field (#5).
 
LAB ORDER ENTRY file (#69):
A new cross-reference has been created on the CANCEL BY field (#10) of the
TEST subfield (#69.03) to track tests which have disposition of Not
Performed.
 
LOAD/WORKLIST file (#68.2)
A new UID VERIFICATION field (#2.1) has been added to the LOAD/WORKLIST
file (#68.2), PROFILE multiple (#50).
 
LAB DATA file (#63)
The LOCATION field (#14.1) in the LAB DATA file (#63) input transform has
changed to conform to FileMan Version 22 variable cleanup.
 
Changes Made By Patch LR*5.2*221:
=================================
In the past, laboratory users were able to delete all traces of an order
and specimens from various files (database). This would create a
discrepancy between ward-printed documents and laboratory data files. In
addition, if the tests were downloaded to automated instruments or LEDI
Host Laboratory, the result entry could produce corrupt Laboratory patient
records.
 
It was also possible in certain situations for deleted accession numbers
or order numbers to be assigned to two different patients.
 
The major component of this patch is to maintain a record of all ordered
procedures, ensuring that integrity of accession numbers is preserved.
This is accomplished in the following manner:
 
1. Accessioned tests must be either canceled (canc), result entered and
verified (this includes entering test comment) or designated 'Not
Performed' and a reason entered. The date, time, and the person entering
the 'Not Performed' reason will be stored in the laboratory patient
record. In addition, the ACCESSION file (#68), and where appropriate, LAB
ORDER ENTRY file (#69) will be updated to reflect the 'Not Performed'
status. The CPRS order status is changed to completed if 'SERVICE
CORRECTION' is used as the 'Cancellation Reason'.
 
2. If the site makes use of Interim Reports, in addition to the current
function, the software will also display those accessions that have the
status of 'Not Performed'. The software will not display the 'Not
Performed' tests if there are any results entered but not verified.
 
3. If it is determined at a later point, that a 'Not Performed' test
should be performed, the software will allow results to be entered and the
'Not Performed' reason can be removed by the user.
 
4. The new 'Not Performed' test status corrects numerous problems with
Remove An Accession [LRDELOG] option or Delete Entire Order or individual
tests [LRCENDEL] option were being used.
 
*****  CAUTION  ******  CAUTION  ******  CAUTION
ONCE AN ACCESSION NUMBER HAS BEEN ASSIGNED IT CANNOT BE DELETED!
THIS NEW RESTRICTION MAY CAUSE CONCERN IN CERTAIN AREAS OF THE LAB THAT
MAKE A PRACTICE OF DELETING AN ACCESSION NUMBER AND RE-ASSIGNING IT TO A
DIFFERENT PATIENT IN ORDER TO CORRESPOND TO MANUAL LOG BOOK ENTRIES. THIS
PRACTICE OF RE-ASSIGNING ACCESSION NUMBERS SOMETIMES OCCURS IN HISTOLOGY
AND CYTOLOGY DEPARTMENTS
 
Routine Summary:
================
The second line of the routine now looks like:
 
&lt;tab&gt;   ;;5.2;LAB SERVICE;**[patch list]**;Sep 27,1994 
Routines:        Before       After           Patch
                 Check        Check           List
LR221            N/A          2442952       221
LR7OF5          10004887      10037595      223,221
LR7OMERG        21447925      16402501      121,221
LRCAPDSS        6043551       6167016       127,143,201,221
LRCAPF          7808609       9622392       221
LRCAPV1         11760779      12202571      42,119,153,221
LRCAPV1S        4411865       4411858       42,153,201,221
LRCAPV2         8985145       9018506       105,119,153,221
LRCENDE1        11027407      10883548      100,107,121,201,202,221
LRCENDEL        13496869      16365039      100,121,202,221
LREXPD          4933677       4944336       153,201,221
LRGEN1          9235134       7874566       201,221
LRGEN2          14904638      15112799      121,153,221
LRGP2           8849923       3525048       153,221
LRLLS           8810252       12800210      116,221
LRNUM           6162203       6523065       153,221
LROE            15763453      14732765      100,121,201,221
LROS            15245747      16807258      121,153,202,210,221
LRPHEXPT        9259926       8575322       43,121,221
LRPHITE1        11566534      11190758      100,121,198,202,208,221
LRPHITE2        3592550       1527153       221
LRPHITE3        2560860       2178370       100,198,208,221
LRPHITEM        13730844      14270617      121,198,208,202,221
LRPHSET1        7250784       7343884       121,191,221
LRRD            8518062       8518201       221
LRRP            11903812      11856365      195,221
LRRP1           7537640       7638502       153,221
LRRP2           13108827      14561533      106,121,221
LRTOCOST        22163690      23554251      153,201,221
LRTSTJAN        16094468      7681779       67,100,121,128,202,221
LRTSTOUT        12155453      19411504      100,121,153,202,221
LRTT5P1         12006801      12297887      153,221
LRVER3          14057782      14311842   42,100,121,140,171,153,221
LRVER3A         9513672       9561045    1,5,42,100,121,153,190,221
LRVR1           10934986      11269859      42,153,221
LRVR4          11173968       8714660       14,42,121,153,221
LRVRA           6096750       6318899       153,221
LRVRW           9712499       8795650       153,221
LRWD            1493513       1464262       121,221
LRWRKIN1        3732368       9653815       153,201,221
LRWRKINC        12813235      19863974      153,201,221
LRWRKLST        9498844       9455120       1,17,38,153,185,221
 
Required Patches:
=================
LA*5.2*27
 
LA*5.2*47 [Note: This is the Automated Instrument portion of LR*5.2*221]
 
LR*5.2*116
LR*5.2*121
LR*5.2*153
LR*5.2*185
LR*5.2*190
LR*5.2*191
LR*5.2*195
LR*5.2*201
LR*5.2*202
LR*5.2*223
 
Installation Instructions:
==========================
This patch is compatible with OERR 2.5 and both versions of CPRS.
 
          1. Use the 'INSTALL/CHECK MESSAGE' option on the
          PackMan menu. This option will load the KIDS
          package onto your system.
          2. Review your mapped set.  If the routines are
          mapped, they should be removed from the mapped set
          at this time.
 
          3. The patch has now been loaded into a Transport
          global on your system. You now need to use KIDS to
          install the Transport global.
          
          On the KIDS menu, under the 'Installation' menu,
          use the following options:
                 Print Transport Global
                 Compare Transport Global to Current System
                 Verify Checksums in Transport Global
                 Backup a Transport Global
          4. Users may remain on the system, but installation 
             should be done during off peak hours and when
             the Laboratory computer users are idle.
          5. No options need to be placed out of service.
          6. Installation time is less than 10 minutes during
             offpeak hours, and less than 15 minutes during
             peak hours which is NOT RECOMMENDED.
          7. Installation of this patch does not require any
             additional memory space.
          8. From the 'Installation Menu' of the KIDS menu,
             run the option 'Install Package(s)'. Select the
             package 'LR*5.2*221' and proceed with the
             install.
          9. If any routines were unmapped as part of step 2,
             they should be returned to the mapped set once
             the installation has run to completion.
 
Enhancements:
=============
1. The 'Etiology WKLD Code (Force)' [LRCAPF] option has been corrected to
accept WKLD Codes that do not have the suffix code of .0000 (Generic).
NOIS: CHY-0798-51245
 
2. The WKLD Code capture routines have been modified not to count tests
marked as 'Not Performed'.
 
3. The 'Delete entire order or individual tests' [LRCENDEL] option has
been modified to place tests in the status of  'Not Performed' rather than
deleting the test or order from the file (database). Thus preventing
electronic white out of the ordered procedures. This enhancement corrects
problems of undefined errors after tests have been deleted. NOISs:
ALN-1198-11196, ASH-0898-30554, ATG-0698-31312, WNY-0698-11221,
CLA-0598-20635 CMO-1198-41253, DEN-0898-50267, DUB-0898-30615,
FGH-1198-32348, GAI-0698-32344 HAM-1098-21436, LAS-0698-60208,
LEX-0898-41581, LEX-1198-40049, OM-0498-60788, MIN-0798-40025,
MON-0798-51662, MUS-1098-71863, NAS-1098-31373, OKL-0698-71939
SAG-0498-42248, SLC-1198-50813, TAM-0798-30677, AM-1298-31153,
TOG-0898-11351
 
4. The 'General report for selected tests' [LRGEN] option has been
corrected to display the full year and century with test results properly
aligned when less than 19 tests were requested. There are hosts of
associated NOIS called. This may not represent a complete list. NOISs:
LEB-1298-22078, TAM-1298-31153, CLA-1198-22013, ALX-1198-71715,
ALX-0898-71684, ASH-0898-30675, BEC-0998-20129, BYN-0598-11025,
DAY-0798-42525, DEN-1098-50461, EKH-0998-40137, GAI-0898-30690,
GNH-0498-41065, HAM-0898-21544, HUN-0798-20942, LEB-1298-22078,
LOM-0498-60884, NAS-1098-31373, OKL-0698-70962, PHI-0598-20045,
PHO-1298-60877, SDC-0598-60879, SLC-0998-50822, WIC-0898-41805,
WPB-1198-31834
 
5. The 'Group Verify (EA, EL, EW)' [LRGV] option has been enhanced to
store the Result NLT code with the verified results. The user cannot
directly observe this.
 
6. The Clear instrument/worklist data [LRINSTCLR] option has been
enhanced. The changes to this option implements selective clearing of
instrument data from the LAH global. When entries are made in the LAH
global to store instrument data pending verification, the date of creation
and result updating is now recorded. This date will be used to selectively
remove data from the LAH global based on the date original result was
received or last updated.
 
The Clear instrument/worklist data [LRINSTCLR] option will now allow
clearing by either of the following ways:
 
a. Data received before the selected date (optional time) is purged. If
you enter a date only then data received before that date is cleared. 
 
b. If you enter a date/time then data received before that date/time is
cleared.
 
Example:
 
If you enter Sept 4, 1998 then data received through Sept 3, 1998 is
cleared. If you enter Sept 4, 1998 @1200 then data through Sept 4, 1998
115959 is cleared.
 
The following routines support this enhancement:
 
a. LAGEN - Changes made to set date/time of entry creation and last
update. Last update can be different than creation date if data is
retransmitted (overlay data = yes) or additional results received.
 
b. LRLLS - Clear instrument data option that does actual clearing based on
user's parameters. User can purge by date/time or blanket purge when using
option Clear instrument/worklist data [LRINSTCLR].
 
c. LRVR1 - Verifying routine with changes to setup date/time information
when manual data entry is used during Enter/Verify Automated Instrument
[LRVR] option.
 
d. LRVRW - Verifying routine with changes to setup date/time information
when load/work list data entry is used during the Enter/verify data (Work
list) [LRVRW] option. 
 
e. If during the clearing process an entry in LAH is found with no
date/time for creation/update then the current date/time is added to the
entry. This entry is then eligible for clearing the next time the option
is run and it meets the date/time parameter.
 
 
7. The routine LRNUM has been modified to control the echo of stored data.
This is not readily apparent to the user.
 
8. The 'Order/test status' [LROS] option has been enhanced to display
tests having the 'Not Performed' status. Also spacing was increased to
accommodate accession area abbreviation of 5 characters. NOIS:
WAS-1098-31246
 
9. The 'Itemized routine lab collection' [LRPHITEM] option and 'Receipt of
routine lab collection from wards' [LRPHEXCPT] option has been enhanced to
conform to the 'Not Performed' status assignment. Order and accessioned
tests are no longer deleted. NOIS: WNY-0998-11152
 
10. The 'Interim report' [LRRP2] option has been enhanced to display
orders that contain only 'Not Perform' status and no results entered or
verified.
 
11. The option 'Turnaround times By Urgency' [LR TAT URGENCY] has been
modified to count only those tests that have been counted for Workload. In
order for a test to be counted it must have WKLD Code assigned and
verified results. NOIS: BAY-0798-31877
 
12. Various non-Microbiology Result Entry options were modified to
accommodate 'Not Performed' test status.
 
13. The option 'Ward lab menu' [LRWARDM] entry action routine has been
corrected not to set the variable LREND if no ward is selected. If no ward
was selected unpredictable software behavior could result. NOISs:
FHM-0897-51017, NCH-0596-40125, CLA-0598-20356
14. The INCOMPLETE TEST STATUS REPORT [LRWRKINC] option sorting/searching
capability was enhanced.
 
Example:
 
If you answer "YES" to the prompt: Specify detailed sort criteria? No//
Then you will be able to specify:
 
   -  If controls should be excluded.
   -  Specific tests to search for.
   -  A lab arrival time. This will exclude uncollected specimens, 
      and specimens with a later arrival time.
   -  Exclude non-required tests.
   -  Exclude selected test(s) from report.
   -  If report is generated for specific test(s) which are 
      panels, then the user can have the report check the tests that
      make up the panel.
 
15. The 'Incomplete test status report' [LRWRKINC] option has been
modified to honor tests having 'Not Performed' status and not include them
on the incomplete test list.
 
16. Test that have rolled over can be verified by either the original
accession number or the rolled over accession number and the test will be
marked completed on both accession numbers. NOISs: CIN-0998-41790,
CMO-0998-41772, COS-0898-41373, NJH-1298-21603
 
17. Correct problem of the Collection List not assigning correct accession
numbers when queued in a multidivisional setting. NOIS: EKH-0998-40488
 
18. Correct the option 'Interim report by provider' [LRRD] not correctly
handling providers names with more than 20 characters. NOISs:
GAI-0698-31676, MWV-0598-21363, SAM-1098-20301
 
19. Merged accessions [LRACC MERGE] will now download to auto-instruments.
Option would not accept partial accession number. Also merged tests
maintain the primary ordered test linkage. NOISs: IOW-1298-41014,
BAN-0897-11956
 
20. Incorrect data is extracted if the site has the 'COLLECT WKLD LOG FILE
DATA' field (#616) of the LABORATORY SITE file (#69.9) set to yes during
DSS Workload extraction procedure. The DSS Package has exclusive rights to
the WKLD LOG file (#64.03). The DSS Coordinator must sanction any local
field use of this file. This patch will set the field to null before
starting to process workload extraction requests. Also the default
provider was being extracted from the incorrect global location. NOIS:
PHO-0798-60573
 
21. Corrects a typographical error in referencing the XTMP global. NOIS:
TAM-0698-31132
 
22. The Merge Accessions [LRACC MERG] option has been modified to comply
with NP protocol. The test(s) that are merged into another accession will
have NP designation set and a delete notification is sent to CPRS as a
Discontinued Order. The reverse is true for the accession receiving the
merged test.
 
23. During verification by automated instrument, using the Enter/verify
data (auto instrument) [LRVR] option, Enter/verify data (Load list)
[LRVRW2] option or Enter/verify data (Work list) [LRVRW] option, the
building of the test list could cause an error when a user selects a
loadlist profile with many tests. This would create a string too long
error. The lists of tests to be verified are now stored in the TMP global
instead of local arrays. This change will allow the site to place as many
tests as required under a single profile. Collecting sites, using the LEDI
software, will now be able to place all tests sent to a host lab under a
single profile on the worklist. The routines LRGP2 and LRVR1 have been
enhanced to correct this problem. NOISs: CHS-0398-42380,
MAD-1098-41673
 
Examples:
 
Accessioning [LR IN] menu
 
The name of the Delete entire order or individual tests [LRCENDEL] option
and Delete test from an accession [LRTSTOUT] option was not changed. Tests
are no longer deleted but will have a disposition (status) of 'NOT
PERFORMED'. The test(s) will have a complete date assigned and will not
appear in Incomplete Load/Worklist. Both options use the same logic.
 
Select Accessioning menu Option: del
    1    Delete entire order or individual tests
    2    Delete test from an accession
CHOOSE 1-2: 1  Delete entire order or individual tests
 
ENTER ORDER NUMBER: 440
Order  Test        Urgency   Status     Accession
  -Lab Order # 440                           Provider: BEAR,GUMMY O.
  BLOOD    SERUM
  UREA NITROGEN     ROUTINE  Collected      01/05/1999@22:55 CH 0105 4
   : ~For Test: UREA NITROGEN
   : ~DEMO NP option 
AARDVARK,JIMMY JR.            333-22-2444
Change entire order? No// Y  (Yes)
 
Cancellation Reason: ?  
 Answer with ORDER REASON NAME, or SYNONYM, or CODE
 Do you want the entire ORDER REASON List? Y  (Yes)
Choose from:
   CLOTTED SPECIMEN
   DUPLICATE TESTS
   HEMOLYZED SPECIMEN
   INSUFFICIENT SPECIMEN
   OTHER CANCEL REASON
   PATIENT UNAVAILABLE
   REQUESTING PHYSICIAN CANCELLED
   SERVICE CORRECTION
 
*[This next prompt is new - It allows the use of entries in the LAB
DESCRIPTION file (#62.5)  that have special screens. The default screens
are GENERAL, ORDER and LAB. If you wish to include additional screens,
enter them here.]
 
Select NP comment Lab Description screen: 
 
Not Perform Reason : NS
  (NO SPECIMEN RECEIVED) [Description file expanded text]
Satisfactory Comment ? Yes//   YES
 
*[This is what a not performed accession/order will look like.]
 
Select Accessioning menu Option: ORDER/Test status
Select Patient Name:    AARDVARK,JIMMY JR.         04-04-44     333222444 
 
                           *** WARNING ***
                       *** RESTRICTED RECORD ***
 
DATE to begin review: TODAY//  (JAN 05, 1999)
 
  Test              Urgency   Status                            Accession
  -Lab Order # 440                           Provider: BEAR,GUMMY O.
  BLOOD    SERUM
  UREA NITROGEN             *Canceled by: STALLING,FRANK  
   : *NP Reason:NO SPECIMEN RECEIVED
   : *NP Action:01/05/1999@22:57
   : ~For Test: UREA NITROGEN
   : ~DEMO NP option 
Orders for date: 01/04/1999  OK? Yes// ^
Select Patient Name: 
 
24. Lab Descriptions cancellation comments cannot contain a semicolon ';'.
If semi-colon is entered, it will be converted to a dash '-'.
 
25. The 'Accessioning test ordered by Ward order entry' [LROE] option now
requires the user to enter a collection date/time. 'NOW' is an acceptable
entry. The default answer to the question 'Do you have the entire order?'
has been removed.
 
26. A new UID VERIFICATION field (#2.1) has been added to LOAD/WORKLIST
file (#68.2), PROFILE multiple (#50).
 
Example:
 
When verifying by Lab Universal Identifier (UID) the site can configure
how accessions are selected.
 
If "PROFILE ACCESSION AREA ONLY" is selected then only those UIDs which
are from the accession area designated for this profile can be selected.
 
If "ANY ACCESSION AREA" is selected then a UID from any accession area
can be selected. Note that an accession from a different area should have
tests that would be in this editing profile.
 
The routine LRVRA behavior is controlled by the entries in this field.
 
27. The routine LRVER1 has been enhanced to store LOINC code when tests
are verified manually.
 
28. The LOCATION (#14.1) field in the LAB DATA file (#63) input transform
has changed to conform to FileMan Version 22 variable cleanup.
 
29. The routine LRVR4 has been modified not to expand lab descriptions
when processing instrument comments. This can have undesirable effects -
expands comments when it is not required, makes comments too long and they
will not be stored.
 
30. Incremental locks have been added to routines LROE and LR7OF5 to
correct CPRS orders not being receipted properly.
 
31. In the past, those entries in the LAB DESCRIPTION file (#62.5) not
having a screen defined would be expanded when entering comments. This
prevented the use of the same code for two different areas. For example 1+
in microbiology may have a different expansion in blood bank. The software
logic has been enhanced to allow the same code to expand appropriately
depending on the screen. The same code can be used more than once.
 
The following example displays how to determine which Lab Descriptions
that does not have a screen using the Search and Edit combinations of VA
FileMan 21.0.
 
Examples:
 
VA FileMan 21.0
 
Select OPTION: SEARCH FILE ENTRIES
 
OUTPUT FROM WHAT FILE: LAB DESCRIPTIONS//
 
  -A- SEARCH FOR LAB DESCRIPTIONS FIELD: SCREEN 
  -A- CONDITION: NULL  
 
  -B- SEARCH FOR LAB DESCRIPTIONS FIELD: 
 
IF: A//     SCREEN NULL
 
STORE RESULTS OF SEARCH IN TEMPLATE: 
 
SORT BY: NAME// 
START WITH NAME: FIRST// 
FIRST PRINT FIELD: .01  NAME  
THEN PRINT FIELD: EXPANSION    
THEN PRINT FIELD: 
 
  *************************
Heading (S/C): LAB DESCRIPTIONS SEARCH  Replace 
DEVICE:   TELNET    Right Margin: 80// 
LAB DESCRIPTIONS SEARCH                        MAY 10,1999  10:36    PAGE
1
NAME   EXPANSION
-------------------------------------------------
 
DV     TEST PERFORMED AT DALLAS, TX VAMC LAB
LX     TEST PERFORMED AT LEXINGTON, KY VAMC LAB
 
                         2 MATCHES FOUND.
 
Using the results of the search edit those Lab Description(s) missing a
screen.
 
Select OPTION: ENTER OR EDIT FILE ENTRIES  
 
INPUT TO WHAT FILE: LAB DESCRIPTIONS// 
EDIT WHICH FIELD: ALL// .01  NAME  
THEN EDIT FIELD: SCREEN    
THEN EDIT FIELD: 
 
Select LAB DESCRIPTIONS NAME: DV          TEST PERFORMED AT DALLAS, TX
VAMC LAB
NAME: DV// 
SCREEN: ?
     Choose from: 
       L        LAB
       E        AP EM
       S        AP SURG
       H        ALERT
       C        AP CYTO
       M        MICRO
       G        GRAM STAIN
       F        FUNGUS
       T        TB
       P        PARASITE
       V        VIRUS
       Y        SPUTUM SCREEN
       W        SMEAR
       A        ORDER
       D        BB DISP
       R        BB TRANS
       X        BB TESTING
       Z        BB COLLECT
       I        AP GENERAL
       J        BB AUDIT
       K        GENERAL
       B        BB RELEASE
SCREEN: O  ORDER
 
Select LAB DESCRIPTIONS NAME: Repeat ..
 
YOU SHOULD NOW VERIFY THAT THE LAB DESCRIPTIONS ARE EXPANDING
APPROPRIATELY.
 
32. The "ORDERED TEST COST BY PROVIDER" [LR ORDERED TESTS BY PHY] option
has been enhanced to allow selection of accessioning division or any given
order. This will allow a report based on where the specimen was
accessioned. The report will be based on the division of the user
accessioning the specimen. If no division is selected, all divisions will
be included on the report.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;212 SEQ #179</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-07-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects issues both with Y2K and also makes the Blood Bank
package compatible with changes being exported with VA FileMan version 22.
 For a complete description of the patch contents, see the Description of
the patch in the FORUM Patch Module.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;238 SEQ #180</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-08-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;230 SEQ #181</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-10-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See patch LR*5.2*230 in the National Patch Module for a description of
this build.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;229 SEQ #182</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-12-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;244 SEQ #183</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-12-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;241 SEQ #184</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-12-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;247</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-12-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Below is a brief description only of changes included in this patch.  For
a full description please see the Patch Description in the Forum Patch
Module.
 
 Problem # 1:  
 It was determined by the VistA IV&amp;V Y2K testing analysis that several
 displays within the Blood Bank software that historically displayed
 Month/Day only needed to also display a 4 digit year.
 NOIS:  ISP-0899-N0355
 - Resolution:  Screen displays associated with the ordering and
   processing of blood components for a patient have been modified to
   always include a 4 digit year, even if no year was previously
   displayed.
 
 Problem # 2:
 It was discovered during Y2K testing of the Donor module of the Blood
 Bank package that when donor collection information is entered into the
 computer, future times are allowed when entering the fields DATE/TIME
 COLLECTION STARTED (#65.54,4.2) and DATE/TIME COLLECTION COMPLETED
 (#65.54,4.3).  This posed a problem during testing in the system being
 used for Y2K testing.  The scenario where a unit is collected on
 12-31-1999 but data is not entered until 12-1-2000 and the date/times
 being entered as 12-31@0800 defaults to the current year, which is a
 future time.  This should not be allowed.
 NOIS:  ISA-1099-13117
 - Resolution:  The input transforms of the affected fields will be edited
   so that no future dates are allowed.
   
 Problem # 3:
 It was reported by a site via an Outlook message that when logging in
 units using the option Log-in regular (invoices)  [LRBLILR] and the
 barcode scanner is used, if a site's supplier uses Expiration Date
 barcodes utilizing a 4 digit year, then the display to the user seems to
 indicate that the scanner did not interpret the code correctly.  The
 correct expiration date was in fact being assigned to the unit, however,
 the software was interpreting the input as if the user was manually
 inputting the expiration date.  This could cause some confusion at sites.
 - Resolution:  The routine which interprets barcodes has been modified so
   that the barcode scanner itself is interpreting the expiration date.
 
 Problem # 4:  
 The input screen for the fields DIVISION in the BLOOD INVENTORY File
 (#65,.16) and ASSOCIATED DIVISION in the BLOOD PRODUCT File (#66.1,.01)
 incorrectly made the assumption that a site's division was dinumed to the
 INSTITUTION File (#4). 
 NOIS: WPB-1196-31737
 - Resolution:  The screen in the following input transforms have been
   changed to S DIC("S")="I +$G(^DIC(4,+Y,99))=+$P($$SITE^VASITE,U,3)"
                          D ^DIC K DIC S DIC=DIE,X=+Y K:Y&lt;0 X"
   BLOOD INVENTORY File (#65) field DIVISION (#65,.16)
   BLOOD PRODUCT File (#66) field ASSOCIATED DIVISION (# 66.1,.01)
 
 Problem # 5:  
 In a multidivisional site, if the report Patient transfusions &amp;
 hematology results [LRBLPCH] crashed for any reason, it could not be
 restarted if the name of the Blood Bank accession area was not BLOOD
 BANK.  This is because in order to restart the crashed report, the option
 Delete a user's patient list [LRBLSDPL] needed to be run first.  This
 option had the accession area hard coded to be BLOOD BANK therefore would
 not always work in a multidivisional site with more than one Blood Bank.
 NOIS:  BHS-0899-12185
 - Resolution:  The option Delete a user's patient list [LRBLSDPL] was
   modified to determine the accession area for the Blood Bank based on
   the user's division at sign-on.  Previously, the accession area was
   hard-coded to be BLOOD BANK.
 NOTE-- the resolution to this problem will not be validated at the sites
        as it is not practical to ask sites to force a system crash.  The
        validity of the fix for this will be internally verified by
        development under controlled conditions only.  This option does
        not contain any safety critical functions for the blood bank.
 
 Problem # 6:  
 When a unit which was originally scanned during log-in is modified, such
 as thawing or irradiating, the unit could no longer be processed using a
 scanner.  This affected both the Blood Bank as well as the Surgical Risk
 Initiative.
 NOIS:  HIN-1196-40687     ALB-0298-52583
 - Resolution: When a unit is modified using the option Disposition -not
   transfused [LRBLIDN] and the Unit ID remains the same (i.e. unit not
   pooled or split) the ^LRD(65,"C", cross-reference is now built if the
   scanner was used to process the modification.
 
 Problem # 7:
 It was discovered during internal testing by the developer that units
 that are modified in error, and the option Edit unit log in [LRBLSEL] is
 used to either edit or delete the modified unit, the ^LRD(65,"C",
 cross-reference was not being updated appropriately.
  - Resolution:  Coding was changed to update the ^LRD(65,"C"
    cross-reference as appropriate when units are edited.
 
 Problem # 8:
 When executing the option Print all BB patient reports on print queue
 [LRBLP PRINT ALL ON QUEUE] if for some reason the first patient blood
 bank report added to the print queue doesn't have a PROVIDER the report
 bombs with an undefined and none of the reports will print.  Also, if a
 patient blood bank report added in the middle of the queue doesn't have a
 provider, the report will print the provider of the report just
 previously added to the queue.
 NOIS:  ALB-0899-52597
 - Resolution:  Regardless of where in the queue a report is added, if the
   report record does not have the provider listed for any reason, the
   word "UNKNOWN" will be stuffed as the provider.
   NOTE--this issue has only been reported at one site and is not easily
         reproducible. The validity of the fix for this will be internally
         verified by development under controlled conditions only.  This
         option does not contain any safety critical functions for the
         blood bank.
 
 Problem # 9:
 When using the option Disposition - relocation [LRBLIDR] there were a
 variety of reported problems with the lookup for LOCATION to relocate
 blood to.
 NOIS:  IND-1296-40311   BRX-0597-11400   LEB-0199-20568
 - Resolution:  The lookup routine LRUC was rewritten.  It now uses
   FileMan utilities to look up valid locations based on the division of
   the user at sign-on.
 
 Problem # 10:
 During the option Log-in regular (invoices) [LRBLILR], when the user is
 presented the screen to edit units just logged in, if a unit had been
 accidentally logged in with an expiration date the same date as the log
 in, and the expiration date is edited correctly, the unit is still
 flagged as expiring today when re-displayed to the user. This was ONLY a
 flag problem.  The actual expiration date of the unit always reflected
 the date correctly as input.
 NOIS:  LEX-0197-40288
 - Resolution:  The option has been edited so that the flags for units
   expiring the same day work appropriately.
 
 Problem # 11:
 During the background process of collecting workload for Blood Bank
 accessions, result data was being inappropriately stuffed into fields
 which had been starred for deletion.  This data was then printing on the
 Accession area worklist [LRUWL] report.
 NOIS:  ATG-0895-32603
 -Resolution: The collection of workload data no longer stuffs result data
  into inappropriate fields.
 
 Problem # 12:
 As of April 23, 1999 the VistA BLOOD BANK Software (v 5.2) is classified
 as a Medical Device # BK970021 with the FDA.  According to VHA Directive
 97-033, Section 4. ACTION part b., the CIOFO would embed in the form of a
 comment in routines that contain the controlled software a statement that
 the routine should not be modified.  According to FDA, if a facility
 other than the original software manufacturer makes any changes to the
 cleared device, including changes to the software components of the
 medical device, this software no longer represents the cleared medical
 device and the facility making the modification becomes the medical
 device manufacturer of a new medical device.   
 - Resolution:  Routines classified as Group A in VHA Directive 97-033
   will have the following verbiage inserted in the third line:
   ; Per VHA Directive 97-033, this routine should not be modified.
     Medical Device # BK970021
 
 Problem # 13:
 The Patient Merge software introduced a problem in the database
 that has affected the way some of the Lab routines determine the
 LABORATORY REFERENCE field (#2,63) from the PATIENT File (#2).  
 - Resolution:  Routines LRBLPAB and LRBLPD1 have been modified to use the
   function $$LRDFN^L7OR1(DFN) to determine a patient's LRDFN.  This
   function was introduced in LR*5.2*230 as a defensive programming
   measure to prevent an undefined error from occurring when attempting to
   determine the LRDFN from the ^DPT(DFN,"LR") node.
 
 Problem # 14:
 There may be some old post-init or otherwise unnecessary routines at
 sites.  These will be removed during the KIDS install if they are
 present.
 -Resolution:  If present on a system, routines LRBLFIX, LRBLFX72,
  LRBLJ, LRBLPOST, LRBLCON and LRBLXREF will be removed as part of the
  KIDS Install.
 
 Problem # 15:
 It was reported by Milwaukee via a mail message that when a blood bank
 specimen is drawn on one day but not actually accessioned until the next
 day, under certain circumstances an undefined error would occur when a
 tech attempts to assign units which require crossmatch using the option
 Select units for patients [LRBLPIC].  Upon further investigation it was
 discovered that the option was attempting to update the field COMPLETION
 TIME (#68.14,1) for workload purposes.  It was further determined that
 when the error did not occur, the incorrect workload record was being
 updated.  It is actually inappropriate to update this field as it is set
 when the original accession has the ABO/Rh and ABS results entered.
 -Resolution:  Coding has been changed so that the field COMPLETION DATE
 (#68.14,1)is no longer updated as a result of using the option Select
 units for patients [LRBLPIC].
 
 Problem # 16:
 The patch LR*5.2*72 inadvertently exported a change in the length of the
 text allowed in the BLOOD PRODUCT File (#66) field SYNONYM (#66.021,.01).
 This resulted in sites being restricted to 5 character synonyms for
 entries made to this field after installation of that patch.  
 -Resolution:  The data dictionary for this field is being re-exported and
 the SYNONYM field (#66.021,.01) field will now be allowed to accept
 entries from 1-25 characters.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;250 SEQ #186</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-12-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;251 SEQ #187</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-01-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;242 SEQ #188</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-01-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Y2K Waiver Exemption ID#: Y2KWE0040
 This patch may be installed at any time during the Y2K 
 Moratorium (including the 12/15/1999 thru 1/15/2000 Y2K lockdown).

 This patch corrects two problems:
  
 1. The Indian Health Service reported a possible Y2K problem.  Some of the
 Microbiology and Anatomic Pathology routines were using an unreliable
 method of converting the internal year format to an external 4 digit
 format. This calculation is now done using verified FileMan utilities.

 2. The Patient Merge software introduced a problem in the database that
 has affected the way many of the Lab routines get the Laboratory
 Patient identifier (LABORATORY REFERENCE field (#63) in the PATIENT
 file (#2) also known as the LRDFN). The Patient Merge developers are
 working on a solution for the problem created in the database and the
 cause of the problem.  Patch LR*5.2*242 is being created as a defensive 
 measure against this problem and any possible future changes that may 
 affect the problem global node: ^DPT(DFN,"LR").

  
 This patch to the Laboratory package does not contain any changes to the
 VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 97-033 titled VISTA
 BLOOD BANK SOFTWARE VERSION 5.2.
  
 PROBLEM:   The Patient Merge software introduced a problem in the database
 that has affected the way many of the Lab routines determine the
 LABORATORY REFERENCE field (#2,63) from the PATIENT File (#2).  Patch 
 LR*5.2*242 is created as a defensive measure against this problem and any
 possible future changes that may affect the problem global node
 ^DPT(DFN,"LR").  
  
 RISK ANALYSIS:   Changes made by patch LR*5.2*242 have no effect on Blood
 Bank software functionality, therefore RISK is none.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*242 does not
 alter or modify any software design safeguards or safety critical elements
 functions.
  
 POTENTIAL IMPACT ON SITES:  Patch LR*5.2*242 contains no changes to 
 routines identified in Veterans Health Administration (VHA) Directive 
 97-033. There is no adverse potential to sites.
  
 VALIDATION REQUIREMENTS BY OPTION:  There are no required validation
 scenarios to be completed by sites after installing LR*5.2*242.

 
 Related NOIS: LEX-0599-42692
               BHS-0799-12636
 
 Test site(s): Oklahoma City, OK
 
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
 
     &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
 
                            CHECK^XTSUMBLD results
 Routine name         Before Patch      After Patch       Patch List
 ============         ============      ===========       ==========
 LR7OGU               3794087           3796964           187,242
 LRAPQACN             6886068           7049309           72,242
 LRAPQAFS             6133966           6306636           72,242
 LRAPQAMR             8875869           9048539           72,134,242
 LRAPQOR3             3828767           3833155           234,242
 LRAPS3               2265857           2247733           242
 LREPI2               5563295           5729687           132,157,175,242
 LRGEN                6602814           6713858           121,201,202,242
 LRMIEDZ2             12615006          12271075          23,104,242
 LRMIV2               15350039          15031478          242
 LROW2RP              6088048           5879307           121,201,242
 LRRP4                3097412           3053252           121,242
 LRUQ                 5009717           2073981           242
 
        Installation Instructions:
        ==========================
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
           option will load the KIDS package in this message onto your
           system.
        2. Review your mapped set.  If the routines are mapped, they should
           be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on your
           system. You now need to use KIDS to install the Transport
           global.
           On the KIDS menu, under the 'Installation' menu, use the
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system, but installation should be done
           at off peak hours.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak hours
           and less than 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory space.
        8. From the 'Installation Menu' of the KIDS menu, run the option
           'Install Package(s)' Select the package 'LR*5.2*242' and proceed
           with the install.
        9. If any routines were unmapped as part of step 2, they should be
           returned to the mapped set once the installation has run to
           completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;252 SEQ #189</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-01-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Y2K Waiver Exemption ID#: Y2K??????
This patch may be installed at any time during the Y2K 
Moratorium (including the 12/15/1999 thru 1/15/2000 Y2K lockdown).
 
This patch corrects date input problems found in patch LR*5.2*242.
 
This patch to the Laboratory package does not contain any changes to the
VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 99-053 titled VISTA
BLOOD BANK SOFTWARE VERSION.
 
PROBLEM:   Date handling errors were found in the logic of patch
LR*5.2*242.  This patch corrects these errors.
 
RISK ANALYSIS:   Changes made by patch LR*5.2*252 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*252 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
POTENTIAL IMPACT ON SITES:  Patch LR*5.2*252 contains no changes to
routines identified in Veterans Health Administration (VHA) Directive
99-053. There is no adverse potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION:  There are no required validation
scenarios to be completed by sites after installing LR*5.2*252.
 
 
Related NOIS: MOU-1299-32678
              PUG-1299-52743
 
Test site(s): MOUNTAIN HOME, TN
              PUGET SOUND HCS
 
ROUTINE SUMMARY:
================
The following is a list of the routine(s) included in this patch.  The
second line of each of these routine(s) will look like:
 
    &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
 
                           CHECK^XTSUMBLD results
Routine name         Before Patch      After Patch       Patch List
============         ============      ===========       ==========
LR7OGU               3796964            3798654          187,242,252
LRAPQACN             7049309            7049272          72,242,252
LRAPQAFS             6306636            6306592          72,242,252
LRAPQAMR             9048539            9048495          72,134,242,252
 
       Installation Instructions:
       ==========================
       1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
          This option will load the KIDS package in this message onto
          your system.
       2. Review your mapped set.  If the routines are mapped, they
          should be removed from the mapped set at this time.
       3. The patch has now been loaded into a Transport global on your
          system. You now need to use KIDS to install the Transport
          global.
          On the KIDS menu, under the 'Installation' menu, use the
          following options:
              Print Transport Global
              Compare Transport Global to Current System
              Verify Checksums in Transport Global
              Backup a Transport Global
       4. Users may remain on the system, but installation should be
          done at off peak hours.
       5. No options need to be placed out of service.
       6. Installation time is less than 2 minutes during off peak
          hours and less than 5 minutes during peak hours.
       7. Installation of this patch requires no additional memory
          space.
       8. From the 'Installation Menu' of the KIDS menu, run the option
          'Install Package(s)' Select the package 'LR*5.2*252' and
          proceed with the install.
       9. If any routines were unmapped as part of step 2, they should
          be returned to the mapped set once the installation has run
          to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;253 SEQ #190</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-01-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
A Y2K problem was logged in NOIS regarding the reports generated in the
'[LRAPSEARCH] Search options, anat path' menu.  This menu performs searches on
Anatomic Pathology accessions based on morphology, disease, etiology,
procedure, function, or diagnosis code.  The menu is shown below:
 
   MC     MORPHOLOGY code search, SNOMED [LRAPSM]
   DC     DISEASE code search, SNOMED [LRAPSD]
   EC     ETIOLOGY code search, SNOMED [LRAPSE]
   PC     PROCEDURE code search, SNOMED [LRAPSP]
   FC     FUNCTION code search, SNOMED [LRAPSF]
   IC     ICD9CM code search [LRAPSI]
   AX     MULTIAXIAL code search, SNOMED [LRAPSEM]
 
NOIS calls were logged because data was being omitted from the reports for
year 2000 accessions.  Below is an example of the report generated by menu
item '[LRAPSM] MORPHOLOGY code search, SNOMED':
 
SURGICAL PATHOLOGY (SP) SEARCH(Dec 30, 1999=&gt;Jan 03, 2000)
 # = Not VA patient
SNOMED TOPOGRAPHY CODE: ALL--                 SNOMED MORPHOLOGY CODE: ALL--
-----------------------------------------------------------------------------
        NAME       ID  SEX AGE  ACC #      ORGAN/TISSUE       MORPHOLOGY
HOBBS,JOHN H       9801  M 63  SP 99 4814     SKIN OF CHEST   BASAL CELL CARCI
                                                              RX0
                                              SKIN OF HEAD    BASAL CELL CARCI
                                                              RX0
JENKINS,CLARENCE   3133  M 41  SP 99 4808     TRACHEA         HEMORRHAGE
LAMBE,NORMAN B.    5487  M
MONEY,CLAUDE C     4599  M
NELSON,DIANE M     4856  F
NELSON,KENNETH R   1674  M 51  SP 99 4820     SKIN OF UPPER E PSORIASIS
OWENS,ERNEST D     5310  M
 
Notice that some of the names listed show no data in the Age, Acc #,
Organ/tissue, and Morphology columns.  These are year 2000 accessions.  All
1999 accessions still reported correctly.
 
It was discovered that the two digit year was being used as a subscript in
the ^TMP global which stores that data temporarily so that it may be
printed.  The two digit year subscript is extracted from dates in the LAB DATA
file (#63) as follows:
 
Surgical Pathology:  DATE/TIME SPECIMEN RECEIVED field (#.1) of SURGICAL
                     PATHOLOGY (sub-field #8, Sub-file #63.08)
Cytopathology:       DATE/TIME SPECIMEN RECEIVED field (#.1) of
                     CYTOPATHOLOGY (sub-field #9, Sub-file #63.09)
Electron Microscopy: DATE/TIME SPECIMEN RECEIVED field (#.1) of EM
                     (sub-field #2, Sub-file #63.02)
Autopsy:             AUTOPSY DATE/TIME field (#11)
 
The year subscript is created by extracting the second and third characters
of the date.  For example, if the date is 2991031.0800, the year subscript
will be 99.  If the date is 3001031.0800, the year subscript will be 00.
 
Here is an example:
 
^TMP(545305223,99,2) = AU 99 2^20^M^WINKERBEAN,FUNKY^5533^10/14^2
^TMP(545305223,99,2,151,0) = BRAIN
^TMP(545305223,99,2,151,41770) = ABSCESS, DRAINING
^TMP(545305223,"00",1) = AU 00 1^81^M^FULTON,CHESTER E.^5537^1/13^2
^TMP(545305223,"00",1,395,0) = SKIN BETWEEN FOURTH AND FIFTH TOES
^TMP(545305223,"00",1,395,"02060") = SADDLE SHAPE
 
The second subscript is the two digit year.  Subscript "00" was confusing
the code causing it to quit before executing the portion of code that
prints the age, accession number, organ/tissue, and morphology.
 
The problem has been corrected by including the century indicator when
creating the second subscript.  For year 1999, the subscript will be 299.
For year 2000, the subscript will be 300.  See below:
 
^TMP(545305223,299,2) = AU 99 2^20^M^WINKERBEAN,FUNKY^5533^10/14^2
^TMP(545305223,299,2,151,0) = BRAIN
^TMP(545305223,299,2,151,41770) = ABSCESS, DRAINING
^TMP(545305223,300,1) = AU 00 1^81^M^FULTON,CHESTER E.^5537^1/13^2
^TMP(545305223,300,1,395,0) = SKIN BETWEEN FOURTH AND FIFTH TOES
^TMP(545305223,300,1,395,"02060") = SADDLE SHAPE
 
This change to the ^TMP global structure has corrected the problem.
 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;245 SEQ #191</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-01-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;246 SEQ #192</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-01-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;240 SEQ #193</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-02-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch fixes an UNDEF in the routine LRVER1 at line EX2+1.  This is a patch 
to patch LR*5.2*239.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;206 SEQ #194</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-05-01 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
  This patch fixes the following problems in the option Add a new
  data name [LRWU5] that allows you to add a new data name to the LAB
  DATA file (#63).
 
  1.  Option does not allow you to enter a value less than zero for the
      minimum or maximum value for numeric data names.
 
  2.  Option does not allow you to designate decimals for the minimum or
      maximum value for numeric data names.
 
  This patch to the Laboratory package does not contain any changes to the
  VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 99-053 titled
  VISTA BLOOD BANK SOFTWARE.
 
  Associated NOIS: NOL-1197-71309
 
        Test Site: Asheville, NC 
                   Montgomery, AL
                   Muskogee, OK
                   New Orleans, LA
 
   Reporting Site: New Orleans, LA
 
 
 ROUTINE SUMMARY
 ===============
 
  The second line of the routine now looks like:
 
  &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                        Checksum Values
 
  Routine Name       Before Patch    After Patch    Patch List
  ------------       ------------    -----------    ----------
  LRWU5                13485455       11320832      140,171,177,206
 
 
  Installation Instructions
  =========================
   It is recommended that this release be installed during off peak hours.
 
    1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
       This option will load the KIDS package in this message onto your
       system.
    2. Review your mapped set.  If the routines are mapped, they should
       be removed from the mapped set at this time.
    3. The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
            On the KIDS menu, under the 'Installation' menu, use the 
            following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
    4. Users may remain on system and no options need to be placed out of
       service.
    5. Installation time is less than 2 minutes during off peak hours
       and less than 5 minutes during peak hours.
    6. Installation of this patch requires no additional memory space.
    7. From the 'Installation Menu' of the KIDS menu, run the option
       'Install Package(s)' Select the package 'LR*5.2*206' and
       proceed with the install.
    8. When Prompted 'Want KIDS to INHIBIT LOGONs during the install?
       YES//', respond NO.
    9. If any routines were unmapped as part of step 2, they should be
       returned to the mapped set once the installation has run to
       completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;254 SEQ #195</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-05-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch to the Laboratory package does not contain any changes to the
VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 99-053 titled VISTA
BLOOD BANK SOFTWARE.
 
This patch will install the CareVue interface package under the namespace
LA7D as a Class I national patch.
 
1. Problem:  Current CareVue interface is Class III software.
 
   Solution: The code has been validated, brought up to national
             standard and released as a Class I national patch.
 
This patch can be installed as a stand-alone if CareVue package is not
needed, however if CareVue IS NEEDED then patch LA*5.2*53 MUST be
installed.
 
The laboratory routines LRVER3A and LRMIUT have been modified to work with
this interface.  These routines have been locally modified at the sites
and the sites must ensure that precautions are taken to prevent loss of
local modifications when patches to Laboratory are installed.
 
Associated NOIS
===============
None
 
Test Sites
===============
Philadelphia, PA
Martinsburg, WVA
 
ROUTINE SUMMARY
===============
The following is a list of routines included in this patch.  The second
line of each routine now looks like:
 
&lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;;Sep 27, 1994
 
        CHECK^XTSUMBLD Results
 
Routine Name    Before Patch     After Patch   Patch List
------------    ------------     -----------   ----------
 
LRVER3A           9561045        10780359      1,5,42,100,121,
                                               153,190,221,254
LRMIUT            3226335         3673249      254
 
INSTALLATION INSTRUCTIONS
=========================
The patch is distributed in KIDS format in a PackMan message.
 
     1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
        This option will load the KIDS package in this message onto
        your system.
 
     2. Review your mapped set.  If the routines are mapped, they
        should be removed from the mapped set at this time.
 
     3. The patch has now been loaded into a Transport global on
        your system. You now need to use KIDS to install the 
        Transport global.
 
        On the KIDS menu, under the 'Installation' menu, use the 
        following options:
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Backup a Transport Global
 
     4. It is recommended that this release be installed during off
        peak hours.  To prevent a possible problem with the tasking
        of the next days laboratory orders, do not install this package
        at the same time as the following nightly tasked jobs:
 
              LRTASK ROLLOVER
              LRTASK NIGHTLY
              LRTASK CONJAM
              LRTASK CUM
 
     5. No options need to be placed out of service.
 
     6. Installation time is less than 2 minutes during off peak 
        hours and less than 5 minutes during peak hours
 
     7. From the 'Installation Menu' of the KIDS menu, run the 
        option 'Install Package(s)' Select the package 'LR*5.2*254'
        and proceed with the install. When prompted 'Want to 
        DISABLE Scheduled Options, Menu Options, and Protocols? 
        YES//', choose 'NO'.
 
     8. If any routines were unmapped as part of step 2, they 
        should be returned to the mapped set once the installation 
        has run to completion.
 
     9. Please refer to Patch LA*5.2*53 for further instructions 
        regarding CareVue.               
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;243 SEQ #196</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-06-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 
Subject: CPT CODE MODIFIERS
 
Category: DATA DICTIONARY
          ENHANCEMENT
          ROUTINE
 
Description:
============
 
The Laboratory CPT Code Modifier enhancement patch LR*5.2*243 provides the
Laboratory Version 5.2 software application the ability to transmit
Current Procedural Terminology (CPT) codes and Modifiers to the Patient
Care Encounter (PCE) workload capture Application Interface (API). The
transmission of workload in the form of CPT codes is done in the
background (no user interaction is required). Because of the background
method of workload reporting several new fields were created and the
Laboratory software logic was modified.
 
CPT modifier provides the means by which the reporting physician can
indicate that a service or procedure that has been performed has been
altered by some specific circumstances but not changed in its definition
or code. The judicious application of modifiers obviates the necessity for
separate procedure listing that may describe the modifying circumstances.
 
 
NOTE: ONLY PATIENT ORDERS FROM HOSPITAL LOCATION WITH THE TYPE OF CLINIC,
MODULE, OR OTHER WILL RECEIVE CPT WORKLOAD CREDIT. THE SOFTWARE USES
LOCATION TYPE TO DETERMINE IF THE ORDER IS FOR AN OUT-PATIENT OR
IN-PATIENT.
 
Enhancements and Modifications:
=========================
 
Laboratory CPT Code Modifiers Patch LR*5.2*243 contains the following
enhancements and changes:
 
NOTE: The asterisk ('*') indicates significant enhancements or file
structure changes. Two asterisks ('**') indicate new fields that will be
used by subsequent releases.
 
*1. The CPT Code Modifiers Patch LR*5.2*243 patch automatically removes
CPT workload credit for any test(s) with the status of NOT PERFORMED (NP).
 
*2. When the Laboratory workload reporting LRNIGHTY background job is
tasked, a secondary program examines the WKLD CODE file (#64) to determine
if any CPT code(s) are inactive in the CPT file (#81) or if other file
pointers are broken. If inactive code(s) are found, a VA Mailman message
is automatically generated and sent once a day to the LMI Mail Group
containing information about the code(s) and the action(s) taken by the
software.
 
*3. The enhanced Laboratory workload software processes the workload data
in LABORATORY SITE file (#69.9), PCE DEFAULT PROVIDER field (#617) and LAB
OOS LOCATION field (#.8) even if these two fields are not defined. A VA
Mailman report is automatically generated and sent to the LMI mail group
once a day indicating those orders requiring additional attention because
the default fields were not defined.
 
*4. The automated Venipuncture workload reporting functionality used the
same criteria as the Laboratory workload reporting.
 
5. The enhanced Laboratory software will now acknowledge the actual user
entering lab test orders in LAB ORDER ENTRY file (#69) for the PCE
Registered Encounter rather than the user that started or tasked the PCE
Workload background job.
 
6. The LABORATORY SITE file (#69.9) locking logic is modified to correct
the problem of not being able to edit the LABORATORY SITE file (#69) while
the LRNIGHTY background job is running.
Option Changes
 
*7. Add tests to a given accession [LRADD TO ACC] option is modified to
activate the PCE Workload API. Any test(s) added to an accession will now
receive PCE Workload credit.
 
8. Order/test status [LROS] option is modified to correctly display
test(s) added to an accession.
 
9. Enter/verify data (auto instrument) [LRVR] option is enhanced to allow
users to edit, add, or subtract atomic test(s) from the test list before
beginning the verification of an atomic test(s) and to continue to the
next accession number if the current accession is not collected. This
enhancement applies to both verifying by accession number or UID
(Universal Identification).
 
*10. Batch data entry [LRSTUF] option is modified to capture LMIP workload
counts.
 
11. Results entry (batch) [LRMISTUF] is modified to capture LMIP workload
counts.
 
12. The Bypass normal data entry [LRFAST] option is modified to accept the
response of "YES" at the "Do you want to enter draw times?" prompt.
 
13. The Accessioning tests ordered by ward order entry [LROE] option is
modified to accurately determine if the tasked ROLLOVER ACCESSION [LRTASK
ROLLOVER] option is actually running.
 
14. The Review by order number [LRCENLKUP] option date displays is
converted to use Kernel date conversion utilities.
 
15. Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] option is enhanced
to print all WKLD CODES, even if they have not been activated. This will
correct the problem of WKLD CODES that have a suffix of .0000 not
printing.
 
16. Workload Report [LRCAPR1] option has been enhanced to allow the user
to select combinations of LEDI collecting institutions or Hospital
locations.
 
17. When verifying Microbiology specimens the user is prompted for
additional workload. A screen has been added to allow only a number
between 1 to 25. This is to prevent inadvertent entering of WKLD CODE
number instead of the multiply by number.
 
Laboratory Menu and Option Changes:
============================
LIM workload menu [LR LIM/WKLD MENU]
 
The LIM workload menu [LR LIM/WKLD MENU] is modified to add the new
InActive WKLD CODE File CPT Codes Print [LRCAPCPTI] option.
 
New Option
 
InActive WKLD CODE File CPT Codes Print [LRCAPCPTI] option
 
The new Inactive WKLD CODE File CPT Codes Print [LRCAPCPTI] option scans
the WKLD CODE file (#64) for code(s) that are no longer allowed or code(s)
that are inactive in the CPT file (#81). The "WKLD CODE - CODE CHECK
REPORT" is then generated displaying all CPT code(s) that are no longer
allowed, code(s) that are inactive and why they are inappropriate,
laboratory test names linked to WKLD code(s) (i.e., laboratory test names
listed on the report will not receive PCE Workload credit), and code(s)
requiring a different entry in the CPT file (#81) in order to capture PCE
Workload data.
 
The new Inactive WKLD CODE File CPT Codes Print [LRCAPCPTI] option is also
useful when a new CPT Code file is released (i.e., new CPT code files are
usually distributed annually). The new CPT Code files may contain codes
that are no longer allowed or codes that are inactive in the VISTA CPT
file (#81). When CPT codes defined in the WKLD CODE file (#64) are deemed
inactive in the CPT file (#81), then the software enters a date in the
WKLD CODE file (#64), Inactive Date field (#3) for those inactive codes.
The Laboratory PCE interface checks each CPT code in the WKLD CODE file
(#64) before sending CPT workload to the PCE API. Whenever CPT code(s) are
no longer allowed or has been inactivated a VA Mailman message containing
the "WKLD CODE - CODE CHECK REPORT" is sent once a day to the LMI mail
group.
 
Example: WKLD CODE - CODE CHECK REPORT
 
Subj: WKLD CODE - CODE CHECK REPORT 12/14/99@14:44:25  [#83460]
From: POSTMASTER  In 'IN' basket.   Page 1
-----------------------------------------------------------------
Lab Order Number 100 has no Institution for the ordering location
===================
86081.0000 [1]  ABO Cell and Rh(D) Typing
86083  BLOOD TYPING;ANTIBODY SCREEN
Is an inactive CPT code.
Associated Tests
     ABO/RH TYPING  {1101}
Inactivation date of Dec 13, 1999 has been entered
****************
Listing of all offending codes
   ICPT     82534
 
****** END OF EXAMPLE ********
 
=====================
Data Dictionary Change Summary:
 
The following file and field changes occur with the installation of VISTA
Laboratory CPT Code and Modifiers Patch LR*5.2*243.
 
WKLD CODE file (#64)
 
 The WKLD CODE file (#64) was modified to convert existing file data to
a new data structure, new fields were created, and existing fields were
modified to support the Laboratory workload reporting enhancements of CPT
codes and modifiers.
 
1) CODE field (#18) multiple has been changed from a free text field to a
variable pointer.
 
2) CODE field (#.01) has been changed from a free text field to a variable
pointer. This field is screened to allow only active code entries to the
MORPHOLOGY FIELD file (#61.1), ICD DIAGNOSIS file (#80), and CPT file
(#81).
 
3) CODE subfile (#64.018) was modified to add the new CODE NOTES field
(#6). This new word processing field is used for tracking general notes
regarding a particular code.
 
4) WKLD Code Notes field (#24) is a new word processing field used for
storing general notes regarding inactive or erroneous code(s) that is
automatically removed by the software.
 
5) LOINC Code field (#4) was changed to point to the LOINC CODE file
(#95.3).
 
6) The new Default LOINC Code field (#25) points to the LOINC CODE file
(#95.3).  This field is used to identify the default LOINC code.  This
field is usually used when the specimen is not clinically significant
(i.e. body fluids). 'L FOR LOINC' was removed from the set of codes in
field TYPE (#64.018,5).
 
LABORATORY SITE file (#69.9)
 
1) LABORATORY SITE file (#69.9), DIVISION PARAMETERS field (#618) multiple
is a new field exported with this patch. These new fields are used to
customize the automated Venipuncture workload reporting functionality.
 
2) The new DIVISION PARAMETERS field (#.01) points to the INSTITUTION file
(#4). This field allows the LABORATORY SITE file (#69.9) to be
multi-divisional for Venipuncture workload reporting.
 
3) The new VENIPUNCTURE DEFAULT ACC AREA subfile (#618) points to the
ACCESSION file (#68). This new field is used by the Venipuncture workload
reporting background job to determine the accession area for the
INSTITUTION to be use for Venipuncture workload reporting.
Associated NOIS
===============
 
 
 
TAM-0899-31723   ALB-1299-50818
PRO-0999-11965   CLL-1099-43226
LON-0999-62211   BHS-0999-11616
HIN-0499-42772   NCH-0100-41945
ALB-0199-52914  
 
 
Test Sites:
===========
Long Beach, CA
Kansas City, MO
Milwaukee, WI
Muskogee, OK
 
 
Routine Summary:
================
 
 
  &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                         Checksum Values
Routine    Before    After     Patch List
Name       Patch     Patch     List
--------   --------  --------- --------
LR243        N/A       7341436   243
LRCAPPH    10281625    11522455  1,19,127,136,138,158,153,243
LRCAPPH1   4949612     7745000   127,136,138,158,243
LRCAPPH3     N/A       6642885   243
LRCAPPH4     N/A       3179202   243
LRCAPPNP     N/A       1653480   243
LRCAPR1    8086519     9529509   243
LRCAPR2    8195892     8701428   88,105,243
LRCAPR4    6795674     7338553   243
LRCAPV3    8123485     8391773   105,243
LRCAPVM    5012091     5237437   49,163,243
LRCE       13210738    13336460  28,76,103,121,153,210,202,243
LRCENDEL   16365039    15254614  100,121,202,221,243
LRDIQ      9573488     10128715  86,153,243
LRGP2      3525048     6353513   153,221,243
LRMISTF1   14470635    14019130  121,128,202,243
LROE       14732765    14550901  100,121,201,221,243
LRORD3     7349040     7385601   153,243
LROS       16807258    16882422  121,153,202,210,221,243
LRSTUF2    8013388     8012263   121,153,243
LRTSTSET   12634119    12775322  65,100,121,153,201,202,243
LRTT5P1    12297887    12439150  153,221,243
LRVER1     6428527     6801758   42,153,201,215,239,240,243
LRVER3A    10780359    10780812  1,5,42,100,121,153,190,221,254,243
LRVR       12695281    13316120  42,153,243
LRVR4      8714660     8661306   14,42,121,153,221,243
LRVR5      11783101    11729747  1,42,153,243
LRVRA      6318899     6374326   153,221,243
LRXREF     9255866     9584168   70,153,243
 
Required Patch Installation List:
 
 
LR*5.2*105
LR*5.2*153
LR*5.2*158
LR*5.2*202
LR*5.2*221
LR*5.2*240
LR*5.2*254
PX*1.0*73
PX*1.0*74
ICPT*6.0*7
 
Installation Instructions
=========================
************************
LABORATORY CURRENT PROCEDURAL TERMINOLOGY (CPT) CODES AND MODIFIERS PATCH
LR*5.2*243 INSTALLATION AND IMPLEMENTATION GUIDE in PDF format is provided
with this patch. Please refer to this document for details and specific
instructions. The patch description does not include ALL implementation
considerations or complete file setup instructions.
************************
 
The VISTA Laboratory CPT Codes and Modifiers Patch LR*5.2*243 Installation
and Implementation Guide is available in PDF (i.e., LR_CPTIG.PDF) at the
following FTP addresses:
 
Office of Information Field Office FTP Address               Directory
======================================================================
Albany                       152.127.1.5            anonymous.software
Hines                        152.131.2.110          anonymous.software
Salt Lake City               152.131.2.1            anonymous.software
 
 
 
 
 
Users may remain on the system, but installation should be done during off
peak hours and when the Laboratory computer users are idle. None of the
laboratory tasked jobs need to be stopped.
 
         1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan 
         menu. This option will load the KIDS package onto your  system.
         2. Review your mapped set.  If the routines are mapped,
         they should be removed from the mapped set at this time.
         3. The patch has now been loaded into a Transport global 
         on your system. You now need to use KIDS to install the 
         Transport global.
         4. On the KIDS menu, under the 'Installation' menu, use the
         following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         5. No options need to be placed out of service.
         6. Installation time is less than 15 minutes during off peak
            hours,and less than 30 minutes during
            peak hours which is NOT RECOMMENDED.
         7. Installation of this patch require minimal 
            disk space.
         8. From the 'Installation Menu' of the KIDS menu, run the option 
            'Install Package(s)'. Select the package 
            'LR*5.2*243' and proceed with the install.
         9. If any routines were unmapped as part of step 2, they 
            should be returned to the mapped set once the 
            installation has run to completion.
           
 
Example of install dialog:
 
Select INSTALL NAME:    LR*5.2*243     Loaded from Distribution
2/29/00@15:51:34
     =&gt; LR*5.2*243
 
This Distribution was loaded on Feb 29, 2000@15:51:34 with header of 
   LR*5.2*243
   It consisted of the following Install(s):
     LR*5.2*243
Checking Install for Package LR*5.2*243
Will first run the Environment Check Routine, LR243
 
 
                        --- Environment Check is Ok ---
     
 
Install Questions for LR*5.2*243
 
Incoming Files:
 
 
   64        WKLD CODE
Note:  You already have the 'WKLD CODE' File.
 
 
   69.9      LABORATORY SITE
Note:  You already have the 'LABORATORY SITE' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// YES
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
DEVICE: HOME//   TELNET
Install Started for LR*5.2*243 : 
               Feb 29, 2000@15:53:41
 
Build Distribution Date: Jan 27, 2000
 
 Installing Routines:
               Feb 29, 2000@15:53:41
 
 Installing Data Dictionaries: 
               Feb 29, 2000@15:53:43
 
 Installing PACKAGE COMPONENTS: 
 
 Installing OPTION
               Feb 29, 2000@15:53:43
 
 Running Post-Install Routine:
CONV^LR243.......................................
 
 Removing CPT Code 83019
  
 From 84483.0000  Helicobacter Pylorii Breath
  
 Removing CPT Code 80054
  
 From 81853.0000  Comprehensive Met Panel
  
 Removing CPT Code 87O87
  
 From 87553.0000  Urine Culture
 
 
                  Creating Mail Message containing CPT Changes
 
                       Sending message to LMI Mail Group
 
                 Relinking NATIONAL VA LAB CODES TO WKLD CODE
                                   LR*5.2*243
 
 
 
Updating Routine file...
 
Updating KIDS files...
 
LR*5.2*243 Installed. 
               Feb 29, 2000@15:54:32
 
 Install Message sent 
 
**** End of Example of Install dialog *******
 
 
Post Installation Instructions:
 
After the new file structures have been installed the post installation
software will perform the following:
 
1. Review each code to determine if the code is valid and has not been
inactivated in the CPT file (#81). If the code is inactive or erroneous,
the code is removed. The software will record the code removal in the WKLD
CODE NOTES field (#24). A MailMan message addressed to the local LMI mail
group will be generated if any codes are removed.
 
2. The data in the file is converted to the new data structure of the WKLD
CODE file (#64).
 
3. ASSOCIATED NAMES in the WKLD CODE file (#64) are updated to reflect
current linkages.
 
4. The Post Installation routine will set the WKLD CODE (#64) file
BILLABLE PROCEDURE (#4) field to yes for the codes:
Venipunture Outpatient [89343.0000]
Venipunture Travel Time [89341.0000]
**** Note: If the laboratory is does not perform venipuncture functions,
the BILLIABLE PROCEDURE field should be set to 'NO'.
'Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] option can be used to
edit the BILLABLE PROCEDURE field.
 
 
************************
LABORATORY CURRENT PROCEDURAL TERMINOLOGY (CPT) CODES AND MODIFIERS PATCH
LR*5.2*243 INSTALLATION AND IMPLEMENTATION GUIDE in PDF format is provided
with this patch. Please refer to this document for details and specific
instructions. The patch description does not include ALL implementation
considerations or complete file setup instructions.
************************
 
 
PCE Workload Capture Setup:
 
The Laboratory Information Manager (LIM) or the Information Resource
Management (IRM) service must do setup several procedure files/fields.
 
NOTE: The asterisk (*) indicates new enhancements for patch LR*5.2*243.
 
1. The LAB SERVICE package V. 5.2 must be installed. This is done by IRM.
 
2. PCE workload must be turned on for Laboratory. Someone other than the
LIM usually does this.
 
3. PCE PATIENT CARE ENCOUNTER Version 1.0 must be loaded on the system and
fully patched.  This is done by IRM.
 
4. The LABORATORY SITE file (#69.9), WKLD STATS ON field (#17) must be set
to YES. This is usually done by the LIM.
 
5. The LABORATORY SITE file (#69.9), PCE/VSIT ON field (#615) definition
entry should be defined other than OFF, the recommended entry is PCE/VSIT
ONLY. The VA FileMan Enter Edit [DIEDIT] option is used to defined the
PCE/VSIT ON field (#615). This is done by the LIM or IRM.
 
6. The LABORATORY SITE file (#69.9), PCE DEFAULT PROVIDER field (#617)
should have a valid active provider identified. This is usually the Chief
of Pathology and Laboratory Medicine (P&amp;LMS). The PCE DEFAULT PROVIDER
field (#617) in the past was required for the background job to run. This
patch no longer requires a valid entry in this field. This field is used
whenever the ordering provider is not a valid active provider; the default
provider is substituted instead of the inactive provider. If the ordering
provider and the default provider are both invalid the order will be
marked and skipped. A report will be sent to the local mail group G.LMI
indicating the observed problem. This usually done by the LIM.
 
7. The LABORATORY SITE file (#69.9), DEFAULT LAB OOS LOCATION (#.8) field
must have a valid HOSPITAL LOCATION defined. This field is defined by
using the Create Laboratory OOS Locations [LR WKLD LOCATION] option. This
option will correctly name the DEFAULT LAB OOS location entry. This is
usually done by the LIM.
NOTE: This is a critical field entry. The CPT Workload capture will not be
performed if this field has no entry or the entry is correct. All DEFAULT
LAB OOS LOCATION names must begin with 'LAB DIV '
 
8. The MAILMAN SITE PARAMETERS file (#4.3), DEFAULT INSTITUTION field
(#217) must be defined. This is done by IRM.
 
* 9. The LABORATORY SITE file (#69.9), DEFAULT BLOOD SPECIMEN field (#100)
must have a valid blood specimen defined. This is done by the LIM.
 
10. Each Accession area that should have workload collected must have the
accession area activated. The accession area is activated by using the
Turn on workload stats for accession area [LR WKLD STATS ON ACC AREA]
option. This is done by the LIM.
 
11. Each accession area can have a default Occasion of Service (OOS)
location defined. This allows each accession area to be assigned a
specific DEFAULT OOS LOCATION. Multi-divisional sites most often use this.
The default OOS location can be defined by using the Edit ACC Area OOS
Locations [LR WKLD ACC AREA LOCATION] option. A DEFAULT OOS LOCATION
should be defined for each institution generating workload. This is done
by the LIM.
 
12. Every orderable test in LABORATORY TEST file (#60) must be linked to a
NATIONAL VA LAB CODE (also referred to as WKLD CODE or NLT codes). The
NATIONAL VA LAB CODE is linked by using the Semi-automatic Linking of file
60 to 64 [LR7O 60-64 AUTO] and Manual Linking of file 60 to 64 [LR7O 60-64
MANUAL] options. This is done by the LIM.
 
13. Each WKLD CODE linked in the above step must be assigned valid CPT
codes, these CPT codes will be used to report workload to the Patient Care
Encounter (PCE) workload API. This is done by using the Edit or Print WKLD
CODES [LR WKLD CODE EDIT PRINT] option. This is done by the LIM.
 
 
Software Logic:
 
After the file setup steps have been completed, the software logic of the
background job will use the above-defined fields. The software will scan
collected orders, extract all valid CPT codes, and pass the CPT workload
data to the PCE workload API. In addition, the software will also will
capture LMIP venipuncture workload for ALL patients without regard for
location type.
 
NOTE: Outpatient locations are entries in HOSPITAL LOCATION file (#44)
that have the TYPE field (#2) defined as; CLINIC, MODULE or OTHER.
 
The software uses the cross reference of
^LR(69,"AA",ORDER NUMBER, SPECIMEN) to determine what orders have been
collected. The software orders through the cross-reference and examines
each order number using the following:
 
 
1. The order status must be collected.
 
2. The order must be for a Patient from the PATIENT file (#2).
 
*3. For venipuncture (specimen collection) workload capture ONLY,
collection type must be one of the following:
Laboratory Collect (LC) = Venipuncture Travel Time - 89341.0000
Immediate Collect (I) = Venipuncture Travel Time - 89341.0000
Send Patient (SP) = Venipuncture Outpatient - 89343.0000
*Note: Collection type is only used for venipuncture workload capture.
Collection type has no bearing on CPT workload capture.
Both In-Patient and Outpatient receive LMIP venipuncture workload credit.
 
4. The ordering provider is validated as a current active provider. If the
ordering provider is not valid, the default provider will be used if the
default provider is valid. If neither of the providers is valid, the order
is marked appropriately and skipped.
 
5. CPT workload is only collected for Out-Patients based on HOSPITAL
LOCATION file (#44) that have the TYPE field (#2) defined as: CLINIC,
MODULE, or OTHER LOCATION. Venipuncture workload is NOT controlled by
HOSPITAL LOCATION type.
 
*6. This patch uses the INSTITUTION field (#3) of the HOSPITAL LOCATION
file (#44) to determine the institution that should receive CPT workload
credit. If the INSTITUTION field (#3) is not defined then the DEFAULT
INSTITUTION is used.
NOTE: See step 8 of the Setup instructions.
 
7. Each test is checked to ensure that it does not have the status of
CANCEL or NOT PERFORMED before CPT workload is processed.
 
8. Each test is checks the accession area's LAB OOS LOCATION. If defined
the accession area's LAB OOS LOCATION is used.
 
9. Each collected test will be checked for a NATIONAL VA LAB CODE field
(#64) in the LABORATORY TEST file (#60).
 
10. The NATIONAL VA LAB CODE field (#64) point to the WKLD CODE file
(#64). The software checks the WKLD CODE file (#64), CODE field (#18) for
CPT codes.
 
*11. This patch has changed the data dictionary definition of the CODE
field (#18) to a variable pointer. The patch installation  will converts
all valid codes to the new file structure and reset the cross-references.
If the code is invalid, the code is removed. A note will be entered in the
WKLD CODE file (#64), WKLD CODE NOTES field (#24) indicating when the
removal occurred.
 
*12. Each CPT code is checked to make sure it is valid (active). Each CPT
code is checked for allowed modifiers. If there are multiple occurrences
of identical CPT codes, the software will automatically add the modifier
DISTINCT PROCEDURAL SERVICE (59) to each succeeding CPT code if this
modifier is allowable.
 
13. The specimen DATE/TIME OF COLLECTION is used as the encounter date
time.
 
NOTE: If the scan of order passes all of the checks and there are valid
CPT codes associated with the collected (accessioned) test, CPT workload
data is passed to the PCE workload API.
 
Listing of elements passed to PCE workload API.
$$DATA2PCE^PXAPI
 
OOS location
Reporting Institution
Provider
Encounter Date/time
Patient Pointer
Stop Code number of the ordering location.
Service Category of OOS
Encounter type of Ancillary
CPT codes for each collected test as defined in WKLD CODE file.
*CPT modifier if appropriate.
 
*14. If an Order Test is marked as NOT PERFORMED by the laboratory and CPT
workload has already been sent to PCE, a background job will automatically
send delete CPT workload messages for that order to the PCE Workload API.
NOTE: If the Not Performed test is ultimately verified, no CPT workload is
sent after NOT PERFORMED delete has been sent.
 
15. The PCE API passes back to the Laboratory software application the
encounter number used to store the PCE API passed information. It is
possible for one order to have multiple encounter number based on the
ACCESSION AREA's OOS definition. The PCE encounter number is displayed on
various order status screens in the Visit Number(s).
 
Example: Order/test status screen - Visit Number(s): show the PCE
encounter numbers.
Test              Urgency   Status                            Accession
  -Lab Order # 162690                        Provider: The man
     Visit Number(s): 99999;
  BLOOD  
  CBC PROFILE   ROUTINE Test Complete 12/02/1999@07:41 HE 1202 10
  -Lab Order # 162690                        Provider: The man
     Visit Number(s): 99999;
  BLOOD SERUM
  MAGNESIUM     ROUTINE Test Complete 12/02/1999@08:02 DA 1202 32
  CHEM 7        ROUTINE Test Complete 12/02/1999@08:02 DA 1202 32
  -Lab Order # 163491                        Provider: The man
     Visit Number(s): 99999;
  BLOOD SERUM
  URIC ACID     ROUTINE Test Complete 12/02/1999@14:37 DA 1202 234
 
By using the User's Visit Review [PXQ USER REVIEW] option User's Visit
Review one can determine what CPT workload has been captured for a given
order. This is an example of the option. The Visit Number(s) information
is entered at the 'Enter VISIT (UNIQUE ID or '1239):' prompt. 
     Select one of the following:
 
          P         Patient List of Visits
          I         Internal Entry Number of VISIT
 
Select by (P)atient or (I)en: P// Internal Entry Number of VISIT
 
Enter VISIT (UNIQUE ID or `1239): `99999
  12-2-1999@06:57:38     PATIENT,SICK     
LAB DIV 623 OOS ID 108 29TRC-MUS
 
     Select one of the following:
 
          D         Default (first field of each file/subfile)
          A         All fields in a file/subfile (except 'NULL')
          C         Customized by User (Default plus added fields) 
 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
To customize your display use VA FileMan to add entries in file PCE
CUSTOMIZE REPORT, with your NAME, FILE/SUBFILE#s, and FIELD#s that you
want to have included in the report.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
Enter '^^' to exit option
Format of Print out: // All fields in a file/subfile (except 'NULL')
 
DEVICE: HOME// TELNET    Right Margin: 80// 
 
**************************************************************
***  R E C O R D    O F    R E L A T E D    E N T R I E S  ***
 
         The Following is the VISIT file entry and
          ALL records pointing back to this entry.
 
               VISIT RECORD    --- #999999
 
               DATE/TIME --- DEC 02, 1999@06:57:38
               PATIENT   --- PATIENT,SICK
               LOCATION  --- LAB DIV 623 OOS ID 108
----------------------------------------------------------------
    FILE = VISIT #9000010  RECORD #99999
        VISIT/ADMIT DATE&amp;TIME              = DEC 02, 1999@06:57:38
        DATE VISIT CREATED                 = DEC 02, 1999@07:28:51
        TYPE                               = VA
        PATIENT NAME                       = PATIENT,SICK
        LOC. OF ENCOUNTER                  = MUSKOGEE, OK
        SERVICE CATEGORY                   = DAILY HOSPITALIZATION 
        DSS ID                             = LABORATORY
        DEPENDENT ENTRY COUNT              = 3
        DELETE FLAG                        = 
        PARENT VISIT LINK                  = 
        DATE LAST MODIFIED                 = DEC 02, 1999@07:28:52
        CHECK OUT DATE&amp;TIME                = 
        ELIGIBILITY                        = NSC, VA PENSION
        HOSPITAL LOCATION                 = LAB DIV 623 OOS ID 108
        CREATED BY USER                     = WORKER,HARD V
        OPTION USED TO CREATE               = LRENTER
        PROTOCOL                            = 
        OUTSIDE LOCATION                    = 
        VISIT ID                            = 29TRC-MUS
        PATIENT STATUS IN/OUT               = IN
        ENCOUNTER TYPE                      = ANCILLARY
        SERVICE CONNECTED                   = 
        AGENT ORANGE EXPOSURE               = 
        IONIZING RADIATION EXPOSURE         = 
        PERSIAN GULF EXPOSURE               = 
        MILITARY SEXUAL TRAUMA              = 
        COMMENTS                            = 
        PACKAGE                      = PCE PATIENT CARE ENCOUNTER
        DATA SOURCE                         = LAB DATA
 
-----------------------------------------------------------------
    FILE = OUTPATIENT ENCOUNTER #409.68  RECORD #999999
        DATE                        = DEC 02, 1999@06:57:38
        PATIENT                     = PATIENT,SICK
        CLINIC STOP CODE            = LABORATORY
        LOCATION                    = LAB DIV 623 OOS ID 108
        VISIT FILE ENTRY            = DEC 02, 1999@06:57:38
        CHECK OUT PROCESS COMPLETION = DEC 02, 1999@07:28
        ORIGINATING PROCESS TYPE    = STOP CODE ADDITION
        APPOINTMENT TYPE            = REGULAR
        MEDICAL CENTER DIVISION     = MUSKOGEE VAMC
        STATUS                      = INPATIENT APPOINTMENT
        ELIGIBILITY OF ENCOUNTER    = NSC, VA PENSION
        UNIQUE VISIT NUMBER         = 29TRC-MUS
        EDITED LAST BY              = WORKER,HARD V
        DATE/TIME LAST EDITED       = DEC 02, 1999@07:28:52
        CREATED BY                  = WORKER,HARD V
        DATE/TIME CREATED           = DEC 02, 1999@07:28:52
        COMPUTER GENERATED?         = YES
-----------------------------------------------------------------
    FILE = V PROVIDER #9000010.06  RECORD #99999
        PROVIDER                    = GIVER,CARE
        PATIENT NAME                = PATIENT,SICK
        VISIT                       = DEC 02, 1999@06:57:38
        PRIMARY/SECONDARY           = PRIMARY
        PERSON CLASS                = Physicians (M.D.)
        EDITED FLAG                 = EDITED
        AUDIT TRAIL                 = 24-A 5591;24-E 5591;
        PACKAGE                     = LAB SERVICE
        DATA SOURCE                 = LAB DATA
-----------------------------------------------------------------
 FILE = V CPT #9000010.18  RECORD #99999
        CPT                         = 85025
        PATIENT NAME                = PATIENT,SICK
        VISIT                       = DEC 02, 1999@06:57:38
        PROVIDER NARRATIVE          = AUTOMATED HEMOGRAM
        QUANTITY                    = 1
        ENCOUNTER PROVIDER          = GIVER,CARE
        AUDIT TRAIL                 = 24-A 5591;
        PACKAGE                     = LAB SERVICE
        DATA SOURCE                 = LAB DATA
-----------------------------------------------------------------
       The Following is the OUTPATIENT ENCOUNTER entry and
            most of the records pointing back to it.
 
             OUTPATIENT ENCOUNTER --- #99999
-----------------------------------------------------------------
 
    FILE = V CPT #9000010.18  RECORD #99999
        CPT                         = 85025
        PATIENT NAME                = PATIENT,SICK
        VISIT                       = DEC 02, 1999@06:57:38
        PROVIDER NARRATIVE          = AUTOMATED HEMOGRAM
        QUANTITY                    = 1
        ENCOUNTER PROVIDER          = GIVER,CARE
        AUDIT TRAIL                 = 24-A 5591;
        PACKAGE                     = LAB SERVICE
        DATA SOURCE                 = LAB DATA
-----------------------------------------------------------------
    FILE=TRANSMITTED OUTPATIENT ENCOUNTER #409.73  RECORD #999999
        NUMBER                      = 999999
        OUTPATIENT ENCOUNTER        = DEC 02, 1999@06:57:38
        TRANSMISSION REQUIRED       = YES
        TRANSMISSION EVENT          = ADD
        DATE/TIME OF EVENT          = DEC 02, 1999@07:28:52
        USER CAUSING EVENT          = WORKER,HARD V
        PATIENT                     = PATIENT,SICK
        ENCOUNTER DATE              = DEC 02, 1999 06:57:38
        HOSPITAL LOCATION           = LAB DIV 623 OOS ID 108
        PATIENT SSN                 = 1010101010
        ENCOUNTER DIVISION          = MUSKOGEE VAMC
        ENCOUNTER DIVISION (INTERNAL) = 1
-----------------------------------------------------------------
       The Following is the SCHEDULING VISITS file.
      This is where Scheduling stores the CPT codes.
 
THERE ARE PROCEDURES IN PCE BUT NO RECORD IN SCHEDULING **
 
===============================================
 
        ****END OF EXAMPLE****
 
 
*Venipuncture Workload Capture:
 
************************
LABORATORY CURRENT PROCEDURAL TERMINOLOGY (CPT) CODES AND MODIFIERS PATCH
LR*5.2*243 INSTALLATION AND IMPLEMENTATION GUIDE in PDF format is provided
with this patch. Please refer to this document for details and specific
instructions. The patch description does not include ALL implementation
considerations or complete file setup instructions.
************************
 
1. *Patch LR*5.2*243 will automatically collects venipuncture workload
data identical to other types of collected workload data. Venipuncture
workload data will appear on workload reports broken down by standard
reporting criteria.
 
2. Originally, LMIP workload reporting did not include venipuncture as a
billable procedure; therefore, the software entered a manual style tally
of totals for the institution by day. Now LMIP workload does allow
venipuncture workload. This patch automatically captures venipuncture by
institution, by date, by WKLD CODE, and by event time and stores them in
the WKLD DATA (#64.1) file. Certain data elements are required when
recording workload. One of the required data elements is accession area.
Therefore, some accession area must be utilized to satisfy the required
data field. This patch provides new fields that can be used to customize
data collection.
 
3. The venipuncture workload ACTUALLY indicates that the laboratory
obtained at least one specimen from the patient.
 
NOTE: THE SPECIMEN OBTAINED MAY NOT BE A BLOOD SPECIMEN. WHAT THE DEFAULT
CODES (venipuncture) INDICATES IS THAT THE LAB COLLECTED A SPECIMEN FOR
THIS PARTICULAR ORDER. ONLY 1 SPECIMEN COLLECTION WORKLOAD UNIT PER ORDER
IS CAPTURED REGARDLESS OF THE NUMBER OF ACTUAL SPECIMENS COLLECTED FOR THE
ORDER.
 
4. Specimen Collection workload codes of Venipuncture Travel Time
[89341.0000] is the default code for Lab Collect (LC) and Immediate
Collect (I). Specimen Collection WKLD CODE of Venipuncture Outpatient
[89343.0000] is default code for Send Patient (SP). 
 
5. *Venipuncture workload is captured based on INSTITUTION field (#3) in
the HOSPITAL LOCATION file (#44) of the ordering location. If no
INSTITUTION is defined, the default institution defined by MAILMAN will be
used.
* There is a new field exported with this patch. The DIVISION PARAMETERS
field (#618) is a multiple in the LABORATORY SITE file (#69.9). There are
two fields in the DIVISION PARAMETERS field (#618) multiple that can be
used to customize the venipuncture workload collection.
   - DIVISION PARAMETER field (#.01) points to the INSTITUTION file (#4).
This field will allow the LABORATORY SITE file (#69.9) to be
multi-divisional.
   - PHLEBOTOMY DEFAULT ACC AREA field (#618) points to the ACCESSION file
(#68).
 
6. * The software will examine the ordering location for the INSTITUTION
that location is assigned. The software will look up in the LABORATORY
SITE file (#69.9), DIVISION PARAMETERS subfile (#) to get the ACCESSION
area to be used when storing venipuncture workload. The MAJ. SECT and the
SUBSECTION fields in WKLD DATA (#64.1) file will be set to ACCESSION area
defined.
Note: The default venipuncture ACCESSION area is HEMATOLOGY.
          LAB DIVISION is CLINICAL PATHOLOGY
          Date and Time is the SPECIMEN COLLECTION date/time.
          The LAB TEST is the first collected test in the order.
 
7. * The Venipuncture workload capture assumes that there is an accession
area that begins with the letters 'HEM'. If there is no accession area
beginning with the letters 'HEM', then venipuncture default accession area
will be the accession area having the internal entry number of 10 in the
ACCESSION file (#68).
 
8. ** This patch creates a new multiple in the LABORATORY SITE file
(#69.9), DIVISION PARAMETERS field (#618). This new multiple will be used
to allow in the future, each institution to have the opportunity to
completely define separate laboratory parameter definitions. The first
entry in this multiple is PHLEBOTOMY DEFAULT ACC AREA field (#618). This
field will allow each institution to define what accession area
venipuncture workload should be assigned. If this field is not defined
then the default Hematology accession area outlined above will be used.
 
 
This is a listing of captured venipuncture workload data.
DATE: DEC 02, 1999
WKLD CODE: +Venipuncture Outpatient     UNIT WEIGHT: 1
ACCESSION WKLD CODE TIME: 12.5713       LAB TEST: GLUCOSE
  WEIGHT MULTIPLIER: 1                  LAB DIVISION: CLINICAL PATHOLOGY
  MAJ. SECT.: SEND OUT                    SUBSECTION: SEND OUT
  ACC NO.: CH 1202 15                         PATIENT: NOSE,LIMP
  ORIGINAL ACC DATE: DEC 02, 1999
   DATE ORDERED: DEC 02, 1999@12:57:13
  SPECIMEN NO.: 1                              SPECIMEN: BLOOD
  REPORT ROUTING LOCATION: 2S            PROVIDER: GINSBURG,RONNIE
  LOG IN PERSON: STALLING,FRANK         LOCATION TYPE: WARD
  ORDERING LOCATION: 7 ATU                   URGENCY: ROUTINE
  VERIFY TECH.: STALLING,FRANK           WORK AREA: SEND OUT
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;263 SEQ #197</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-06-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 
Subject: CPT CODE MODIFIERS
 
Category: DATA DICTIONARY
          ENHANCEMENT
          ROUTINE
 
Description:
============
 
The Laboratory CPT Code Modifier enhancement patch LR*5.2*263 provides the
Laboratory Version 5.2 software application the ability to transmit
Current Procedural Terminology (CPT) codes and Modifiers to the Patient
Care Encounter (PCE) workload capture Application Interface (API). The
transmission of workload in the form of CPT codes is done in the
background (no user interaction is required). Because of the background
method of workload reporting several new fields were created and the
Laboratory software logic was modified.
 
CPT modifier provides the means by which the reporting physician can
indicate that a service or procedure that has been performed has been
altered by some specific circumstances but not changed in its definition
or code. The judicious application of modifiers obviates the necessity for
separate procedure listing that may describe the modifying circumstances.
 
 
NOTE: ONLY PATIENT ORDERS FROM HOSPITAL LOCATION WITH THE TYPE OF CLINIC,
MODULE, OR OTHER WILL RECEIVE CPT WORKLOAD CREDIT. THE SOFTWARE USES
LOCATION TYPE TO DETERMINE IF THE ORDER IS FOR AN OUT-PATIENT OR
IN-PATIENT.
 
Enhancements and Modifications:
=========================
 
Laboratory CPT Code Modifiers Patch LR*5.2*263 contains the following
enhancements and changes:
 
NOTE: The asterisk ('*') indicates significant enhancements or file
structure changes. 
 
 
*1. The CPT Code Modifiers Patch LR*5.2*263 patch automatically removes
CPT workload credit for any test(s) with the status of NOT PERFORMED (NP).
 
*2. When the Laboratory workload reporting LRNIGHTY background job is
tasked, a secondary program examines the WKLD CODE file (#64) to determine
if any CPT code(s) are inactive in the CPT file (#81) or if other file
pointers are broken. If inactive code(s) are found, a VA Mailman message
is automatically generated and sent once a day to the LMI Mail Group
containing information about the code(s) and the action(s) taken by the
software.
 
*3. The enhanced Laboratory workload software processes the workload data
in LABORATORY SITE file (#69.9), PCE DEFAULT PROVIDER field (#617) and LAB
OOS LOCATION field (#.8) even if these two fields are not defined. A VA
Mailman report is automatically generated and sent to the LMI mail group
once a day indicating those orders requiring additional attention because
the default fields were not defined.
 
*4. The automated Venipuncture workload reporting functionality used the
same criteria as the Laboratory workload reporting.
 
5. The enhanced Laboratory software will now acknowledge the actual user
entering lab test orders in LAB ORDER ENTRY file (#69) for the PCE
Registered Encounter rather than the user that started or tasked the PCE
Workload background job.
 
6. The LABORATORY SITE file (#69.9) locking logic is modified to correct
the problem of not being able to edit the LABORATORY SITE file (#69) while
the LRNIGHTY background job is running.
Option Changes
 
*7. Add tests to a given accession [LRADD TO ACC] option is modified to
activate the PCE Workload API. Any test(s) added to an accession will now
receive PCE Workload credit.
 
8. Order/test status [LROS] option is modified to correctly display
test(s) added to an accession.
 
9. Enter/verify data (auto instrument) [LRVR] option is enhanced to allow
users to edit, add, or subtract atomic test(s) from the test list before
beginning the verification of an atomic test(s) and to continue to the
next accession number if the current accession is not collected. This
enhancement applies to both verifying by accession number or UID
(Universal Identification).
 
*10. Batch data entry [LRSTUF] option is modified to capture LMIP workload
counts.
 
11. Results entry (batch) [LRMISTUF] is modified to capture LMIP workload
counts.
 
12. The Bypass normal data entry [LRFAST] option is modified to accept the
response of "YES" at the "Do you want to enter draw times?" prompt.
 
13. The Accessioning tests ordered by ward order entry [LROE] option is
modified to accurately determine if the tasked ROLLOVER ACCESSION [LRTASK
ROLLOVER] option is actually running.
 
14. The Review by order number [LRCENLKUP] option date displays is
converted to use Kernel date conversion utilities.
 
15. Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] option is enhanced
to print all WKLD CODES, even if they have not been activated. This will
correct the problem of WKLD CODES that have a suffix of .0000 not
printing.
 
16. Workload Report [LRCAPR1] option has been enhanced to allow the user
to select combinations of LEDI collecting institutions or Hospital
locations.
 
17. When verifying Microbiology specimens the user is prompted for
additional workload. A screen has been added to allow only a number
between 1 to 25. This is to prevent inadvertent entering of WKLD CODE
number instead of the multiply by number.
 
Laboratory Menu and Option Changes:
============================
LIM workload menu [LR LIM/WKLD MENU]
 
The LIM workload menu [LR LIM/WKLD MENU] is modified to add the new
InActive WKLD CODE File CPT Codes Print [LRCAPCPTI] option.
 
New Option
 
InActive WKLD CODE File CPT Codes Print [LRCAPCPTI] option
 
The new Inactive WKLD CODE File CPT Codes Print [LRCAPCPTI] option scans
the WKLD CODE file (#64) for code(s) that are no longer allowed or code(s)
that are inactive in the CPT file (#81). The "WKLD CODE - CODE CHECK
REPORT" is then generated displaying all CPT code(s) that are no longer
allowed, code(s) that are inactive and why they are inappropriate,
laboratory test names linked to WKLD code(s) (i.e., laboratory test names
listed on the report will not receive PCE Workload credit), and code(s)
requiring a different entry in the CPT file (#81) in order to capture PCE
Workload data.
 
The new Inactive WKLD CODE File CPT Codes Print [LRCAPCPTI] option is also
useful when a new CPT Code file is released (i.e., new CPT code files are
usually distributed annually). The new CPT Code files may contain codes
that are no longer allowed or codes that are inactive in the VISTA CPT
file (#81). When CPT codes defined in the WKLD CODE file (#64) are deemed
inactive in the CPT file (#81), then the software enters a date in the
WKLD CODE file (#64), Inactive Date field (#3) for those inactive codes.
The Laboratory PCE interface checks each CPT code in the WKLD CODE file
(#64) before sending CPT workload to the PCE API. Whenever CPT code(s) are
no longer allowed or has been inactivated a VA Mailman message containing
the "WKLD CODE - CODE CHECK REPORT" is sent once a day to the LMI mail
group.
 
Example: WKLD CODE - CODE CHECK REPORT
 
Subj: WKLD CODE - CODE CHECK REPORT 12/14/99@14:44:25  [#83460]
From: POSTMASTER  In 'IN' basket.   Page 1
-----------------------------------------------------------------
Lab Order Number 100 has no Institution for the ordering location
===================
86081.0000 [1]  ABO Cell and Rh(D) Typing
86083  BLOOD TYPING;ANTIBODY SCREEN
Is an inactive CPT code.
Associated Tests
     ABO/RH TYPING  {1101}
Inactivation date of Dec 13, 1999 has been entered
****************
Listing of all offending codes
   ICPT     82534
 
****** END OF EXAMPLE ********
 
=====================
Data Dictionary Change Summary:
 
The following file and field changes occur with the installation of VISTA
Laboratory CPT Code and Modifiers Patch LR*5.2*263.
 
WKLD CODE file (#64)
 
 The WKLD CODE file (#64) was modified to convert existing file data to
a new data structure, new fields were created, and existing fields were
modified to support the Laboratory workload reporting enhancements of CPT
codes and modifiers.
 
1) CODE field (#18) multiple has been changed from a free text field to a
variable pointer.
 
2) CODE field (#.01) has been changed from a free text field to a variable
pointer. This field is screened to allow only active code entries to the
MORPHOLOGY FIELD file (#61.1), ICD DIAGNOSIS file (#80), and CPT file
(#81).
 
3) CODE subfile (#64.018) was modified to add the new CODE NOTES field
(#6). This new word processing field is used for tracking general notes
regarding a particular code.
 
4) WKLD Code Notes field (#24) is a new word processing field used for
storing general notes regarding inactive or erroneous code(s) that is
automatically removed by the software.
 
5) LOINC Code field (#4) was changed to point to the LOINC CODE file
(#95.3).
 
6) The new Default LOINC Code field (#25) points to the LOINC CODE file
(#95.3).  This field is used to identify the default LOINC code.  This
field is usually used when the specimen is not clinically significant
(i.e. body fluids). 'L FOR LOINC' was removed from the set of codes in
field TYPE (#64.018,5).
 
LABORATORY SITE file (#69.9)
 
1) LABORATORY SITE file (#69.9), DIVISION PARAMETERS field (#618) multiple
is a new field exported with this patch. These new fields are used to
customize the automated Venipuncture workload reporting functionality.
 
2) The new DIVISION PARAMETERS field (#.01) points to the INSTITUTION file
(#4). This field allows the LABORATORY SITE file (#69.9) to be
multi-divisional for Venipuncture workload reporting.
 
3) The new VENIPUNCTURE DEFAULT ACC AREA subfile (#618) points to the
ACCESSION file (#68). This new field is used by the Venipuncture workload
reporting background job to determine the accession area for the
INSTITUTION to be use for Venipuncture workload reporting.
Associated NOIS
===============
 
 
 
TAM-0899-31723   ALB-1299-50818
PRO-0999-11965   CLL-1099-43226
LON-0999-62211   BHS-0999-11616
HIN-0499-42772   NCH-0100-41945
ALB-0199-52914   IOW-0600-41401
FAV-0600-71380   HUN-0600-21379
PHI-0600-21370   TUA-0600-31347
 
 
Test Sites:
===========
Long Beach, CA
Kansas City, MO
Milwaukee, WI
Muskogee, OK
Iowa City, IA
Fayetteville, AR
Huntington, WV
 
 
Routine Summary:
================
 
 
  &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                         Checksum Values
Routine    Before    After     Patch List
Name       Patch     Patch     List
--------   --------  --------- --------
LR263        N/A       7411624   263
LRCAPPH    10281625    11522455  1,19,127,136,138,158,153,263
LRCAPPH1   4949612     7745000   127,136,138,158,263
LRCAPPH3     N/A       6642885   263
LRCAPPH4     N/A       3179202   263
LRCAPPNP     N/A       1653480   263
LRCAPR1    8086519     9529509   263
LRCAPR2    8195892     8701428   88,105,263
LRCAPR4    6795674     7338553   263
LRCAPV3    8123485     8391773   105,263
LRCAPVM    5012091     5237437   49,163,263
LRCE       13210738    13336460  28,76,103,121,153,210,202,263
LRCENDEL   16365039    15254614  100,121,202,221,263
LRDIQ      9573488     10128715  86,153,263
LRGP2      3525048     6353513   153,221,263
LRMISTF1   14470635    14019130  121,128,202,263
LROE       14732765    14550901  100,121,201,221,263
LRORD3     7349040     7385601   153,263
LROS       16807258    16882422  121,153,202,210,221,263
LRSTUF2    8013388     8012263   121,153,263
LRTSTSET   12634119    12775322  65,100,121,153,201,202,263
LRTT5P1    12297887    12439150  153,221,263
LRVER1     6428527     6801758   42,153,201,215,239,240,263
LRVER3A    10780359    10780812  1,5,42,100,121,153,190,221,254,263
LRVR       12695281    13316120  42,153,263
LRVR4      8714660     8661306   14,42,121,153,221,263
LRVR5      11783101    11729747  1,42,153,263
LRVRA      6318899     6374326   153,221,263
LRXREF     9255866     9584168   70,153,263
 
Required Patch Installation List:
 
 
LR*5.2*105
LR*5.2*153
LR*5.2*158
LR*5.2*202
LR*5.2*221
LR*5.2*240
LR*5.2*254
PX*1.0*73
PX*1.0*74
ICPT*6.0*7
 
Installation Instructions
=========================
************************
LABORATORY CURRENT PROCEDURAL TERMINOLOGY (CPT) CODES AND MODIFIERS PATCH
LR*5.2*263 INSTALLATION AND IMPLEMENTATION GUIDE in PDF format is provided
with this patch. Please refer to this document for details and specific
instructions. The patch description does not include ALL implementation
considerations or complete file setup instructions.
************************
 
The VISTA Laboratory CPT Codes and Modifiers Patch LR*5.2*263 Installation
and Implementation Guide is available in PDF (i.e., LR_CPTIG.PDF) at the
following FTP addresses:
 
Office of Information Field Office FTP Address               Directory
======================================================================
Albany                       152.127.1.5            anonymous.software
Hines                        152.131.2.110          anonymous.software
Salt Lake City               152.131.2.1            anonymous.software
 
 
 
 
 
Users may remain on the system, but installation should be done during off
peak hours and when the Laboratory computer users are idle. None of the
laboratory tasked jobs need to be stopped.
 
         1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan 
         menu. This option will load the KIDS package onto your  system.
         2. Review your mapped set.  If the routines are mapped,
         they should be removed from the mapped set at this time.
         3. The patch has now been loaded into a Transport global 
         on your system. You now need to use KIDS to install the 
         Transport global.
         4. On the KIDS menu, under the 'Installation' menu, use the
         following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         5. No options need to be placed out of service.
         6. Installation time is less than 15 minutes during off peak
            hours,and less than 30 minutes during
            peak hours which is NOT RECOMMENDED.
         7. Installation of this patch require minimal 
            disk space.
         8. From the 'Installation Menu' of the KIDS menu, run the option 
            'Install Package(s)'. Select the package 
            'LR*5.2*263' and proceed with the install.
         9. If any routines were unmapped as part of step 2, they 
            should be returned to the mapped set once the 
            installation has run to completion.
           
 
Example of install dialog:
 
Select INSTALL NAME:    LR*5.2*263     Loaded from Distribution
2/29/00@15:51:34
     =&gt; LR*5.2*263
 
This Distribution was loaded on Feb 29, 2000@15:51:34 with header of 
   LR*5.2*263
   It consisted of the following Install(s):
     LR*5.2*263
Checking Install for Package LR*5.2*263
Will first run the Environment Check Routine, LR263
 
 
                        --- Environment Check is Ok ---
     
 
Install Questions for LR*5.2*263
 
Incoming Files:
 
 
   64        WKLD CODE
Note:  You already have the 'WKLD CODE' File.
 
 
   69.9      LABORATORY SITE
Note:  You already have the 'LABORATORY SITE' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// YES
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
DEVICE: HOME//   TELNET
Install Started for LR*5.2*263 : 
               Feb 29, 2000@15:53:41
 
Build Distribution Date: Jan 27, 2000
 
 Installing Routines:
               Feb 29, 2000@15:53:41
 
 Installing Data Dictionaries: 
               Feb 29, 2000@15:53:43
 
 Installing PACKAGE COMPONENTS: 
 
 Installing OPTION
               Feb 29, 2000@15:53:43
 
 Running Post-Install Routine:
CONV^LR263.......................................
 
 Removing CPT Code 83019
  
 From 84483.0000  Helicobacter Pylorii Breath
  
 Removing CPT Code 80054
  
 From 81853.0000  Comprehensive Met Panel
  
 Removing CPT Code 87O87
  
 From 87553.0000  Urine Culture
 
 
                  Creating Mail Message containing CPT Changes
 
                       Sending message to LMI Mail Group
 
                 Relinking NATIONAL VA LAB CODES TO WKLD CODE
                                   LR*5.2*263
 
 
 
Updating Routine file...
 
Updating KIDS files...
 
LR*5.2*263 Installed. 
               Feb 29, 2000@15:54:32
 
 Install Message sent 
 
**** End of Example of Install dialog *******
 
 
Post Installation Instructions:
 
After the new file structures have been installed the post installation
software will perform the following:
 
1. Review each code to determine if the code is valid and has not been
inactivated in the CPT file (#81). If the code is inactive or erroneous,
the code is removed. The software will record the code removal in the WKLD
CODE NOTES field (#24). A MailMan message addressed to the local LMI mail
group will be generated if any codes are removed.
 
2. The data in the file is converted to the new data structure of the WKLD
CODE file (#64).
 
3. ASSOCIATED NAMES in the WKLD CODE file (#64) are updated to reflect
current linkages.
 
4. The Post Installation routine will set the WKLD CODE (#64) file
BILLABLE PROCEDURE (#4) field to yes for the codes:
Venipunture Outpatient [89343.0000]
Venipunture Travel Time [89341.0000]
**** Note: If the laboratory is does not perform venipuncture functions,
the BILLIABLE PROCEDURE field should be set to 'NO'.
'Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] option can be used to
edit the BILLABLE PROCEDURE field.
 
 
************************
LABORATORY CURRENT PROCEDURAL TERMINOLOGY (CPT) CODES AND MODIFIERS PATCH
LR*5.2*263 INSTALLATION AND IMPLEMENTATION GUIDE in PDF format is provided
with this patch. Please refer to this document for details and specific
instructions. The patch description does not include ALL implementation
considerations or complete file setup instructions.
************************
 
 
PCE Workload Capture Setup:
 
The Laboratory Information Manager (LIM) or the Information Resource
Management (IRM) service must do setup several procedure files/fields.
 
NOTE: The asterisk (*) indicates new enhancements for patch LR*5.2*263.
 
1. The LAB SERVICE package V. 5.2 must be installed. This is done by IRM.
 
2. PCE workload must be turned on for Laboratory. Someone other than the
LIM usually does this.
 
3. PCE PATIENT CARE ENCOUNTER Version 1.0 must be loaded on the system and
fully patched.  This is done by IRM.
 
4. The LABORATORY SITE file (#69.9), WKLD STATS ON field (#17) must be set
to YES. This is usually done by the LIM.
 
5. The LABORATORY SITE file (#69.9), PCE/VSIT ON field (#615) definition
entry should be defined other than OFF, the recommended entry is PCE/VSIT
ONLY. The VA FileMan Enter Edit [DIEDIT] option is used to defined the
PCE/VSIT ON field (#615). This is done by the LIM or IRM.
 
6. The LABORATORY SITE file (#69.9), PCE DEFAULT PROVIDER field (#617)
should have a valid active provider identified. This is usually the Chief
of Pathology and Laboratory Medicine (P&amp;LMS). The PCE DEFAULT PROVIDER
field (#617) in the past was required for the background job to run. This
patch no longer requires a valid entry in this field. This field is used
whenever the ordering provider is not a valid active provider; the default
provider is substituted instead of the inactive provider. If the ordering
provider and the default provider are both invalid the order will be
marked and skipped. A report will be sent to the local mail group G.LMI
indicating the observed problem. This usually done by the LIM.
 
7. The LABORATORY SITE file (#69.9), DEFAULT LAB OOS LOCATION (#.8) field
must have a valid HOSPITAL LOCATION defined. This field is defined by
using the Create Laboratory OOS Locations [LR WKLD LOCATION] option. This
option will correctly name the DEFAULT LAB OOS location entry. This is
usually done by the LIM.
NOTE: This is a critical field entry. The CPT Workload capture will not be
performed if this field has no entry or the entry is correct. All DEFAULT
LAB OOS LOCATION names must begin with 'LAB DIV '
 
8. The MAILMAN SITE PARAMETERS file (#4.3), DEFAULT INSTITUTION field
(#217) must be defined. This is done by IRM.
 
* 9. The LABORATORY SITE file (#69.9), DEFAULT BLOOD SPECIMEN field (#100)
must have a valid blood specimen defined. This is done by the LIM.
 
10. Each Accession area that should have workload collected must have the
accession area activated. The accession area is activated by using the
Turn on workload stats for accession area [LR WKLD STATS ON ACC AREA]
option. This is done by the LIM.
 
11. Each accession area can have a default Occasion of Service (OOS)
location defined. This allows each accession area to be assigned a
specific DEFAULT OOS LOCATION. Multi-divisional sites most often use this.
The default OOS location can be defined by using the Edit ACC Area OOS
Locations [LR WKLD ACC AREA LOCATION] option. A DEFAULT OOS LOCATION
should be defined for each institution generating workload. This is done
by the LIM.
 
12. Every orderable test in LABORATORY TEST file (#60) must be linked to a
NATIONAL VA LAB CODE (also referred to as WKLD CODE or NLT codes). The
NATIONAL VA LAB CODE is linked by using the Semi-automatic Linking of file
60 to 64 [LR7O 60-64 AUTO] and Manual Linking of file 60 to 64 [LR7O 60-64
MANUAL] options. This is done by the LIM.
 
13. Each WKLD CODE linked in the above step must be assigned valid CPT
codes, these CPT codes will be used to report workload to the Patient Care
Encounter (PCE) workload API. This is done by using the Edit or Print WKLD
CODES [LR WKLD CODE EDIT PRINT] option. This is done by the LIM.
 
 
Software Logic:
 
After the file setup steps have been completed, the software logic of the
background job will use the above-defined fields. The software will scan
collected orders, extract all valid CPT codes, and pass the CPT workload
data to the PCE workload API. In addition, the software will also will
capture LMIP venipuncture workload for ALL patients without regard for
location type.
 
NOTE: Outpatient locations are entries in HOSPITAL LOCATION file (#44)
that have the TYPE field (#2) defined as; CLINIC, MODULE or OTHER.
 
The software uses the cross reference of
^LR(69,"AA",ORDER NUMBER, SPECIMEN) to determine what orders have been
collected. The software orders through the cross-reference and examines
each order number using the following:
 
 
1. The order status must be collected.
 
2. The order must be for a Patient from the PATIENT file (#2).
 
*3. For venipuncture (specimen collection) workload capture ONLY,
collection type must be one of the following:
Laboratory Collect (LC) = Venipuncture Travel Time - 89341.0000
Immediate Collect (I) = Venipuncture Travel Time - 89341.0000
Send Patient (SP) = Venipuncture Outpatient - 89343.0000
*Note: Collection type is only used for venipuncture workload capture.
Collection type has no bearing on CPT workload capture.
Both In-Patient and Outpatient receive LMIP venipuncture workload credit.
 
4. The ordering provider is validated as a current active provider. If the
ordering provider is not valid, the default provider will be used if the
default provider is valid. If neither of the providers is valid, the order
is marked appropriately and skipped.
 
5. CPT workload is only collected for Out-Patients based on HOSPITAL
LOCATION file (#44) that have the TYPE field (#2) defined as: CLINIC,
MODULE, or OTHER LOCATION. Venipuncture workload is NOT controlled by
HOSPITAL LOCATION type.
 
*6. This patch uses the INSTITUTION field (#3) of the HOSPITAL LOCATION
file (#44) to determine the institution that should receive CPT workload
credit. If the INSTITUTION field (#3) is not defined then the DEFAULT
INSTITUTION is used.
NOTE: See step 8 of the Setup instructions.
 
7. Each test is checked to ensure that it does not have the status of
CANCEL or NOT PERFORMED before CPT workload is processed.
 
8. Each test is checks the accession area's LAB OOS LOCATION. If defined
the accession area's LAB OOS LOCATION is used.
 
9. Each collected test will be checked for a NATIONAL VA LAB CODE field
(#64) in the LABORATORY TEST file (#60).
 
10. The NATIONAL VA LAB CODE field (#64) point to the WKLD CODE file
(#64). The software checks the WKLD CODE file (#64), CODE field (#18) for
CPT codes.
 
*11. This patch has changed the data dictionary definition of the CODE
field (#18) to a variable pointer. The patch installation  will converts
all valid codes to the new file structure and reset the cross-references.
If the code is invalid, the code is removed. A note will be entered in the
WKLD CODE file (#64), WKLD CODE NOTES field (#24) indicating when the
removal occurred.
 
*12. Each CPT code is checked to make sure it is valid (active). Each CPT
code is checked for allowed modifiers. If there are multiple occurrences
of identical CPT codes, the software will automatically add the modifier
DISTINCT PROCEDURAL SERVICE (59) to each succeeding CPT code if this
modifier is allowable.
 
13. The specimen DATE/TIME OF COLLECTION is used as the encounter date
time.
 
NOTE: If the scan of order passes all of the checks and there are valid
CPT codes associated with the collected (accessioned) test, CPT workload
data is passed to the PCE workload API.
 
Listing of elements passed to PCE workload API.
$$DATA2PCE^PXAPI
 
OOS location
Reporting Institution
Provider
Encounter Date/time
Patient Pointer
Stop Code number of the ordering location.
Service Category of OOS
Encounter type of Ancillary
CPT codes for each collected test as defined in WKLD CODE file.
*CPT modifier if appropriate.
 
*14. If an Order Test is marked as NOT PERFORMED by the laboratory and CPT
workload has already been sent to PCE, a background job will automatically
send delete CPT workload messages for that order to the PCE Workload API.
NOTE: If the Not Performed test is ultimately verified, no CPT workload is
sent after NOT PERFORMED delete has been sent.
 
15. The PCE API passes back to the Laboratory software application the
encounter number used to store the PCE API passed information. It is
possible for one order to have multiple encounter number based on the
ACCESSION AREA's OOS definition. The PCE encounter number is displayed on
various order status screens in the Visit Number(s).
 
Example: Order/test status screen - Visit Number(s): show the PCE
encounter numbers.
Test              Urgency   Status                            Accession
  -Lab Order # 162690                        Provider: The man
     Visit Number(s): 99999;
  BLOOD  
  CBC PROFILE   ROUTINE Test Complete 12/02/1999@07:41 HE 1202 10
  -Lab Order # 162690                        Provider: The man
     Visit Number(s): 99999;
  BLOOD SERUM
  MAGNESIUM     ROUTINE Test Complete 12/02/1999@08:02 DA 1202 32
  CHEM 7        ROUTINE Test Complete 12/02/1999@08:02 DA 1202 32
  -Lab Order # 163491                        Provider: The man
     Visit Number(s): 99999;
  BLOOD SERUM
  URIC ACID     ROUTINE Test Complete 12/02/1999@14:37 DA 1202 234
 
By using the User's Visit Review [PXQ USER REVIEW] option User's Visit
Review one can determine what CPT workload has been captured for a given
order. This is an example of the option. The Visit Number(s) information
is entered at the 'Enter VISIT (UNIQUE ID or '1239):' prompt. 
     Select one of the following:
 
          P         Patient List of Visits
          I         Internal Entry Number of VISIT
 
Select by (P)atient or (I)en: P// Internal Entry Number of VISIT
 
Enter VISIT (UNIQUE ID or `1239): `99999
  12-2-1999@06:57:38     PATIENT,SICK     
LAB DIV 623 OOS ID 108 29TRC-MUS
 
     Select one of the following:
 
          D         Default (first field of each file/subfile)
          A         All fields in a file/subfile (except 'NULL')
          C         Customized by User (Default plus added fields) 
 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
To customize your display use VA FileMan to add entries in file PCE
CUSTOMIZE REPORT, with your NAME, FILE/SUBFILE#s, and FIELD#s that you
want to have included in the report.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
Enter '^^' to exit option
Format of Print out: // All fields in a file/subfile (except 'NULL')
 
DEVICE: HOME// TELNET    Right Margin: 80// 
 
**************************************************************
***  R E C O R D    O F    R E L A T E D    E N T R I E S  ***
 
         The Following is the VISIT file entry and
          ALL records pointing back to this entry.
 
               VISIT RECORD    --- #999999
 
               DATE/TIME --- DEC 02, 1999@06:57:38
               PATIENT   --- PATIENT,SICK
               LOCATION  --- LAB DIV 623 OOS ID 108
----------------------------------------------------------------
    FILE = VISIT #9000010  RECORD #99999
        VISIT/ADMIT DATE&amp;TIME              = DEC 02, 1999@06:57:38
        DATE VISIT CREATED                 = DEC 02, 1999@07:28:51
        TYPE                               = VA
        PATIENT NAME                       = PATIENT,SICK
        LOC. OF ENCOUNTER                  = MUSKOGEE, OK
        SERVICE CATEGORY                   = DAILY HOSPITALIZATION 
        DSS ID                             = LABORATORY
        DEPENDENT ENTRY COUNT              = 3
        DELETE FLAG                        = 
        PARENT VISIT LINK                  = 
        DATE LAST MODIFIED                 = DEC 02, 1999@07:28:52
        CHECK OUT DATE&amp;TIME                = 
        ELIGIBILITY                        = NSC, VA PENSION
        HOSPITAL LOCATION                 = LAB DIV 623 OOS ID 108
        CREATED BY USER                     = WORKER,HARD V
        OPTION USED TO CREATE               = LRENTER
        PROTOCOL                            = 
        OUTSIDE LOCATION                    = 
        VISIT ID                            = 29TRC-MUS
        PATIENT STATUS IN/OUT               = IN
        ENCOUNTER TYPE                      = ANCILLARY
        SERVICE CONNECTED                   = 
        AGENT ORANGE EXPOSURE               = 
        IONIZING RADIATION EXPOSURE         = 
        PERSIAN GULF EXPOSURE               = 
        MILITARY SEXUAL TRAUMA              = 
        COMMENTS                            = 
        PACKAGE                      = PCE PATIENT CARE ENCOUNTER
        DATA SOURCE                         = LAB DATA
 
-----------------------------------------------------------------
    FILE = OUTPATIENT ENCOUNTER #409.68  RECORD #999999
        DATE                        = DEC 02, 1999@06:57:38
        PATIENT                     = PATIENT,SICK
        CLINIC STOP CODE            = LABORATORY
        LOCATION                    = LAB DIV 623 OOS ID 108
        VISIT FILE ENTRY            = DEC 02, 1999@06:57:38
        CHECK OUT PROCESS COMPLETION = DEC 02, 1999@07:28
        ORIGINATING PROCESS TYPE    = STOP CODE ADDITION
        APPOINTMENT TYPE            = REGULAR
        MEDICAL CENTER DIVISION     = MUSKOGEE VAMC
        STATUS                      = INPATIENT APPOINTMENT
        ELIGIBILITY OF ENCOUNTER    = NSC, VA PENSION
        UNIQUE VISIT NUMBER         = 29TRC-MUS
        EDITED LAST BY              = WORKER,HARD V
        DATE/TIME LAST EDITED       = DEC 02, 1999@07:28:52
        CREATED BY                  = WORKER,HARD V
        DATE/TIME CREATED           = DEC 02, 1999@07:28:52
        COMPUTER GENERATED?         = YES
-----------------------------------------------------------------
    FILE = V PROVIDER #9000010.06  RECORD #99999
        PROVIDER                    = GIVER,CARE
        PATIENT NAME                = PATIENT,SICK
        VISIT                       = DEC 02, 1999@06:57:38
        PRIMARY/SECONDARY           = PRIMARY
        PERSON CLASS                = Physicians (M.D.)
        EDITED FLAG                 = EDITED
        AUDIT TRAIL                 = 24-A 5591;24-E 5591;
        PACKAGE                     = LAB SERVICE
        DATA SOURCE                 = LAB DATA
-----------------------------------------------------------------
 FILE = V CPT #9000010.18  RECORD #99999
        CPT                         = 85025
        PATIENT NAME                = PATIENT,SICK
        VISIT                       = DEC 02, 1999@06:57:38
        PROVIDER NARRATIVE          = AUTOMATED HEMOGRAM
        QUANTITY                    = 1
        ENCOUNTER PROVIDER          = GIVER,CARE
        AUDIT TRAIL                 = 24-A 5591;
        PACKAGE                     = LAB SERVICE
        DATA SOURCE                 = LAB DATA
-----------------------------------------------------------------
       The Following is the OUTPATIENT ENCOUNTER entry and
            most of the records pointing back to it.
 
             OUTPATIENT ENCOUNTER --- #99999
-----------------------------------------------------------------
 
    FILE = V CPT #9000010.18  RECORD #99999
        CPT                         = 85025
        PATIENT NAME                = PATIENT,SICK
        VISIT                       = DEC 02, 1999@06:57:38
        PROVIDER NARRATIVE          = AUTOMATED HEMOGRAM
        QUANTITY                    = 1
        ENCOUNTER PROVIDER          = GIVER,CARE
        AUDIT TRAIL                 = 24-A 5591;
        PACKAGE                     = LAB SERVICE
        DATA SOURCE                 = LAB DATA
-----------------------------------------------------------------
    FILE=TRANSMITTED OUTPATIENT ENCOUNTER #409.73  RECORD #999999
        NUMBER                      = 999999
        OUTPATIENT ENCOUNTER        = DEC 02, 1999@06:57:38
        TRANSMISSION REQUIRED       = YES
        TRANSMISSION EVENT          = ADD
        DATE/TIME OF EVENT          = DEC 02, 1999@07:28:52
        USER CAUSING EVENT          = WORKER,HARD V
        PATIENT                     = PATIENT,SICK
        ENCOUNTER DATE              = DEC 02, 1999 06:57:38
        HOSPITAL LOCATION           = LAB DIV 623 OOS ID 108
        PATIENT SSN                 = 1010101010
        ENCOUNTER DIVISION          = MUSKOGEE VAMC
        ENCOUNTER DIVISION (INTERNAL) = 1
-----------------------------------------------------------------
       The Following is the SCHEDULING VISITS file.
      This is where Scheduling stores the CPT codes.
 
THERE ARE PROCEDURES IN PCE BUT NO RECORD IN SCHEDULING **
 
===============================================
 
        ****END OF EXAMPLE****
 
 
*Venipuncture Workload Capture:
 
************************
LABORATORY CURRENT PROCEDURAL TERMINOLOGY (CPT) CODES AND MODIFIERS PATCH
LR*5.2*263 INSTALLATION AND IMPLEMENTATION GUIDE in PDF format is provided
with this patch. Please refer to this document for details and specific
instructions. The patch description does not include ALL implementation
considerations or complete file setup instructions.
************************
 
1. *Patch LR*5.2*263 will automatically collects venipuncture workload
data identical to other types of collected workload data. Venipuncture
workload data will appear on workload reports broken down by standard
reporting criteria.
 
2. Originally, LMIP workload reporting did not include venipuncture as a
billable procedure; therefore, the software entered a manual style tally
of totals for the institution by day. Now LMIP workload does allow
venipuncture workload. This patch automatically captures venipuncture by
institution, by date, by WKLD CODE, and by event time and stores them in
the WKLD DATA (#64.1) file. Certain data elements are required when
recording workload. One of the required data elements is accession area.
Therefore, some accession area must be utilized to satisfy the required
data field. This patch provides new fields that can be used to customize
data collection.
 
3. The venipuncture workload ACTUALLY indicates that the laboratory
obtained at least one specimen from the patient.
 
NOTE: THE SPECIMEN OBTAINED MAY NOT BE A BLOOD SPECIMEN. WHAT THE DEFAULT
CODES (venipuncture) INDICATES IS THAT THE LAB COLLECTED A SPECIMEN FOR
THIS PARTICULAR ORDER. ONLY 1 SPECIMEN COLLECTION WORKLOAD UNIT PER ORDER
IS CAPTURED REGARDLESS OF THE NUMBER OF ACTUAL SPECIMENS COLLECTED FOR THE
ORDER.
 
4. Specimen Collection workload codes of Venipuncture Travel Time
[89341.0000] is the default code for Lab Collect (LC) and Immediate
Collect (I). Specimen Collection WKLD CODE of Venipuncture Outpatient
[89343.0000] is default code for Send Patient (SP). 
 
5. *Venipuncture workload is captured based on INSTITUTION field (#3) in
the HOSPITAL LOCATION file (#44) of the ordering location. If no
INSTITUTION is defined, the default institution defined by MAILMAN will be
used.
* There is a new field exported with this patch. The DIVISION PARAMETERS
field (#618) is a multiple in the LABORATORY SITE file (#69.9). There are
two fields in the DIVISION PARAMETERS field (#618) multiple that can be
used to customize the venipuncture workload collection.
   - DIVISION PARAMETER field (#.01) points to the INSTITUTION file (#4).
This field will allow the LABORATORY SITE file (#69.9) to be
multi-divisional.
   - VENIPUNCTURE DEFAULT ACC AREA field (#618) points to the ACCESSION
file (#68).
 
6. * The software will examine the ordering location for the INSTITUTION
that location is assigned. The software will look up in the LABORATORY
SITE file (#69.9), DIVISION PARAMETERS subfile (#) to get the ACCESSION
area to be used when storing venipuncture workload. The MAJ. SECT and the
SUBSECTION fields in WKLD DATA (#64.1) file will be set to ACCESSION area
defined.
Note: The default venipuncture ACCESSION area is HEMATOLOGY.
          LAB DIVISION is CLINICAL PATHOLOGY
          Date and Time is the SPECIMEN COLLECTION date/time.
          The LAB TEST is the first collected test in the order.
 
7. * The Venipuncture workload capture assumes that there is an accession
area that begins with the letters 'HEM'. If there is no accession area
beginning with the letters 'HEM', then venipuncture default accession area
will be the accession area having the internal entry number of 10 in the
ACCESSION file (#68).
 
8. ** This patch creates a new multiple in the LABORATORY SITE file
(#69.9), DIVISION PARAMETERS field (#618). This new multiple will be used
to allow in the future, each institution to have the opportunity to
completely define separate laboratory parameter definitions. The first
entry in this multiple is VENIPUNCTURE DEFAULT ACC AREA field (#618). This
field will allow each institution to define what accession area
venipuncture workload should be assigned. If this field is not defined
then the default Hematology accession area outlined above will be used.
 
 
This is a listing of captured venipuncture workload data.
DATE: DEC 02, 1999
WKLD CODE: +Venipuncture Outpatient     UNIT WEIGHT: 1
ACCESSION WKLD CODE TIME: 12.5713       LAB TEST: GLUCOSE
  WEIGHT MULTIPLIER: 1                  LAB DIVISION: CLINICAL PATHOLOGY
  MAJ. SECT.: SEND OUT                    SUBSECTION: SEND OUT
  ACC NO.: CH 1202 15                         PATIENT: NOSE,LIMP
  ORIGINAL ACC DATE: DEC 02, 1999
   DATE ORDERED: DEC 02, 1999@12:57:13
  SPECIMEN NO.: 1                              SPECIMEN: BLOOD
  REPORT ROUTING LOCATION: 2S            PROVIDER: GINSBURG,RONNIE
  LOG IN PERSON: STALLING,FRANK         LOCATION TYPE: WARD
  ORDERING LOCATION: 7 ATU                   URGENCY: ROUTINE
  VERIFY TECH.: STALLING,FRANK           WORK AREA: SEND OUT
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;218 SEQ #198</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-06-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch LR*5.2*218 VISTA BLOOD BANK SOFTWARE DEVICE PRODUCT LABELING
STATEMENT
 
February 9, 2000
 
VISTA Laboratory Package patch LR*5.2*218 contains changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
Changes include: The fields PRINTER TYPE (#.02) and LABEL STOCK (#.03)
within the LABEL DEVICE multiple of the LABORATORY SITE file (#69.9)
have been changed.  A new code for Zebra ZPL II compatible printers has
been added. Use this code to designate Zebra printers. The label stock of
15/16x3 has been renamed 1x3 for clarity.
 
All of the above changes have been reviewed by the VISTA Blood Bank
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE
control functions.
 
PROBLEM:   The patch will add support for label printing within the
Laboratory software for Zebra Technologies Corporation thermal printers.
Blood Bank Caution Tag labels are not included in this support.
This software is written to utilize the functions and features of the
Zebra Programming Language II - ZPL II(TM).
 
RISK ANALYSIS:   Changes made by patch LR*5.2*218 have no effect on
Blood Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*218 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
POTENTIAL IMPACT ON SITES:  This patch contains changes to a file
identified in Veterans Health Administration (VHA) Directive 99-053,
group B listing. The changes have no effect in Blood Bank functionality
or medical device control functions. There is no adverse potential to
sites.
 
 
VALIDATION REQUIREMENTS BY OPTION:  There are no required validation
scenarios to be completed by sites after installing this patch.
 
 
- Patch LR*5.2*218 will add support for label printing within the
  Laboratory software for Zebra Technologies Corporation thermal printers.
  This software is written to utilize the functions and features of the
  Zebra Programming Language II - ZPL II(TM).
 
- It will adjust the label layout of the 2nd 1x2 label on the 10 part label
  stock when printed on the Intermec 3000/4000 series printer
  (see item #7 below).
 
- It will correct problems reported in NOIS: ATG-1298-31334, BAY-0999-30794,
  TAM-1299-32916 (see items #8, 9, 10 below).
 
 1. This software has been specifically tested with the following models:
      Zebra Stripe S-600 printer
      Zebra Stripe S-500 printer
      Zebra Stripe S-300 printer
      Zebra A-Series 300 printer
      Zebra S-Series 105SE printer
      Intermec 4100 printer
 
    Specific site equipment was as follows:

    Chicago HCS: Zebra S-300 using 1x2 label stock

    Lebanon VAMC: Zebra S-500 using 1x2 label stock

    Maryland HCS-Perry Point Division: Zebra S-600 using 1x2 label stock
 
    Milwaukee VAMC: Zebra A300, S-500 and 105SE using 1x2 label stock
                    Intermec 4100 using 1x2 label stock

    North Chicago VAMC: Zebra S-600 using 2.5x4 10 part label stock
                        Intermec 4100 using 2.5x4 10 part label stock

 
 2. The following VISTA TERMINAL TYPE file (#3.2) printer settings should 
    be/can be used as examples for ....
 
    NAME: P-ZEBRA S300 LABEL PTR
      RIGHT MARGIN: 0
      PAGE LENGTH: 99999
      FORM FEED: $C(0)
      OPEN EXECUTE: W $C(2),"^PON^LH0,0",$C(3)
      CLOSE EXECUTE: S IONOFF=1
      DESCRIPTION: Zebra Stripe S-300 Thermal Printer
 
    NAME: P-ZEBRA S500 LABEL PTR
      RIGHT MARGIN: 0
      PAGE LENGTH: 99999
      FORM FEED: $C(0)
      OPEN EXECUTE: W $C(2),"^PON^LH0,0",$C(3)
      CLOSE EXECUTE: S IONOFF=1
      DESCRIPTION: Zebra Stripe S-500 Thermal Printer
 
    NAME: P-ZEBRA S600 LABEL PTR
      RIGHT MARGIN: 0
      PAGE LENGTH: 99999
      FORM FEED: $C(0)
      OPEN EXECUTE: W $C(2),"^PON^LH0,0",$C(3)
      CLOSE EXECUTE: S IONOFF=1
      DESCRIPTION: Zebra Stripe S-600 Thermal Printer

    NAME: P-ZEBRA S-Series 105SE LABEL PTR
      RIGHT MARGIN: 0
      PAGE LENGTH: 99999
      FORM FEED: $C(0)
      OPEN EXECUTE: W $C(2),"^PON^LH0,0",$C(3)
      CLOSE EXECUTE: S IONOFF=1
      DESCRIPTION: Zebra S-Series 105SE Thermal Printer
 
    NAME: P-ZEBRA A300 LABEL PTR
      RIGHT MARGIN: 0
      PAGE LENGTH: 99999
      FORM FEED: $C(0)
      OPEN EXECUTE: W $C(2),"^PON^LH0,0",$C(3)
      CLOSE EXECUTE: S IONOFF=1
      DESCRIPTION: Zebra A-300 Thermal Printer
 
 3. The following VISTA DEVICE file (#3.5) label setting should be/can be 
    used as an example for ....
 
    NAME: LABLABEL                          $I: _LTA387:
      ASK DEVICE: NO                        ASK PARAMETERS: NO
      SIGN-ON/SYSTEM DEVICE: NO             LOCATION OF TERMINAL: LABLABEL
      SUPPRESS FORM FEED AT CLOSE: YES      *MARGIN WIDTH: 0
      *FORM FEED: $C(0)                     *PAGE LENGTH: 99999
      SUBTYPE: P-ZEBRA S500 LABEL PTR       TYPE: TERMINAL
      LAT SERVER NODE: DSV38                LAT SERVER PORT: PORT_7
      VMS DEVICE TYPE: NOT SPOOLED          LAT PORT SPEED: 96
 
    The device should be defined and setup in the operating system as
    a printer. The following communication parameters have been found
    to work well:
                   baud rate: 9600
                   stop bits: 1
                      parity: none
     communication handshake: xon/xoff control
 
    No special jumping or wiring should be required.
 
    It is important that initial configuration and media calibration
    be performed on the printer per the printer's user guide before
    attempting to print labels.
 
 4. The field PRINTER TYPE (#.02) within the LABEL DEVICE multiple of
    the LABORATORY SITE file (#69.9) has been changed. A new code for
    Zebra ZPL II compatible printers has been added. Use this code to
    designate Zebra printers.
 
    Note: Patch LR*5.2*161 introduced this field. This patch had code "2"
    represent INTERMEC 4100. In patch LR*5.2*218 this has been changed
    to represent INTERMEC 3000/4000 SERIES to reflect the fact that this
    software will also work with Intermec 3400/4100/4400 series printers.
 
    Example of setting up this printer in the laboratory software:
 
 
    Select VA FileMan Option: 1  Enter or Edit File Entries
 
    INPUT TO WHAT FILE: LABORATORY SITE//
    EDIT WHICH FIELD: ALL// LABEL DEVICE      (multiple)
       EDIT WHICH LABEL DEVICE SUB-FIELD: ALL//
    THEN EDIT FIELD:
 
 
    Select LABORATORY SITE SITE NAME: MILWAUKEE, WI 53295
    Select LABEL DEVICE: LABLABEL// LABLABEL     LABLABEL      _LTA387:
         ...OK? Yes//   (Yes)
 
      LABEL DEVICE: LABLABEL//
      PRINTER TYPE: ZEBRA ZPL II COMPATIBLE// ?
         Enter the type of label printer attached to this device.
         Choose from:
           0        OTHER
           1        INTERMEC 3000/4000 SERIES
           2        ZEBRA ZPL II COMPATIBLE
      PRINTER TYPE: ZEBRA ZPL II COMPATIBLE//
      LABEL STOCK: 1X2//
      ALTERNATE LABEL ENTRY:
      ALTERNATE LABEL ROUTINE:
      DEFAULT ACCESSION AREA: CHEMISTRY
 
 5. There is no downloading of a label format required for Zebra type
    printers. The label format is part of the label printing process.
    This is a change from Laboratory's previous experience with Intermec
    model printers which require a separate downloading of the label
    format prior to label printing.
 
 6. A new option Lab Zebra Label Utility [LR BAR ZEBRA UTILITY] is
    added by this patch. This option will be added to the menu option
    Lab liaison menu [LRLIAISON] by this KIDS install.
 
    NAME: LR BAR ZEBRA UTILITY        MENU TEXT: Lab Zebra Label Utility
      TYPE: run routine               CREATOR: 0
      PACKAGE: LAB SERVICE
      DESCRIPTION: This option is used to perform several configuration
                   functions that relate to the Zebra label printers.
 
      It allows the user to:
 
          1         Configuration Update
          2         Print Configuration Label
          3         Adjust Tear Off Position
          4         Label Top Position
          5         Set Darkness
          6         Mode Protection (Stripe printers only)
 
      Some functions are applicable to specific models of Zebra
      printers. Based on the firmware version installed in a printer,
      the effect of these functions may vary. Parameters allowed by
      these functions may be different due to changes in firmware.
      Consult the ZPL II Programming Guide, specific model User's Guide
      and Firmware Release Notes for specific information.
 
      ROUTINE: EN^LRBARCFA
      UPPERCASE MENU TEXT: LAB ZEBRA LABEL UTILITY
 
 7. It was reported to Lab Development subsequent to release of patch
    LR*5.2*161 that depending on label stock and printer alignment,
    the 2nd (right side) 1x2 label on the 10 part label stock prints
    very close to the left margin when using Intermec 4000 series
    printers. The routine LRBARB has been changed to move the
    information over 15 dots to the right. This hopefully will provide
    enough of a buffer to allow for variation in label stock and printer
    calibration and still print legible labels. Site will need to download
    format 12 for this change to take affect. Use option Lab Bar Code
    Label Formatter [LR BAR CF] to perform this function.
 
 8. NOIS: ATG-1298-31334 reported an undefined error when printing future
    collection labels on controls using option Print future collection
    labels [LRUFCL]. When printing future collection labels for the
    current day and the site has accessioned controls, the option would
    error because controls do not have a location entered in file
    LAB ORDER ENTRY (#69). This patch corrects this situation by not 
    attempting to print labels for controls or orders with no location.
 
 9. NOIS: BAY-0999-30794 reported that the option Print single future
    collection label [LRUFCLS] would display a misleading message when
    attempting to print labels for an order when one of the specimens on
    the order has no active tests. This can occur when all tests on a
    specimen have been cancelled. The message has been changed to
    indicate that only the specimen with no active tests will not be
    printed.

10. NOIS: TAM-1299-32916 reported that when the laboratory order number
    went over 999,999 that the last digit of the order number was truncated
    on the label when printed on Intermec printers. The label formats for
    1x2 and 10 part labels for Intermec and Zebra label printers have been
    adjusted to print the order number to 7 digits. The text "order #"
    which precedes the order number on the label has been standardized
    across label formats printed by Intermec and Zebra printers.
 
    The test label available for printing within the Laboratory software
    now prints a 7 digit order number.
  
 
 
  Associated NOIS
  --------------
  ATG-1298-31334
  BAY-0999-30794
  TAM-1299-32916
 
  Test Sites
  ----------
  Chicago HCS
  Lebanon VAMC
  Maryland HCS, Perry Point Division
  Milwaukee VAMC
  North Chicago VAMC
 
 ----------------------------
 
 ROUTINE SUMMARY
 ---------------
 
  The following is a list of routines included in this patch. The second
  line of each routine now looks like:
 
  &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                   CHECK^XTSUMBLD results
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR218            N/A            4566190        **218**(Deleted by KIDS)
   LRBARA           6240751        3709747        **161,218**
   LRBARB           18545310       10237788       **161,218**
   LRBARCF          4094580        3690809        **161,218**
   LRBARCFA         N/A            7161568        **218**
   LRLABELA         2536685        1741393        **161,218**
   LRLABELB         6023279        5187746        **161,218**
   LRLABELD         N/A            3621894        **218**
   LRLABELE         N/A            6156659        **218**
   LRLABELG         N/A            1534246        **218**
   LRLABLD          8089099        7185434        **65,161,218**
   LRLABLD0         9351158        9284158        **1,65,121,161,218**
   LRLABLDS         4835286        4940823        **161,218**
   LRLABLIO         5515879        4587336        **107,161,218**
 

 
 INSTALLATION INSTRUCTIONS
 -------------------------
 The install time for this patch is less than 10 minutes without menu
 rebuilding. Install time will be increased if KIDS performs menu
 rebuilding. Alerts will be generated and sent to local mail group LMI
 when the transport global is loaded, patch installation starts and
 ends.
 
 This patch can be installed when Laboratory users are on the system.
 However the following conditions apply:
 
    - Accessioning/label printing should not be occurring.
    - Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 NOTE: MailMan and KERNEL patches must be current on the target system to
       avoid problems loading and/or installing this patch.
 
 
 1.  If any of the above routines are mapped, disable mapping for them.
 
 2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
     option will load the KIDS patch onto your system.
 
 3.  The patch has now been loaded into a Transport global on your
     system.  You now need to use KIDS to install the transport global.
 
 4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
     select the 'Installation' menu.
 
 5.  Use the 'Verify Checksum in Transport Global' option and verify that
     all routines have the correct checksums.
 
 6.  If you wish to preserve a copy of the routines exported in this patch
     prior to installation, you should use the 'Backup a Transport Global'
     option at this time.  You may also compare the routine in your
     production account to the routine in the patch by using the 'Compare
     a Transport Global to Current System' option.  These options are
     both found under the 'Installation' menu.
 
 7.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'LR*5.2*218'.
 
     When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
     Install? YES//", choose 'YES'
 
     When prompted 'Want to DISABLE Scheduled Options, Menu Options,
     and Protocols? YES//',  choose 'NO'.
 
 8.  On a mapped system, rebuild your map set.
 
 9.  Routine LR218 will be deleted after successful patch installation
     by KIDS.
 
 
 *****************************************************************************
 Below is an example of the dialogue seen during the KIDS install:
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:    LR*5.2*218        Loaded from Distribution  10/8/98@11:2
6:30
     =&gt; LR*5.2*218
 
This Distribution was loaded on Oct 08, 1998@11:26:30 with header of
LR*5.2*218
It consisted of the following Install(s):
LR*5.2*218
 
   LR*5.2*218
Will first run the Environment Check Routine, LR218
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*218
 
Incoming Files:
 
 
   69.9      LABORATORY SITE  (Partial Definition)
Note:  You already have the 'LABORATORY SITE' File.

Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET VIRTUAL
 
 
 Install Started for LR*5.2*218 :
               Oct 08, 1998@11:30:08
 
 Installing Routines:
               Oct 08, 1998@11:30:08
 
 Running Pre-Install Routine: PRE^LR218
 
                          *** Pre install started ***
 
                  --- No actions required for pre install ---
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries:
               Oct 08, 1998@11:30:10
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Oct 08, 1998@11:30:11
 
 Running Post-Install Routine: POST^LR218
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*218 Installed.
               Oct 08, 1998@11:30:12.
 
 Install Message sent #103025
 
Starting Menu Rebuild:  Oct 08, 1998@11:30:12
 
Collecting primary menus in the New Person file...
 
                    Primary menus found in the New Person file
                    ------------------------------------------
 
OPTION NAME         MENU TEXT                    # OF         LAST     LAST
                                                 USERS        USED     BUILT
 
EVE                 Systems Manager Menu         34         10/08/98   10/07/98
LRMENU              Laboratory DHCP Menu         2          10/07/98   10/07/98
LRWARDM             Ward lab menu                1          02/14/89   10/07/98
 
&lt;****** menu list has been abbreviated for brevity ******&gt;
 
Building secondary menu trees....
 
Menu Rebuild Complete:  Oct 08, 1998@11:33:05
 
 
Complete
 
 
 
Install Completed
 
 
 
 End of example install
 *****************************************************************************

POST-INSTALLATION INSTRUCTIONS
------------------------------

1. If the site is using either the Intermec or Zebra brand printers,
each printer used to print labels within the Laboratory package needs to be
defined within the Laboratory files. Use FileMan Enter/Edit option to
edit file LABORATORY SITE (#69.9). An example follows:
 
Select VA FileMan Option: 1  Enter or Edit File Entries
 
INPUT TO WHAT FILE: LABORATORY SITE//
EDIT WHICH FIELD: ALL// LABEL DEVICE    (multiple)
   EDIT WHICH LABEL DEVICE SUB-FIELD: ALL//
THEN EDIT FIELD:
 
Select LABORATORY SITE SITE NAME:    MILWAUKEE, WI 53295
Select LABEL DEVICE: IRM DEVELOP INTERMEC 4100//
  LABEL DEVICE: IRM DEVELOP INTERMEC 4100//
  PRINTER TYPE: INTERMEC 3000/4000 SERIES// ?
     Enter the type of label printer attached to this device.
     Choose from:
       0        OTHER
       1        INTERMEC 3000/4000 SERIES
       2        ZEBRA ZPL II COMPATIBLE
  PRINTER TYPE: INTERMEC 3000/4000 SERIES//
  LABEL STOCK: 1X3// ?
     Select the type of label stock loaded in this device.
     Choose from:
       0        OTHER
       1        1X3
       2        1X2
       3        2.5X4 10 PART
  LABEL STOCK: 1X3//
  ALTERNATE LABEL ENTRY:
  ALTERNATE LABEL ROUTINE:
  DEFAULT ACCESSION AREA: CHEMISTRY//
Select LABEL DEVICE:
 
2. If the site is using Intermec printers and 1x2 or 10 part label stock
   then the following formats need to be downloaded to each printer
   as appropriate:
         1x2 label - formats 3,4,5
     10 part label - formats 12,13
 
   Use option Lab Bar Code Label Formatter [LR BAR CF] to perform this
   function.
 
3. If the site will be using Zebra brand printers then review manufacturer's
   user guide for installation, setup and calibration instructions.
   Adjustments to some printer parameters can be performed via
   Lab Zebra Label Utility [LR BAR ZEBRA UTILITY] option. Review the
   option description for further information relating to the capabilities
   provided by this option.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;260</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-09-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch adds two new segments to the HL7 transmissions generated by
 the Emerging Pathogens Initiative (EPI) software, clears fifteen 
 NOIS calls, and eliminates the National Center for Health Promotion
 (NCH) data transmissions.
 
 The new segments are:
 ABBREVIATED NAME: ZXE       FULL NAME: Pharmacy Prescription Order
                   This segment will report Pharmacy data consisting of
                   the Drug Name, NDC, and Days Supply.
 ABBREVIATED NAME: DSP       FULL NAME: Display Data
                   This segment will report Clinical Reminders Hepatitis
                   C Risk Assessment Data.
 
This patch also includes the new LREPI REMINDER LINK file (#69.51).
 This file points to the REMINDER DEFINITION (#811.9) used by the 
 Emerging Pathogens Initiative (EPI). Entries in the new LREPI REMINDER
 LINK file are used to determine which Clinical Reminders will be used to
 generate data for the Hepatitis C database.
 
 The NOIS calls addressed are:
        1. ALX-0400-71108
           ALB-0100-52818
           BHH-0999-40058
           NCH-0599-42202
           WAS-0499-21751
           MRN-0299-40846
           CIN-0199-42742
           ALB-1198-50947
           BRK-1198-10546
           SUX-0599-40961
           PUG-0399-52619
           MEM-0199-72168
                  Several sites have reported receiving a 
                  SEARCH+3^LREPI4 error during the nightly runs.  This
                  is due to an incomplete PTF record.  The software now
                  checks the validity of the reference before attempting
                  to access the record.
        2. LAS-1199-61337
           WPB-1298-30488
                  These NOIS calls report an error in the way the site 
                  number is obtained.  An older method of gathering the
                  site number was used.  This has been replaced with a
                  FileMan reference as allowed in DBIA #10090.
        3. STC-1098-41570
                  The NCH transmissions will be eliminated with the
                  release of this patch.
 
  Requesting Site: Washington, DC
                   Cincinnati, OH
  
     Test Site(s): Cincinnati, OH
                   West Palm Beach, FL
 
   Reference NOIS: ALX-0400-71108
                   ALB-0100-52818
                   BHH-0999-40058
                   NCH-0599-42202
                   WAS-0499-21751
                   MRN-0299-40846
                   CIN-0199-42742
                   ALB-1198-50947
                   BRK-1198-10546
                   SUX-0599-40961
                   PUG-0399-52619
                   MEM-0199-72168
                   LAS-1199-61337
                   WPB-1298-30488
                   STC-1098-41570
 
The daily National Center for Health Promotion (NCH) data transmissions
 are no longer necessary and the NCHP program office has requested that
 we terminate the transmissions.  This will be done during the post-init
 phase and does not require any user intervention.
 
 This patch to the Laboratory package does not contain any changes to the
 VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 99-053 titled VISTA
 BLOOD BANK SOFTWARE.
 
 
ROUTINE SUMMARY
 ===============
 The following is a list of routines included in this patch.  The second
 line of each routine now looks like:
  
 &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;;Sep 27, 1994
  
         CHECK^XTSUMBLD Results
  
 Routine Name    Before Patch     After Patch   Patch List
 ------------    ------------     -----------   ----------
  
LR260                NEW           10238627       260
LREPI              11741568        14217525       132,175,260
LREPI1             10215540        10654552       132,157,175,260
LREPI1A            5536163         5834647        175,260
LREPI2             5729687         7199135        132,157,175,242,260
LREPI3             3617464         5462995        132,175,260
LREPI4             1715994         1903453        132,175,260
LREPIAK            2866307         3640656        175,260
LREPIPH              NEW           5818757        260
LREPIRP            6008472         5973015        132,157,175,260
LREPISRV             NEW           12552990       260
 
  
Installation Instructions:
==========================
  
 
   NOTE: This KIDS install does not place any options out of service
         during the install and no user options are affected.
         If KIDS prompts:
   
         "Want KIDS to Rebuild Menu Trees Upon Completion of
          Install? YES// NO"
         "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
         "Want to DISABLE Scheduled Options, Menu Options, and Protocols?
          YES// NO"
  
         The site should answer "NO" to all three questions.
             Note: You may not receive all three prompts at your site.  
   
          1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
             This option will load the KIDS package in this message onto
             your system.
  
          2. Review your mapped set.  If the routines are mapped, they
             should be removed from the mapped set at this time.
  
          3. The patch has now been loaded into a Transport global on
             your system. You now need to use KIDS to install the
             Transport global.
  
             On the KIDS menu, under the 'Installation' menu, use the 
             following options:
  
                 Print Transport Global
                 Compare Transport Global to Current System
                 Verify Checksums in Transport Global
                 Backup a Transport Global
  
          4. Users may remain on the system, installation may be done at
             any time.
  
          5. No options need to be placed out of service.
  
          6. Installation time is less than 2 minutes during off peak
             hours and less than 5 minutes during peak hours.
  
          7. Installation of this patch requires no additional memory
             space.
  
          8. From the 'Installation Menu' of the KIDS menu, run the
             option 'Install Package(s)' Select the package 'LR*5.2*260'
             and proceed with the install.
  
          9. The post-init routine, LR260, will perform the three final
             automated functions in the installation.  These steps are:
 
                   A. Three entries will be added to the LREPI REMINDER
                      LINK (#69.51) file.  These are "VA-NATIONAL EPI DB
                      UPDATE", "VA-HEP C RISK ASSESSMENT", and 
                      "VA-NATIONAL EPI RX EXTRACT".
                   B. Three entries will be added to the LAB 
                      SEARCH/EXTRACT (#69.5) file.  These are "HEPATITIS C
                      ANTIBODY NEG", "HEPATITIS A ANTIBODY POS", and
                      "HEPATITIS B POS".  Please refer to the
                      LR*5.2*260 TECHNICAL/USERS MANUAL for instructions
                      on adding tests to these entries.
                   C. The NCH CHOLESTEROL and NCH PAP SMEAR entries will
                      be inactivated in the LAB SEARCH/EXTRACT (#69.5)
                      file.
 
             You will be notified after each step if any problems were
             encountered.
 
         10. The post-init routine, LR260, will be automatically deleted
             when the installation has completed.
 
         12. If any routines were unmapped as part of step 2, they should
             be returned to the mapped set once the installation has run
             to completion.
 
         13. LABORATORY SEARCH/EXTRACT PATCH LR*5.2*260 HEPATITIS EMERGING
             PATHOGENS INITIATIVE (EPI) TECHNICAL AND USER GUIDE in
             Portable Document Format (LR_260TUG.PDF) is provided with
             this patch. Please refer to this documentation for details
             and specific instructions. The patch description does not
             include ALL implementation considerations or complete setup
             instructions.
 
This document is available on the following Office of Information Field
             Offices' ANONYMOUS.SOFTWARE directories.
 
       OI Field Office             FTP Address        Directory
       ================================================================
       Albany                      152.127.1.5        ANONYMOUS.SOFTWARE
       Hines                       152.129.1.110      ANONYMOUS.SOFTWARE
       Salt Lake City              152.131.2.1        ANONYMOUS.SOFTWARE
 
 
         14. Please do not do this until specifically requested to do so.
             After the patch installation and set up has been completed,
             the data for your site will be validated by the EPI program
             office.  At this time you will be asked to add 
             XXX@Q-EPI.DOMAIN.EXT to the MEMBERS - REMOTE field (#12) of the
             MAIL GROUP file (#3.8) for the EPI mail group.
 
     VA FileMan 22.0
  
  
     Select OPTION: 1  ENTER OR EDIT FILE ENTRIES
  
  
  
     INPUT TO WHAT FILE: MAIL GROUP// 
     EDIT WHICH FIELD: ALL// MEMBERS - REMOTE    (multiple)
        EDIT WHICH MEMBERS - REMOTE SUB-FIELD: ALL// 
     THEN EDIT FIELD: 
  
  
     Select MAIL GROUP NAME: EPI
          1   EPI  
          2   EPI-REPORT  
     CHOOSE 1-2: 1  EPI
     Select REMOTE MEMBER: S.HL V16 SERVER@DEV// XXX@Q-EPI.DOMAIN.EXT
       Are you adding 'XXX@Q-EPI.DOMAIN.EXT' as a new REMOTE MEMBER (the
     2ND for this MAIL GROUP)? No// Y
       (Yes)
     Select REMOTE MEMBER: 
  
  
     Select MAIL GROUP NAME: 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;256 SEQ #200</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-11-06 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a patch for VISTA Laboratory Software, version 5.2.
A detailed description of this patch is included in the patch
distribution message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;264 SEQ #201</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-11-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 VISTA BLOOD BANK SOFTWARE V5.2 DEVICE PRODUCT LABELING STATEMENT
=============================
  
 June 10, 1999 
  
 VISTA Laboratory Package patch LR*5.2*264 contains no changes to software
 controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.  
  
 All changes have been reviewed by the VISTA Blood Bank Developer and
 found to have no impact on the VISTA BLOOD BANK SOFTWARE control
 functions.  
  
 RISK ANALYSIS: Changes made by patch LR*5.2*264 have no effect on Blood
 Bank software functionality, therefore RISK is none.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*264 does not
 alter or modify any software design safeguards or safety critical element
 functions. 
  
 POTENTIAL IMPACT ON SITES: This patch contains no changes to files and 
 routines identified in Veterans Health Administration (VHA) Directive
 99-053. The changes that are made have no effect to Blood Bank
 functionality or medical device control functions. There is no adverse
 potential to sites.
 
 VALIDATION REQUIREMENTS BY OPTION: There are no required validation
 scenarios to be completed by sites after installing this patch.
 
Patch Description:
===========================
 
1) There is a unique set of circumstances that will cause the PCE workload
update background software program (LRCAPPH1) to produce a software error.
The error situation is created when an orderable test has no accession
area assigned and is ordered from an outpatient location.  
   When the laboratory accessions the specimen, the appropriate accession
area is selected. The selected accession area is not updated in the LAB
ORDER ENTRY file (#69).  PCE workload data has been credited for that
order/accession.  The test is then subsequently Not Performed(NP) and PCE
workload has already been credited, the PCE workload update background
software will error for a lack of accession area definition in the LAB
ORDER ENTRY file.  This patch will correct this situation by using the
default DSS Location value instead of attempting to determine the specific
accession area used to accession the test.  This error is only manifested
under these sequence of events.  If the order/accession is NP before PCE
workload is credited, no error will occur.
 
The software will remove PCE encounters that do not have CPT workload
because all of the CPT Codes for the order have been Not Performed (NP).
Order Status screen will display the encounter number with appended text
to explain CPT workload transactions.
 
Example:  XXX indicates the encounter number.
   -CPT CANC indicates at least one of the CPT workload credits have been
removed.
-ENC DEL indicates that all CPT workload has been removed and the
encounter has been deleted.
 
Visit Number(s): XXX-CPT CANC-ENC DEL;
 
2) The option Results entry (batch) [LRMISTUF] allows for three methods of
input batch data. Patch LR*5.2*263 disabled the third option of 'Just
Prompt'. Patch LR*5.2*264 restores this functionality.
 
3) The option Workload Report [LRCAPR1] allows for the reporting of
quality control in the report. If the QC specimens are accessioned
automatically by the nightly background job, there is no ward location
defined. The report would not report any of these specimens on the report.
The routine LRCAPR2 corrects this problem.
 
4) In certain situations, Laboratory was passing to the PCE API incorrect
date/time, which resulted in corrupted date/time fields in PCE. This patch
corrects this problem. Laboratory will no longer pass time that includes
seconds to the PCE API. This will reduce the number of visit numbers
generated per order.
 
NOTE: Scheduling patch SD*5.3*227 will provide the functionality to
correct previous PCE data containing the erroneous date/time values.
  
  Related NOIS:  CON-0600-12803   SDC-0700-62722   HVH-0700-11960
                 WRJ-0600-12784   SDC-0700-62542   SAG-0700-41748
                 NIN-0800-41201   ATG-0700-32318   BUT-0700-21675
                 BHS-0800-11092   ATG-0700-32273   NOP-0700-10942
                 STL-0800-40946   FAV-0700-72129   ALB-0700-50782
                 MAN-0800-10125   REN-0700-62117   FRE-0700-60219
                 IND-0600-42277   HAM-0900-22088   BHS-0900-12254
                 SAJ-1000-71270   SDC-1000-60114   LEX-1000-40050
                 FTL-1000-50009   MAD-0900-42468   PHO-0900-62454
                 MEM-0900-72282   BHS-0900-12254   HAM-0900-71979
                 SHR-0900-71979   MIN-0900-41468   WIN-0900-40871
                 LEB-0900-20354   DAY-0900-40304   NJH-0900-20290
                 JAC-0900-70076   IOW-0800-42214   FGH-0800-31826
                 SJA-0800-31826
 
 
 
  Test site(s):  LONG BEACH,CA
                 CONNECTICUT HCS
                 WHITE RIVER JUNCTION, VT
                 SAINT LOUIS, MO
                 ALBUQUERQUE, NM
                 MUSKOGEE, OK
 
 ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                             CHECK^XTSUMBLD results
  Routine name     Before Patch  After Patch    Patch List
  ============     ============  ===========    ==========
  
   LR264              NONE        2442347          264
   LRCAPPH          11522455     11647574   1,19,127,136,138,153
                                                158,263,264
   LRCAPPH1          7745000      11010117   127,136,138,158,263,264
   LRCAPPNP          1653480       2930814        263,264
   LRCAPR2           8701428       8898011      88,105,263,264
   LRMISTF1         14019130      13608455     121,128,202,263,264
 
         Installation Instructions:
         ==========================
 
 
All users may remain on the system. However Laboratory Users should be
idle during installation.
 
No laboratory background jobs need to be stopped. No options need to be
placed out of service.
 
Installation time of this patch is less than 5 minutes.
 
 
         1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan
            menu. This option will load the KIDS package in this 
            message onto your system.
         2. The patch has now been loaded into a Transport global 
            on your system. You now need to use KIDS to install 
            the Transport global.
            On the KIDS menu, under the 'Installation' menu, use 
            the following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         3. Users may remain on the system, but installation 
            should be done at off peak hours.
         4. No options need to be placed out of service.
         5. Installation time is less than 5 minutes during off 
            peak hours and less than 15 minutes during peak hours.
         6. Installation of this patch requires no additional 
            memory space.
         7. From the 'Installation Menu' of the KIDS menu, run the 
            option
            'Install Package(s)' Select the package 'LR*5.2*264' 
            and proceed with the install.
         8. When prompted 'Want KIDS to INHIBIT LOGONS during the
            install? YES//' respond NO.
         9. When prompted 'Want to DISABLE scheduled Options, Menu
            Options, and Protocols? YES//' respond NO.
 
After the install has been completed. All users can now resume normal
activities.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;265 SEQ #202</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-01-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA BLOOD BANK SOFTWARE V5.2 DEVICE PRODUCT LABELING STATEMENT
=============================
  
 June 10, 1999 
  
 VISTA Laboratory Package patch LR*5.2*265 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.  
  
 All changes have been reviewed by the VISTA Blood Bank Developer and
found to have no impact on the VISTA BLOOD BANK SOFTWARE control
functions.  
  
 RISK ANALYSIS: Changes made by patch LR*5.2*265 have no effect on Blood
Bank software functionality, therefore RISK is none.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*265 does not
alter or modify any software design safeguards or safety critical element
functions. 
  
 POTENTIAL IMPACT ON SITES: This patch contains no changes to files and
routines identified in Veterans Health Administration (VHA) Directive
99-053. The changes that are made have no effect to Blood Bank
functionality or medical device control functions. There is no adverse
potential to sites.
 
 VALIDATION REQUIREMENTS BY OPTION: There are no required validation
scenarios to be completed by sites after installing this patch.
 
 This patch is informational only. The routines referenced in this patch
are distributed and installed with OERR V3.0 patch OR*3*97.
 
    DESCRIPTION
 
 This project consists of five patches that bring all HL/7 date
conversions, both to and from VA FileMan format, into compliance with the
current HL/7 standard.  The previous standard for HL/7 dates (V2.2) listed
the date in YYYYMMDDHHMMSS format.  The degree of precision was listed as
a separate parameter.  The new standard format (V2.3) is
[YYYY[MM[DD[HH[MM[SS]]]]]-zzzz] where the bracketed sections are optional
depending on the existence of the subsequent set. Also, if either the
seconds or the minutes/seconds combination consist only of zeroes, the
minutes (if zeroes) and seconds will be omitted.  The length of the
date/time string specifies the degree of precision.  In addition, a ZULU
time offset (-zzzz)is also included.  This is the number of hours between
Greenwich Mean Time and the local time where the date/time string was
created.
 
These patches are combined into a single build for ease of
 installation at VHA facilities: OR_3_97.KID
 
 
The build is available at the following locations:
 
       OI Field Office            FTP Address        Directory
       ================================================================
       Albany                     152.127.1.5        ANONYMOUS.SOFTWARE
       Hines                      152.129.1.110      ANONYMOUS.SOFTWARE
       Salt Lake City             152.131.2.1        ANONYMOUS.SOFTWARE
 
The NOIS calls addressed are:
        Refer to OR*3*97
 
  Requesting Site: Central Office, Washington, DC
 
  
     Test Site(s): 
        Refer to OR*3*97
 
   Reference NOIS: 
        Refer to OR*3*97
 
ROUTINE SUMMARY
 ===============
  The following Laboratory package routines are distributed and installed
with CPRS patch OR*3*97.
 
  The second line of each routine now looks like:
  
 &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;;Sep 27, 1994
  
         CHECK^XTSUMBLD Results
  
 Routine Name    Before Patch     After Patch   Patch List
 ------------    ------------     -----------   ----------
  
LR7OU0             7183809         6871123      121,187,265
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;265</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-01-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA BLOOD BANK SOFTWARE V5.2 DEVICE PRODUCT LABELING STATEMENT
=============================
  
 June 10, 1999 
  
 VISTA Laboratory Package patch LR*5.2*265 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.  
  
 All changes have been reviewed by the VISTA Blood Bank Developer and
found to have no impact on the VISTA BLOOD BANK SOFTWARE control
functions.  
  
 RISK ANALYSIS: Changes made by patch LR*5.2*265 have no effect on Blood
Bank software functionality, therefore RISK is none.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*265 does not
alter or modify any software design safeguards or safety critical element
functions. 
  
 POTENTIAL IMPACT ON SITES: This patch contains no changes to files and
routines identified in Veterans Health Administration (VHA) Directive
99-053. The changes that are made have no effect to Blood Bank
functionality or medical device control functions. There is no adverse
potential to sites.
 
 VALIDATION REQUIREMENTS BY OPTION: There are no required validation
scenarios to be completed by sites after installing this patch.
 
 This patch is informational only. The routines referenced in this patch
are distributed and installed with OERR V3.0 patch OR*3*97.
 
    DESCRIPTION
 
 This project consists of five patches that bring all HL/7 date
conversions, both to and from VA FileMan format, into compliance with the
current HL/7 standard.  The previous standard for HL/7 dates (V2.2) listed
the date in YYYYMMDDHHMMSS format.  The degree of precision was listed as
a separate parameter.  The new standard format (V2.3) is
[YYYY[MM[DD[HH[MM[SS]]]]]-zzzz] where the bracketed sections are optional
depending on the existence of the subsequent set. Also, if either the
seconds or the minutes/seconds combination consist only of zeroes, the
minutes (if zeroes) and seconds will be omitted.  The length of the
date/time string specifies the degree of precision.  In addition, a ZULU
time offset (-zzzz)is also included.  This is the number of hours between
Greenwich Mean Time and the local time where the date/time string was
created.
 
These patches are combined into a single build for ease of
 installation at VHA facilities: OR_3_97.KID
 
 
The build is available at the following locations:
 
       OI Field Office            FTP Address        Directory
       ================================================================
       Albany                     152.127.1.5        ANONYMOUS.SOFTWARE
       Hines                      152.129.1.110      ANONYMOUS.SOFTWARE
       Salt Lake City             152.131.2.1        ANONYMOUS.SOFTWARE
 
The NOIS calls addressed are:
        Refer to OR*3*97
 
  Requesting Site: Central Office, Washington, DC
 
  
     Test Site(s): 
        Refer to OR*3*97
 
   Reference NOIS: 
        Refer to OR*3*97
 
ROUTINE SUMMARY
 ===============
  The following Laboratory package routines are distributed and installed
with CPRS patch OR*3*97.
 
  The second line of each routine now looks like:
  
 &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;;Sep 27, 1994
  
         CHECK^XTSUMBLD Results
  
 Routine Name    Before Patch     After Patch   Patch List
 ------------    ------------     -----------   ----------
  
LR7OU0             7183809         6871123      121,187,265
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;261 SEQ #203</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-01-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
LR*5.2*261
Job hangs in LRWLST1
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;266</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-01-22 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patches LA*5.2*58 and
LR*5.2*266 do not contain any changes to the VISTA BLOOD BANK Software as
defined by VHA DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION
5.2.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patches LA*5.2*58 and
LR*5.2*266 do not alter or modify any software design safeguards or safety
critical elements functions.
 
 RISK ANALYSIS: Changes made by patches LA*5.2*58 and LR*5.2*266 have no
effect on Blood Bank software functionality, therefore RISK is none.
 
**NOTE**
 
Patches LA*5.2*58 and LR*5.2*266 are being released in a single
distribution.  Because of this, patch descriptions for LA*5.2*58 and
LR*5.2*266 are identical and contain routine summaries for both sets of
routines.
 
**NOTE**
 
The laboratory routines LRVER3A and LRMIUT are being modified by this
patch.  These routines may have been locally modified at the sites.  The
sites must ensure that precautions are taken to prevent loss of local
modifications when patches to Laboratory are installed.
 
**NOTE**
 
When initially setting up the FOREIGN INTERFACE file (#62.487), the
FOREIGN COMPUTER INTERFACE NAME field (#.01) should ALWAYS be set to
"CAREVUE" (all caps, no leading or trailing spaces, and no quotes).  The
routines that access this file are looking specifically for CAREVUE.  The
routines will not be able to process the results for CareVue ward patients
if this is not done.
 
This patch contains changes to Class I CareVue code and requires that
patch LA*5.2*53 and LR*5.2*263 be installed before LA*5.2*58.  Patches
LA*5.2*58 and LR*5.2*266 are contained in the same KID file
(LA_52_P58.KID) and will be installed together.
 
This patch includes the following changes:
 
1.  This patch updates the documentation released with the CareVue
Interface patch (LA*5.2*53).
 
2.  This patch makes changes to the routines LRVER3A and LRMIUT, and will
create a new routine (LA7DLOC).  Currently, two routines (LRVER3A and
LRMIUT) contain the Class I software for the CareVue interface. This patch
will modify these routines to call the new routine (LA7DLOC).  LA7DLOC
contains the Class I code for determining if a patient is located in a
CareVue ward.  The current condition of the Class I code checks the CHEM,
HEM, TOX, RIA, SER, etc. field (#4) and the Microbiology field (#5) of the
Lab Data file (#63), but the updated routines will call LA7DLOC and will
look in the Ward Location field (#.1) of the Patient file (#2).  This
shows the current location of the patient.  There were problems with
patients that were not transferred to the CareVue ward until after the lab
order was taken. The old routine was checking where the patient was
located when the order was taken, and not the current location of the
patient.
 
3.  Updates to the HL/7 date conversion routines. The previous standard
for HL/7 dates listed the date in YYYYMMDDHHMMSS format.  The degree of
precision was listed as a separate parameter.  The new standard format is
[YYYY[MM[DD[HH[MM[SS]]]]]-zzzz] where the bracketed sections are optional
depending on the existence of the subsequent set. Also, if either the
seconds or the minutes/seconds combination consist only of zeroes, the
minutes (if zeroes) and seconds will be omitted.  The length of the
date/time string specifies the degree of precision. In addition, a ZULU
time offset (-zzzz) is also included.  This is the number of hours between
Greenwich Mean Time and the local time where the date/time string was
created.  Routines LA7DVM and LA7DVEXT have been modified to use the
Kernel function ($$FMTHL7^XLFDT) to convert dates from FileMan to HL7
instead of the HL/7 date conversion utility ($$HDATE^HLFNC).
 
4.  This patch will use TaskMan to transfer data to the CareVue system.
Currently, TaskMan is not invoked. This could cause a problem verifying a
result if an error was encountered in the CareVue routines.
 
5.  This patch changes the LA7D EDIT FOREIGN INTERFACE (Edit Foreign
Interface Parameters) option.  It is now easier to add a Ward to a Foreign
Computer System Name.
 
6.  This patch updates the Processing RTN field (#771) and the Response
Processing RTN field (#772) of the Protocol file (#101) for the LA7D
CARELIFE RESULTS and LA7D CARELIFE SERVER entries. The letter "Q" will be
entered by the post-init routine LR266 if no entry exists.
 
NOIS - MIA-0600-30434
   Reported an error, MISSING PROCESSING ROUTINE, when sending the HL7
   message from VistA to CareVue.  The letter "Q" will be entered by
   the post-init routine LR266 if no entry exists.
NOIS - MWV-0900-21094
   Reported that all CareVue ward patients tests were not being sent to
   the CareVue system.  It was discovered that these patients were ones
   who were transferred from a non-CareVue ward to a CareVue ward after
   the tests were ordered. The patient was bypassed since the location
   at time of order was not a CareVue ward.  This patch will correct
   this by looking at the Ward Location field (#.1) in the Patient file
   (#2) for the current location of the patient.
 
Associated NOIS
===============
MIA-0600-30434
MWV-0900-21094
 
Test Sites
==========
Martinsburg, West Virginia
 
 
ROUTINE SUMMARY
=================
The following is a list of routines included in patch LA*5.2*58. The
second line of each routine now looks like:
 
&lt;tab&gt;;;5.2;AUTOMATED LAB INSTRUMENTS;**[patch list]**;Sep 27, 1994
 
                 CHECK^XTSUMBLD Results
  Routine Name    Before Patch      After Patch    Patch List
  ------------    ------------      -----------    ------------
  LA7DEDT            3765930          5836716      53,58
  LA7DLOC             NEW              553499      58
  LA7DVM             6983644          6949969      53,58
 
 
The following is a list of routines included in patch LR*5.2*266. The
second line of each routine now looks like:
 
&lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
                 CHECK^XTSUMBLD Results
  Routine Name    Before Patch      After Patch    Patch List
  ------------    ------------      -----------    ------------
  LR266               NEW             1529899      266
  LRMIUT             3673249          3951633      254,266
  LRVER3A           10780812         10508599      1,5,42,100,121
                                                   153,190,221,254,
                                                   263,266
 
 
The documentation and distribution files for patches LA*5.2*58 and
LR*5.2*266 may be obtained using FTP from the appropriate National VistA
Support directory:
 
    OI FIELD OFFICE       FTP ADDRESS             DIRECTORY
    ===============       ===========             ==========
     HINES               152.129.1.110      [ANONYMOUS.SOFTWARE]
     SALT LAKE CITY      152.131.2.1        [ANONYMOUS.SOFTWARE]
     ALBANY              152.127.1.5        [ANONYMOUS.SOFTWARE]
 
File names are:
 
 ASCII FILE
  LA_52_P58.KID     -  KIDS distribution for LA*5.2*58 and LR*5.2*266
 
 BINARY FILE
  LA7DIG.PDF        -  CareVue Installation Guide
 
INSTALLATION INSTRUCTIONS
=========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
     1. Review your mapped set.  If any of the routines listed in
        patches LA*5.2*58 or LR*5.2*266 are mapped, they should be
        removed from the mapped set at this time.
 
     2. From the Kernel Installation &amp; Distribution System menu (XPD
        MAIN), select the Installation menu option, then the option,
        Load a Distribution. Enter your directory name and
        LA_52_P58.KID at the Host File prompt.
 
     3. The patch has now been loaded into a Transport global on
        your system. You now need to use KIDS to install the 
        Transport global.
 
        On the KIDS menu, under the 'Installation' menu, use the 
        following options:
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Backup a Transport Global
 
     4. It is recommended that this release be installed during off
        peak hours.  To prevent a possible problem with the tasking
        of the next days laboratory orders, do not install this package
        at the same time as the following nightly tasked jobs:
 
              LRTASK ROLLOVER
              LRTASK NIGHTLY
              LRTASK CONJAM
              LRTASK CUM
 
     5. No options need to be placed out of service.
 
     6. Installation time is less than 2 minutes during off peak 
        hours and less than 5 minutes during peak hours
 
     7. From the 'Installation Menu' of the KIDS menu, run the 
        option 'Install Package(s)' Select the package 'LA*5.2*58'
        and proceed with the install. When prompted 'Want to 
        DISABLE Scheduled Options, Menu Options, and Protocols? 
        YES//', choose 'NO'.
 
     8. This patch updates the Processing RTN field (#771) and the
        Response Processing RTN field (#772) of the Protocol file
        (#101) for the LA7D CARELIFE RESULTS and LA7D CARELIFE SERVER
        entries. The letter "Q" will be entered by the post-init
        routine LR266 if no entry exists.  The LR266 routine will
        automatically be deleted after the patch is installed.
 
     9. If any routines were unmapped as part of step 2, they 
        should be returned to the mapped set once the installation 
        has run to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;248 SEQ #205</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-02-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Subject: RESOLVE ANATOMIC PATHOLOGY LOGIN/REPORT PROBLEMS

Category:  ROUTINE
           DATA DICTIONARY
           ENHANCEMENT

Description:
===========
 
This patch is to resolve a number of Anatomic Pathology problems related to
log-in and reporting.
 
******************************************************************************
Patch LR*5.2*248 VISTA BLOOD BANK SOFTWARE  
DEVICE PRODUCT LABELING STATEMENT
 
August 23, 2000
 
VISTA Laboratory Package patch LR*5.2*248 contains changes to software 
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.  
 
The changes have been reviewed by the VISTA Blood Bank Developer and found to
have no impact on the VISTA BLOOD BANK SOFTWARE control functions.
 
PROBLEM:   
# 1.  Changes have been made to routines LRU and LRUPA to eliminate 
      unnecessary form feeds seen in some Anatomic Pathology reports.
      Blood Bank reports are unaffected.  
 
# 2.  Changes have been made to routine LRUPT to include the Autopsy
      accessions number on the report produced by the Show list 
      of accessions for a patient [LRUPT] option.  Changes have also been 
      made to this routine to fix a problem that occurs when an accession
      is collected in one year but tests are performed in the next year. 
      In this case, some of these tests are omitted from the report created
      by the Show list of accessions for a patient [LRUPT] option.  The
      option now displays the previously omitted tests.
 
RISK ANALYSIS:  Changes made by patch LR*5.2*248 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*248 does not 
alter or modify any software design safeguards or safety critical elements 
functions.
 
POTENTIAL IMPACT ON SITES:  This patch contains changes to a file 
identified in Veterans Health Administration (VHA) Directive 99-053, group 
B listing. The changes have no effect in Blood Bank functionality or 
medical device control functions. There is no adverse potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION:  There are no required validation 
scenarios to be completed by sites after installing this patch.
******************************************************************************
 
Documentation Retrieval
=======================
 
The VISTA Laboratory Anatomic Pathology User Manual V. 5.2 released in 
October 1994, has been revised to include an Appendix B section and is 
distributed with the release of this patch. Appendix B consists of file 
changes, newly created fields, option modifications, and examples of 
reformatted reports.
 
The revised AP User Manual is available in the Portable Document Format 
(PDF) file (i.e., LR5_2APUM.PDF) at the following Office of Information 
Field Office (OIFO) ANONYMOUS.SOFTWARE account directories and VA Intranet 
web site location:
 
All sites are encouraged to use their FTP capability to obtain the PDF file.
 
Anonymous Software Accounts:
 
       IRM FIELD OFFICE     FTP ADDRESS        DIRECTORY
       ================     ===========        =========
       ALBANY               152.127.1.5        [ANONYMOUS.SOFTWARE]
       HINES                152.129.1.110      [ANONYMOUS.SOFTWARE]
       SALT LAKE            152.131.2.1        [ANONYMOUS.SOFTWARE]
  
The following options have been modified with the release of this patch:
 
        Supplementary Report, Anat Path [LRAPDSR]
        Autopsy supplementary report [LRAPAUSR]
        Accession list by date [LRUPAD]
        Show List of Accessions for a Patient [LRUPT]
        Modify anat path gross/micro/dx/frozen section [LRAPM]
        Lab orders by collection type [LRRP5] 
        Verify/Release Reports, Anat Path [LRAPR]
        Enter old anat path records [LRAPOLD]
        Log-in, anat path [LRAPLG]
        Autopsy Protocol and SNOMED Coding [LRAPAUDAB]
        Autopsy Protocol/Supplementary Report [LRAPAUPT]
        Print path gross/micr/dx/fr.sect modifications [LRAPQAM]
        Print path modifications [LRAPMOD]
        Print final path reports by accession # [LRAPFICH]
        Print all reports on queue [LRAP PRINT ALL ON QUEUE]
        Print single report only [LRAP PRINT SINGLE]
        Clinical Hx/Gross Description/FS [LRAPDGD]
        FS/Gross/Micro/Dx [LRAPDGM]
        FS/Gross/Micro/Dx/SNOMED Coding [LRAPDGS]
        FS/Gross/Micro/Dx/ICD9CM Coding [LRAPDGI]
        Spec Studies-EM;Immuno;Consult;Pic, Anat Path [LRAPDSS]
        Provisional anatomic diagnoses [LRAPAUPAD]
        Autopsy protocol [LRAPAUDAP]
        Autopsy protocol &amp; ICD9CM coding [LRAPAUDAA]
        Final autopsy diagnoses date [LRAPAUFAD]
        Special studies, autopsy [LRAPAUDAS]
        SNOMED coding, anat path [LRAPX]
        ICD9CM coding, anat path [LRAPICD]
        Supplementary report release, anat path [LRAPRS]
 
Patch LR*5.2*248 adds the following new fields:
 
LAB DATA file (#63)
 AUTOPSY SUPPLEMENTARY REPORT (field #32.4, sub-file 63.324)
  SUPPLEMENTARY REPORT MODIFIED multiple (field #2, sub-file 63.3242) (New)
   SUPPLEMENTARY REPORT MODIFIED (field #.01)                         (New)
   PERSON MODIFYING TEXT (field #.02)                                 (New)
   PREMODIFICATION TEXT (field #1, sub-file 63.32421)                 (New)
 
 SURGICAL PATHOLOGY(field #8, sub-file 63.08)
  SUPPLEMENTARY REPORT (field #1.2, sub-file 63.817)
   SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.8172)         (New)
    SUPPLEMENTARY REPORT MODIFIED (field #.01)                        (New)
    PERSON MODIFYING TEXT (field #.02)                                (New)
    PREMODIFICATION TEXT (field #1, sub-file 63.81721)                (New)
 
 EM (Electron Microscopy)(field #2, sub-file 63.02)
  SUPPLEMENTARY REPORT (field #1.2, sub-file 63.207)
   SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.2072)         (New)
    SUPPLEMENTARY REPORT MODIFIED (field #.01)                        (New)
    PERSON MODIFYING TEXT (field #.02)                                (New)
    PREMODIFICATION TEXT (field #1, sub-file 63.20721)                (New)
 
 CYTOPATHOLOGY (field #9, sub-file 63.09)
  SUPPLEMENTARY REPORT (field #1.2, sub-file 63.907)
   SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.9072)         (New)
    SUPPLEMENTARY REPORT MODIFIED (field #.01)                        (New)
    PERSON MODIFYING TEXT (field #.02)                                (New)
    PREMODIFICATION TEXT (field #1, sub-file 63.90721)                (New)
  
The Anatomic Pathology problems addressed by this patch are as follows:
  
A.  ANATOMIC PATHOLOGY LOGIN/DATA ENTRY
 
1.  SYSTEM HANGS DURING LOG-IN, ANAT PATH [LRAPLG] OPTION
 
When two or more users are trying to login in patients using the Log-in, anat
path [LRAPLG] option the system hangs after the patient location is entered
because the record in the ACCESSION file (#68) is locked.  The solution is to
put a five second time out on the lock with the message "Someone else is
logging in specimens.  Please wait and try again."  For example:
 
Select Patient Name: DOE,JOHN  01-01-69     511111211     YES
 
PATIENT LOCATION: BON-DOM CLINIC//
 
Someone else is logging in specimens.  Please wait and try again.
 
NOIS:  MUS-0395-70386, SHR-0595-70238
 
2. CONTINUOUS LOOP OCCURS IN LOG-IN, ANAT PATH [LRAPLG] OPTION
 
If a user is entering data using the option Log-in, anat path [LRAPLG] and the
user does not have the LRLAB, LRSUPER, LRVERIFY, or LRLIASON security keys,
the patient location prompt does not appear.  If the patient is a new patient
with no data in the LAB DATA file (#63), the code tries to file '???' as the
patient location. The Fileman DIE call does not accept '???' for patient
location so it attempts to retrieve the patient location again.  The result is
an endless loop which prints "This is the requesting location."  For example:
 
Assign SURGICAL PATHOLOGY accession #:  2 ? YES//   (YES)
Date/time Specimen taken: TODAY//   (DEC 11, 1995)
     This is the requesting location.
     This is the requesting location.
     This is the requesting location.
 
The fix to the problem is to replace the '???' with 'UNKNOWN' which is
accepted by Fileman.  NOIS:  DUB-0895-32241, LEB-0899-22335, SAM-0499-22281,
WRJ-0298-11480, SAM-0598-20421
 
3.  ERROR OCCURS WHEN USING ENTER OLD ANAT PATH RECORDS [LRAPOLD] OPTION
 
When using the Enter old anat path records [LRAPOLD] option, the variable LRA
is not defined causing an undefined variable error while attempting to send
female patient data to Women's Health.  For example:
 
Enter Accession number: 377
DATE REPORT COMPLETED: Mar 06, 1984//   (MAR 06, 1984)
PATHOLOGIST: LAB STAFF  LAB STAFF       LS     --              
 
RECORDING THAT AN ERROR OCCURRED ---
 
               Sorry 'bout that
 
          $STACK=8  $ECODE=,M6,
          $ZERROR=ADD+6^LRWOMEN:1, %DSM-E-UNDEF, undefined variable LRA,
-DSM-I-ECODE, MUMPS error code: M6
 
To correct this error, the code now checks the LRA variable before 
proceeding.  NOIS:  OKL-0799-72578, FAV-0999-71182, AUG-1299-32707,
ANN-0200-42620, WRJ-0500-10974.
 
4.  ACCESSION NUMBER/PATIENT NAME PROMPT DOES NOT FUNCTION PROPERLY
 
A number of Anatomic Pathology data entry options use a common prompt to 
request accession lookup by number or patient name.  The prompt is:
 
          Select Accession Number/Pt name:
 
The options are:
 
          Clinical Hx/Gross Description/FS [LRAPDGD]
          FS/Gross/Micro/Dx [LRAPDGM]
          FS/Gross/Micro/Dx/SNOMED Coding [LRAPDGS]
          FS/Gross/Micro/Dx/ICD9CM Coding [LRAPDGI]
          Supplementary Report, Anat Path [LRAPDSR]
          Spec Studies-EM;Immuno;Consult;Pic, Anat Path [LRAPDSS]
          Provisional anatomic diagnoses [LRAPAUPAD]
          Autopsy protocol [LRAPAUDAP]
          Autopsy protocol &amp; SNOMED coding [LRAPAUDAB]
          Autopsy protocol &amp; ICD9CM coding [LRAPAUDAA]
          Final autopsy diagnoses date [LRAPAUFAD]
          Autopsy supplementary report [LRAPAUSR]
          Special studies, autopsy [LRAPAUDAS]
          SNOMED coding, anat path [LRAPX]
          ICD9CM coding, anat path [LRAPICD]
          Modify anat path gross/micro/dx/frozen section [LRAPM]
          Verify/release reports, anat path [LRAPR]
          Supplementary report release, anat path [LRAPRS]
 
When an accession number is entered at this prompt, data is retrieved 
properly.  However, when a patient name is entered another patient name
prompt appears requiring the user to re-enter the patient name.  A
different name can even be used at the second prompt.  For example:
 
Select Accession Number/Pt name: JONES
  
Select Patient Name: SMITH
 
A second problem also occurs at this prompt.  In most data entry options, the
data entry year prompt appears just before the accession number/patient name
prompt. For example:
 
Data entry for 2000 ? YES//   (YES)
 
Select Accession Number/Pt name: 1  for 2000
 
If the accession number is used for lookup, only accessions for the year 
chosen are allowed to be entered.  However, if patient name is used for 
lookup, all accessions found for the patient are presented to the user.  If 
the user chooses an accession for a year that is not the same as the year 
entered at the original prompt, it is possible that accession data for the 
wrong patient is presented to the user.  This occurs because the lookup 
uses the year entered at the original prompt, not the actual year of the
accession when locating the data in the ACCESSION file (#68). 
 
These problems have been resolved by modifying the prompt to perform lookup 
for both accession number and patient name, eliminating the second prompt.
The prompt has also been modified to present only accessions for the chosen
year when looking up the accession by patient name.  Help text has been added
to the prompt as well.  NOIS: HAM-1199-22006, HAM-1100-21233, BOI-0400-52235
 
B.  ANATOMIC PATHOLOGY REPORTS
 
1.  UNNECESSARY FORM FEEDS OCCUR WHILE PRINTING ANATOMIC PATHOLOGY REPORTS
 
Several Anatomic Pathology reports are violating the DHCP Programming
Standards and Conventions (SAC) by starting with a forum feed before printing
the report and printing two form feeds at the end of the report.  These 
reports, the Surgical Pathology, Cytopathology and Electron Microscopy
Preliminary, Final and Supplementary Reports, the Autopsy Protocol and
Supplementary reports, and the Final Pathology Report by Accession Number have
been corrected by removing the unnecessary form feeds so that the reports now
conform to standards.  The related options for these reports are:
 
     Print all reports on queue [LRAP PRINT ALL ON QUEUE]
     Print single report only [LRAP PRINT SINGLE]
     Print final path reports by accession # [LRAPFICH]
     Autopsy protocol/supplementary report [LRAPAUPT]
     Print path modifications [LRAPMOD]
     Print path gross/micr/dx/fr.sect modifications [LRAPQAM]
 
NOIS:  WPB-0696-30073, IND-1097-41646
 
2.  NOT ABLE TO DISTINGUISH BETWEEN THE PATIENT AND THE PHYSICIAN
    ON THE FOOTER OF THE AUTOPSY PROTOCOL REPORT.
 
The autopsy protocol report is generated by the Print all reports on queue
[LRAP PRINT ALL ON QUEUE], Print single report only [LRAP PRINT SINGLE], and
Autopsy protocol/supplementary report [LRAPAUPT] options.  The footer of the
autopsy protocol report has been modified to distinguish the patient's name
from the physician's name because it is easy for those reading the report to
confuse the two names.  Labels "Patient:" and "Physician:" were added in front
of the names so that they are now easy to identify.  The spacing of the other
fields has been adjusted to allow for better readability.  For example:
 
Pathologist:  DOE,JOHN                                  wty| Date Nov 24, 1999|
------------------------------------------------------------------------------
Dallas CIOFO                                                  AUTOPSY PROTOCOL
Patient: SMITH,JOHN                       567-44-5533  SEX:M  DOB:Sep 09, 1979
MEDICINE               Physician:  DOE,JANE                   AGE AT DEATH:
 
Also, the field spacing of the header for the weights, measures, and coding
section of the report has been redesigned for better readability.  For 
example:
  
Jan 10, 2000 11:08    Dallas CIOFO                                    Pg: 9
ANATOMIC PATHOLOGY
------------------------------------------------------------------------------
SMITH,JOHN                      567-44-5533         DOB:Sep 09, 1979
Acc #: AU 99 2                  AUTOPSY DATA        Age:
Date/time Died                                      Date/time of Autopsy
May 07, 1999                    FULL AUTOPSY        Oct 14, 1999 17:19
 
NOIS: None
 
3.  CREATE AN AUDIT TRAIL FOR THE SUPPLEMENTARY ANATOMIC PATHOLOGY REPORTS
 
It is possible to edit a supplementary report with no audit trail after the 
report has been released.  This patch will create an audit trail when a
released supplementary report is edited or when the entire pathology report 
is edited.  The audit trail information such as who modified the report, the
date/time the modification was made, and the original text before the
modification occurred will appear on the supplementary report. New fields have
been created to store this data.  The fields are:
 
a.) SUPPLEMENTARY REPORT MODIFIED
 
When a user modifies an existing report, the date/time of the modification is
stored in this field.  If the user creates a new supplementary report for a 
released pathology report, this audit information is also stored.
 
b.) PERSON MODIFYING TEXT
 
The DUZ of the user who created or modified the report is stored in this
field.
 
c.) PREMODIFICATION TEXT
 
This is the original text, as it existed before the modification occurred.
This is for existing reports only.
 
Since supplementary reports are included in the autopsy, surgical pathology,
electron microscopy, and cytopathology sections, these three fields were 
added for each section in the LAB DATA file (#63) as follows:
 
LAB DATA file (#63)
 
AUTOPSY SUPPLEMENTARY REPORT (field #32.4, sub-file 63.324)
 
New fields:
 
   Multiple field SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.3242)
 
          Consisting of:
 
               SUPPLEMENTARY REPORT MODIFIED (field #.01)
               PERSON MODIFYING TEXT (field #.02)
               PREMODIFICATION TEXT (field #1, sub-file 63.32421)
 
SURGICAL PATHOLOGY(field #8, sub-file 63.08)
   SUPPLEMENTARY REPORT (field #1.2, sub-file 63.817)
 
New fields:
  
   Multiple field SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.8172)
 
          Consisting of:
 
               SUPPLEMENTARY REPORT MODIFIED (field #.01)
               PERSON MODIFYING TEXT (field #.02)
               PREMODIFICATION TEXT (field #1, sub-file 63.81721)
 
EM (Electron Microscopy)(field #2, sub-file 63.02)
   SUPPLEMENTARY REPORT (field #1.2, sub-file 63.207)
 
New fields:
 
   Multiple field SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.2072)
 
          Consisting of:
 
               SUPPLEMENTARY REPORT MODIFIED (field #.01)
               PERSON MODIFYING TEXT (field #.02)
               PREMODIFICATION TEXT (field #1, sub-file 63.20721)
 
CYTOPATHOLOGY (field #9, sub-file 63.09)
   SUPPLEMENTARY REPORT (field #1.2, sub-file 63.907)
 
New fields:
 
   Multiple field SUPPLEMENTARY REPORT MODIFIED (field #2, sub-file 63.9072)
 
          Consisting of:
 
               SUPPLEMENTARY REPORT MODIFIED (field #.01)
               PERSON MODIFYING TEXT (field #.02)
               PREMODIFICATION TEXT (field #1, sub-file 63.90721)
     
Any option that allows the input of supplementary reports has been modified
to store these three pieces of information multiple times for each 
modification to a supplementary report.  This is not visible to the user.  
These options include Supplementary Report, Anat Path [LRAPDSR] and Autopsy
supplementary report [LRAPAUSR].
  
All options that print supplementary report information have been modified 
to display the audit information as well.  These options include:
 
              Print all reports on queue [LRAP PRINT ALL ON QUEUE]
              Print single report only [LRAP PRINT SINGLE]
              Print final path reports by accession # [LRAPFICH]
              Print path modifications [LRAPMOD]
              Autopsy Protocol/Supplementary Report [LRAPAUPT]
              Print path gross/micr/dx/fr.sect modifications [LRAPQAM]
 
This information is displayed for preliminary reports, final reports, autopsy
protocol, and autopsy supplementary reports.
E3R: 3687 NOIS: SAM-0599-21489, DAY-0499-40904, SLC-1199-52531,
SLC-1199-51746
 
4.  THE DUZ OF THE TECHNOLOGIST, RATHER THAN THE INITIALS, APPEARS ON
    THE 'TECH' COLUMN OF THE ACCESSION LIST BY DATE [LRUPAD] OPTION REPORT.
 
The Accession List by Date [LRUPAD] option report is incorrectly displaying a
numeric value that has no meaning to the user in the 'Tech' column.  The
software has been modified to print the initials of the technologist who
verified the report.  For example:
 
Jan 10, 2000 11:20    Dallas CIOFO                                    Pg: 1
CHEMISTRY (Jan 01, 1999-Jan 10, 2000)
# = Not VA patient                                         %=Test not verified
Acc #   Date  Patient             ID    Loc   Spec/sample    Test         Tech
------------------------------------------------------------------------------
    1   01/04 STAHLMAN,ALBERTA    1263  W3E   SERUM          %LYTES         FS
    2   01/04 STAHLMAN,ALBERTA    1263  W3E   SERUM          %CALCIUM       FS
 
NOIS:  ALN-0395-10067
 
5.  A PATHOLOGIST IS ABLE TO ENTER A FUTURE DATE/TIME WHEN USING
    VERIFY/RELEASE REPORTS, ANAT PATH [LRAPR] OPTION TO RELEASE A
    PATHOLOGY REPORT.
 
When using option Verify/release reports, anat path [LRAPR] to release a
pathology report, the pathologist may enter a future date/time at the
'Report Release Date/Time' prompt.  Only current date/time should be
allowed.  The prompt has been replaced with a yes/no question as follows:
 
Release report?  No//
 
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
! PLEASE NOTE:  With the old prompt, the user was able to enter an   !
! 'N' for NOW to store the current date/time.  A response of 'N'     !
! at the new prompt will result in a 'No' which will leave the       !
! report unreleased.                                                 !
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
If  the user answers 'Yes', the current date/time is stored in the REPORT
RELEASE DATE/TIME field (#.11) of the SURGICAL PATHOLOGY sub-file (#63.08),
field (#8) of the LAB DATA file (#63) for the SURGICAL PATHOLOGY section.  
For the CYTOPATHOLOGY section, the current date/time is stored in the REPORT
RELEASE DATE/TIME field (#.11) of the CYTOPATHOLOGY sub-file (#63.09), 
sub-field (#9).  For the ELECTRON MICROSCOPY (EM) section, the current 
date/time is stored in the REPORT RELEASE DATE/TIME field (#.11) of the EM 
sub-file (#63.02),sub-field (#2).  For the AUTOPSY section, the current 
date/time is stored in the AUTOPSY RELEASE DATE/TIME field (#14.7) of the 
LAB DATA file (#63).  If the report has already been released, the following 
text will appear:
 
         Report released JAN 06, 2000@16:47:32 by YOUNG,TIM
 
The user will then be prompted for another accession number or patient 
name.
 
The "@" sign response to unrelease Provisional Anatomical Diagnosis reports
awaiting Final Anatomical Diagnosis has been changed to a YES/NO response 
(i.e.,Unrelease report? NO//YES).  NOIS:  REN-0197-61357
 
6.  WEIGHTS, MEASURES, AND CODING PRINT ON AUTOPSY REPORT REGARDLESS OF
    ANSWER TO YES/NO QUESTION ON AUTOPSY PROTOCOL REPORT.
 
When option Print all reports on queue [LRAP PRINT ALL ON QUEUE] or option
Print single report only [LRAP PRINT SINGLE] is used for the AUTOPSY section
to create the Autopsy Protocol Report, the question 'Print weights, measures
and coding (if present): ? YES// ' is asked.  Regardless of the user's
response to this question (Yes or No), the weights, measures, and coding
information is printed on the report.  The Autopsy Protocol report has been
corrected so that if the user answers 'No' to this question, the weights,
measures, and coding information will not print on the report. 
NOIS: DAY-0595-40195
 
7.  ACCESSION NUMBER WRAPS ON SURGICAL PATHOLOGY REPORTS
 
When using option Print single report only [LRAP PRINT SINGLE] or option 
Print all reports on queue [LRAP PRINT ALL ON QUEUE]to print pathology 
reports, if the accession number is too large, it wraps to the next line 
when the report prints.  This problem was resolved by adjusting the print 
position of the accession number so that no wrapping will occur.
NOIS:  MAR-0398-22377
 
8.  SYNONYMS MAY CAUSE INCORRECT TESTS TO BE DISPLAYED ON THE LAB ORDERS BY 
    COLLECTION TYPE [LRRP5] OPTION REPORT
 
The Lab Orders by Collection Type [LRRP5] report may indicate incorrect
tests as being ordered if a particular test has a SYNONYM (field #2, 
sub-file #60.1) of the LABORATORY TEST file (#60) that is identical to the 
internal entry number (IEN) of the look-up test. For example, suppose 
GLUCOSE has an IEN of 175 in the LABORATORY TEST file (#60) and FERRITIN 
has a SYNONYM (#2) of 175 in file #60.  When the code is executed, the return
value is Ferritin and not Glucose. The fix to this problem is to concatenate
an accent/grave (`)character to the beginning of the lookup value before
performing a lookup with DIC(0). When the accent grave (`) character is 
used, the lookup is limited to the internal entry numbers only and thus
ignoring the SYNONYM (#2).  NOIS:  IND-0797-40657.
 
9.  PROBLEMS WITH SHOW LIST OF ACCESSIONS FOR A PATIENT [LRUPT] OPTION
 
Two different problems were reported with this option.  They are:
 
(A)  When running the Show list of accessions for a patient [LRUPT] option,
'??' displays where the accession should be when using the Autopsy section.
This option will now display the accession number on the report for the
Autopsy section.  NOIS:  AUG-0398-32638
 
(B)  There is also a problem with certain tests not appearing when this option
is run, even though the missing tests do appear on other accession list
reports.  For example:
 
CHEMISTRY           DANGERFIELD,RODNEY ID: 222-33-4444  TESTS ORDERED
Spec Date/time  Acc #           Site/specimen              Tests
01/15/93 10:11  CH 0115 9       SERUM                     1)CALCIUM
12/26/92 11:00  CH 0115 8       SERUM       
11/13/92 16:14  CH 1113 6       SERUM                     1)GLUCOSE
 
Notice that the test is missing on the second line.  It was discovered that 
this occurred on accessions in which the user enters a collection date for
the previous year but the order date is in the current year.  For example:
 
ACCESSION: CH 0115 8     ORDER #: 183   PATIENT: DANGERFIELD,RODNEY
                                                 222-33-4444
  LOCATION:GEN MED                      DATE ORDERED: 01/15/93
                                    **  COLLECTED: 12/26/92 11:00  **
  PRACTITIONER: BABCOCK,LISA            LAB ARRIVAL: 01/15/93 08:23
 
This scenario occurred because routine ^LRUPT was using the wrong year when 
looking for information in the ACCESSION file (#68.)  LRUPT has now been 
corrected to use the correct year.  NOIS:  SYR-0193-10004
 
10.  TYPO IN CODE EXECUTED WITH THE DISPLAY STAINS/BLOCKS FOR A PATIENT 
     [LRAPST] OPTION
   
The carat (^) is missing from the global entry in routine AU^LRAPST1 which
causes an error that no autopsy accession exists for this patient even if one
does exist.  The carat has now been added and the routine will now properly
indicate whether an autopsy accession number exists for the patient.
NOIS: AUG-0398-32638
 
11.  REPORTS NOT QUEUED TO THE COMPLETED REPORT QUEUE
 
A modification to routine LRAPM, released in patch LR*5.2*231, inadvertently
prevents reports generated by the [LRAPM] Modify anat path
gross/micro/dx/frozen section option, from being queued to the completed
reports print queue if the patient is male.  The code has now been corrected.
NOIS:  There is no NOIS associated with this item.
 
12.  ANATOMIC PATHOLOGY REPORTS BECOME UNRELEASED WHEN NO CHANGES ARE MADE 
     USING THE MODIFY ANAT PATH GROSS/MICRO/DX/FROZEN SECTION [LRAPM] OPTION
 
A problem was reported regarding the use of the Modify anat path
gross/micro/dx/frozen section [LRAPM] option to modify the gross description
of a released/verified report.  Even though the user returned through all the
prompts without making changes and the report is tagged as not modified, the
report became "UNRELEASED" making it unavailable for providers to view.  This
error has now been corrected so that if no changes are made to the report, the
release date/time remains in place. NOIS: BHS-0600-12155
 
Reference NOIS list:   LEB-0899-22335
                       DAY-0499-40904
                       SAM-0599-21489
                       MAR-0398-22377
                       IND-1097-41646
                       REN-0197-61357
                       WPB-0696-30073
                       DUB-0895-32241
                       SHR-0595-70238
                       DAY-0595-40195
                       MUS-0395-70386
                       ALN-0395-10067
                       SAM-0598-20421
                       SAM-0499-22281
                       WRJ-0298-11480
                       OKL-0799-72578
                       FAV-0999-71182
                       SLC-1199-52531
                       SLC-1199-51746
                       IND-0797-40657
                       AUG-0398-32638
                       SYR-0193-10004
                       AUG-1299-32707
                       ANN-0200-42620
                       WRJ-0500-10974
                       HAM-1199-22006
                       BHS-0600-12155
                       BOI-0400-52235
                       HAM-1100-21233
                       E3R 3687
 
        Test Site(s):  Salt Lake City, UT
                       Indianapolis, IN
                       Long Beach, CA
                       Boston HCS, MA
 
Routine Summary:
===============
 
  The second line of the routine now looks like:
 
  &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
 
                         Checksum Values
 
  Routine Name           Before Patch    After Patch     Patch List
  ------------           ------------    -----------     ------------------
    LR248                      N/A         3570608                      248
    LRAP                   8960424         6775842                   72,248
    LRAPA                  5518427         5022677                   72,248
    LRAPAUPT                363769          334176                   72,248
    LRAPAUSR              13001981         7330790                1,173,248
    LRAPCUM               13885153        11172316            34,72,173,248
    LRAPD1                12517156        10636533                41,91,248
    LRAPDA                15350791         8740574         72,73,91,121,248
    LRAPDSR                    N/A         3990550                      248
    LRAPF                  2521051         1475553              173,201,248
    LRAPFICH               4228420         3308525               72,173,248
    LRAPLG1                8045741         5113296               72,121,248
    LRAPM                 12219262        10603100        72,91,130,231,248
    LRAPMOD                1323197         1033623                   72,248
    LRAPQAM                1890936         1547830                58,72,248
    LRAPR                 10330077         8948563                   72,248
    LRAPST1                3294764         2795806                   72,248
    LRAPT                  6949633         4005558               72,173,248
    LRAPT2                13264635         7303166                    1,248
    LRAUDA                 2289072         2236387                   72,248
    LRAURPT               15587538         9211437             1,72,173,248
    LRDPA                  9160462         7837880  137,121,153,202,211,248
    LRRP5                  5707864         5885743              121,201,248
    LRSPRPT               14718178        12472946                 1,72,248
    LRSPRPTM               3560888         1356491                    1,248
    LRSPT                  5816607         5396521                 1,72,248
    LRU                   18425779        13660500             1,72,201,248
    LRUPA                  8236266         8345323                   72,248
    LRUPA2                10757832         9659310                   72,248
    LRUPAD                 7596723         7616356                   72,248
    LRUPAD1                7381083         3450917                      248
    LRUPAD2                8939713         5347530                   72,248
    LRUPS                  6061957         4571479                   72,248
    LRUPT                 10235244         9461906            1,153,201,248
    LRWOMEN                 944687          953781                  231,248
 
Installation Instructions:
=========================
 
This patch can be installed with users on the system.  However, it is 
recommended that installation occur when there is no Anatomic Pathology
activity or activity is at a minimum.  This will prevent 'Cannot return to 
source routine' errors.  The Anatomic Pathology menu will be disabled 
automatically by this patch and re-enable after installation.
 
Install Time - approximately 1 minute
  
  1.  LOAD TRANSPORT GLOBAL
      ---------------------
      Choose the PackMan message containing this patch and invoke the
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  DISABLE ROUTINE MAPPING   (DSM for Open VMS sites only)
      -----------------------
      Disable routine mapping on all systems for the routines listed
      in the Routine Summary above.
      
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
   
  3.  START KIDS
      ----------
      Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]:
 
           Edits and Distribution ...
           Utilities ...
           Installation ...
 
      Select Kernel Installation &amp; Distribution System Option:  INStallation
                                                                ---
           Load a Distribution
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
           Backup a Transport Global
  
      Select Installation Option:
 
  4.  Select Installation Option
      --------------------------
      NOTE:  The following are OPTIONAL:
 
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
 
  5.  Select Installation Option: Install Package(s) 
      ----------------------------------------------
      **This is the step to start the installation of this KIDS patch:
 
      a.  Choose the Install Package(s) option to start the patch
          install. When prompted for the INSTALL NAME, enter LR*5.2*248.
      b.  There is no need to rebuild the menus.
      c.  When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//' answer NO
      d.  Option Anatomic Pathology [LRAP] will be disabled by PRE^LR248
          before the install begins.  POST^LR248 will re-enable the option
          after installation is complete.
 
  6.  REBUILD MAPPED ROUTINE(S)  (DSM for Open VMS sites only)
      -------------------------
      Optional - Include the routines distributed with this patch in
      the mapped routine set.
 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;258</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-02-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA BLOOD BANK SOFTWARE V5.2 DEVICE PRODUCT LABELING STATEMENT
=============================
  
 June 10, 1999 
  
VISTA Laboratory Package patch LR*5.2*258 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.  
  
All changes have been reviewed by the VISTA Blood Bank Developer and found
to have no impact on the VISTA BLOOD BANK SOFTWARE control functions.  
  
RISK ANALYSIS: Changes made by patch LR*5.2*258 have no effect on Blood
Bank software functionality, therefore RISK is none.
  
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*258 does not
alter or modify any software design safeguards or safety critical element
functions. 
  
POTENTIAL IMPACT ON SITES: This patch contains no changes to files and
routines identified in Veterans Health Administration (VHA) Directive
99-053. The changes that are made have no effect to Blood Bank
functionality or medical device control functions. There is no adverse
potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: There are no required validations
scenarios to be completed by sites after installing this patch.
 
Patch Description:
===========================
Pathology and Laboratory Medicine Service Central Office authorizes all
entries in the National Laboratory Test files. This patch adds or updates
National Laboratory Test (NLT) codes.
 
This patch updates the WKLD CODE (#64) file with additional workload
codes. These workload codes are sometimes referred to as (NLT) codes. New
entries to the WKLD CODE files should never be added using FileMan Enter
Edit option. Use instead the option 'Add a new WKLD code to File' [LRCAP
CODE ADD].
 
The Laboratory Management Index Program (LMIP) workload collection
software will automatically make additions to the WKLD CODE as required.
 
    DO NOT USE FileMan ENTER EDIT option TO MAKE ADDITIONS TO THE WKLD
CODE (#64) file.
 
NOTE: The WKLD CODE (#64) file is not replaced. The file will be checked
for name spelling errors and entries changed if required. If names are
changed, they will be reported via mail message to the local mail group
LMI. In previous releases, some names were exported with trailing spaces.
This will be corrected with this patch install.
 
This patch will replace the LAB NLT/CPT CODES (#64.81) file during
installation:
 
This patch also updates the LAB DSS LAR EXTRACT (#64.036) file data
dictionary to include two new fields. SPECIMEN COLLECTION DATE (#10) and
SPECIMEN COLLECTION TIME (#11). The routine LRCAPDAR has been enhanced to
populate the new fields.
 
NOTE: LAB DSS LAR EXTRACT file is used exclusively by the laboratory DSS
API for collecting clinical data. This file is not used or managed by the
Lab Service software.
 
This patch includes a new (3rd) cross reference in the WKLD CODE (#64)
file on the CODE (#18) subfile, CODE (.01) field. The entire file is cross
referenced using the "AB" subscript.
 Cross Reference description:
 ^LAM("AB",VARIABLE POINTER,IEN,MULTIPLE LOCATION NUMBER)=""
 
The WKLD SUFFIX CODES (#64.2) file contains a new field VENDOR (#19). This
field is used to describe the original manufacturer for this suffix.
 
Update Logic:
 
The KIDS install populates National Laboratory Tests (NLT) with a
complete listing of new and previously released codes if they are missing.
These files are:
 
    WKLD CODE (#64)
    WKLD SUFFIX CODES (#64.2)
    WKLD CODE LAB SECT (#64.21)
    WKLD ITEM FOR COUNT (#64.22)
    WKLD INSTRUMENT MANUFACTURER (#64.3)
    LAB NLT/CPT CODES (#64.81)  Only used during patch installation.
 
NOTE: WKLD CODE (#64) file or any entries in the file are never deleted.
Once an entry has been added to the WKLD CODE file, it remains for the
life of the file.
 
The LAB NLT/CPT CODES (#64.81) file is populated with a complete list of
all released WKLD CODE procedures.
   The post install routine reads entries from the LAB NLT/CPT CODES file.
The install software first determines if the WKLD CODE number already
exist in WKLD CODE. If the WKLD CODE number exists, the spelling is
checked and changed if required.
   If the WKLD CODE does not already exist, the new WKLD CODE is added to
the WKLD CODE file.
   If a spelling change was required or a new WKLD CODE is added to the
WKLD CODE file, this information is included in a mail message sent to the
local 'LMI' mailman mail group.
   If there were no install error during the update process and the update
was successful, all LAB NLT/CPT CODES file entries will be deleted and the
file will only contain one entry, NLT CODE 2000, after the install.
 
 
NOTE: Additional workload codes added to the WKLD CODE file are populated
with CPT codes. Before the added codes are linked to LABORATORY TEST
procedures, the CPT coding should be reviewed to ensure it is appropriate
for the laboratory test it is being linked with.
If the CPT code requires changing, use the 'Edit or Print WKLD CODES' [LR
WKLD CODE EDIT PRINT] option. Enter an INACTIVE DATE for the incorrect CPT
code. Then enter the correct CPT code and enter a RELEASE DATE of 'NOW'.
 
Example:
 
Supervisor menu
 
Select Supervisor menu Option:  Lab liaison menu
 
Select Lab liaison menu Option:  LIM workload menu
 
Select LIM workload menu Option:  Edit or Print WKLD CODES
 
Do you want to edit ALL WKLD CODES ? NO//
     This option will allow you to Edit or Print WKLD CODES that have been
activated on your system. Only activated WKLD CODES will be displayed
 
 
Do you want to select a specific WKLD CODE LAB SECTION? Y// ES
Select WKLD CODE LAB SECT NAME: chem  Chemistry
 
     Select one of the following:
 
          E         EDIT
          P         PRINT
 
Would you like to: EDIT EDITING
 
     Select one of the following:
 
          1         ALL
          .02       DESCRIPT
          4         BILLABLE PROCEDURE
          7         COST
          8         PRICE
          9         SORTING GROUP
          13        WKLD CODE LAB SECTION
          14        DSS Feeder
          18        CODE
          19        SYNONYM
          20        SPECIMEN
          21        LOCAL ACC AREA
 
Select a field you want to edit : 18  CODE
 
 [The previous display is repeat after each field selection.]
 
 
Use mixed case Characters e.g. Chloride 
Start with what WKLD CODE name: Chloride
STARTING LOOP 
 
PROCEDURE: Chloride      WKLD CODE: 82435.0000    UNIT FOR COUNT: TEST
 
MANUFACTURER: NOT SPECIFIED                       
WKLD CODE LAB SECTION: Chemistry                  
 
Select CODE: 89399// 
  CODE: 89399 PATHOLOGY LAB PROCEDURE// 
  RELEASE DATE: DEC 17,1999// 
  INACTIVE DATE: T-1  (DEC 10, 2000)
  REPLACEMENT CODE: 82435
  CODE NOTES:
    No existing text
    Edit? NO// YES
 
Change from Pathology Procedure to Chloride
 
Select CODE: CPT.82435
 
     Searching for a active CPT code., (pointed-to by CODE)
 
 
     Searching for a active CPT code.
  82435     ASSAY OF BLOOD CHLORIDE     
        ...OK? Yes//   (Yes)
  RELEASE DATE: T  (DEC 11, 2000)
  INACTIVE DATE: 
  REPLACEMENT CODE: 
  CODE NOTES:
    No existing text
    Edit? NO// 
Select CODE: 
 
PROCEDURE: Chloride Sweat Test Quant              WKLD CODE: 89360.0000
 
Options:
===================
 
This patch will install a new option 'NLT Mapped Code Search' [LRCAP64S]
This option is designed to assist in management of national codes linked
to WKLD CODE (#64) file entries.
 
NAME: LRCAP64S            MENU TEXT: NLT Mapped Code Search
  TYPE: run routine                     CREATOR: STALLING,FRANK
  PACKAGE: LAB SERVICE
 DESCRIPTION:   This option is useful when determining what codes are
linked to what entry in the WKLD CODE (#64) file. Several national coding
schemes (i.e. CPT, LOINC, MORPHOLOGY) can be linked to the WKLD CODE file.
This option will search the entire WKLD CODE file to determine if specific
national codes are linked.  
  
The search can be done for as many codes of the same set as required. The
report will list the national code(s) and any WKLD CODE(s) linked.  
  
This option can be used to assist when a particular national code should
be changed or deleted.
 
   LRMENU     Laboratory DHCP Menu
 
Select Laboratory DHCP Menu Option:  Supervisor menu
 
Select Supervisor menu Option:  Lab liaison menu
 
Select Lab liaison menu Option:  LIM workload menu
 
Select LIM workload menu Option:  NLT Mapped Code Search
 
     Select one of the following:
 
          1         CPT
          2         SNOMED
          3         ICD9
          4         LOINC
 
Select the code type: 1  CPT
Select CPT Code: ASSAY FOR ETHANOL ??
 Answer with CPT NUMBER, or CPT CODE, or CPT CATEGORY, or DESCRIPTION
 Do you want the entire 14963-Entry CPT List? 
Select CPT Code: 82055       ASSAY OF ETHANOL     
 Select another CPT code : 82060   ASSAY BLOOD ETHANOL     INACTIVE CODE
 Select another CPT code : 82065   ASSAY URINE ETHANOL     INACTIVE CODE
 Select another CPT code : 
DEVICE: HOME//
                  CPT Listing   Dec 31, 2000 2:18:30 am Page: 1
     
  82055 ICPT - CPT [ASSAY OF ETHANOL] linked to:
    694   81506.0000 Alcohol Ethyl
    2020  81236.0000 Ethanol
 
  82060 ICPT  CPT [ASSAY BLOOD ETHANOL]
      [ IS NOT LINKED ]
 
  82065 ICPT  CPT [ASSAY URINE ETHANOL]
      [ IS NOT LINKED ]
          Finished
 
Related NOIS:
=================================
 
 
Test Site(s):
=================================
 LONG BEACH, CA
 MUSKOGEE, OK
 MILWAUKEE, WI
 
Routine Summary:
==================================
 
The following is a list of the routine(s) included in this patch. The
second line of each of these routine(s) will look like:
 
  &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
 
              CHECK^XTSUMBLD Results
 
Routine Name   Before Patch   After Patch   Patch List
============   ============   ===========   ===========
 
LR258           N/A           4256733       258
LR258PO         N/A          12054813       258
LRCAP64S        N/A           4824368       258
LRCAPDAR       7026344        8070808    143,169,258
 
 
         Installation Instructions:
         ==========================
The Host File for this patch can be obtained from the ANONYMOUS.SOFTWARE
directory at one of the following OI Field Offices:
 
  OI FIELD OFFICE     FTP ADDRESS      DIRECTORY
  Albany              152.127.1.5      anonymous.software
  Hines               152.129.1.110    anonymous.software
  Salt Lake           152.131.2.1      anonymous.software
 
The file name is LR52_258.KID 
 
 
         1. From the Kernel Installation &amp; Distribution System
            select the 'Installation Menu'. Select the option
            Load a distribution.
            Select [disk storage location]LR52_258.KID
         2. The patch has now been loaded into a Transport global 
            on your system. You now need to use KIDS to install 
            the Transport global.
            On the KIDS menu, under the 'Installation' menu, use 
            the following options:
                Print Transport Global (Patch size is very large)
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         3. Users may remain on the system however Laboratory 
            users must be idle. This to say the laboratory users should
            not accessioning, instrument downloads or test verification
            during the install. Installation should be done during off
            peak hours.
         4. No options need to be placed out of service. No
            laboratory background jobs have to be stopped.
         5. Installation time is less than 15 minutes during off 
            peak hours and less than 35 minutes during peak hours.
         6. Installation of this patch requires minimal additional 
            disk space. Review your map set for the routine
            LRCAPDAR. The routine LRCAPDAR should not be
            currently mapped. If LRCAPDAR is mapped you must
            rebuild map sets after installation.
         7. From the 'Installation Menu' of the KIDS menu, run the 
            option
            'Install Package(s)' Select the package 'LR*5.2*258' 
            and proceed with the install.
         8. When prompted 'Want KIDS to INHIBIT LOGONS during the
            install? YES//' respond NO.
         9. When prompted 'Want to DISABLE scheduled Options, Menu
            Options, and Protocols? YES//' respond NO. Respond to Rebuild
            Menu Trees? YES// YES
        10. After successful installation, routines LR258 and
            LR258PO should be removed from the system.
After the install has been completed. All users can now resume normal
activities of accessioning and test verfications.
 
Laboratory Information Manager (LIM) should review the mail message
containing the workload codes additions to determine if there is a need to
link or re-link laboratory tests. Before linking any workload code the CPT
coding should be reviewed for appropriateness.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;268 SEQ #207</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-04-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*268 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
This patch will addresses a fix to the options Long form accession list
[LRACC1] and Long form accession list for microbiology [LRMIACC1]
regarding the printing of completed accessions from non-daily accession
areas. The problem was reported in NOIS CIN-0299-41416. Additional
problems (item 2-8) were identified for these two options during the
software review for patch development. Listed below are the problems and
the corrective actions.
  
1.  NOIS CIN-0299-41416 reported that when using the combination of
listing by date and NOT wanting only incomplete entries, the report
did not print all entries (completed and incomplete accessions). 
 
The reports have been corrected to print completed accessions when the
user answers "NO" to the prompt "Do you want only incomplete entries?".

2.  At the prompt "Do you want only incomplete entries?" if the user
entered a "?" the software would bypass the prompt and proceed to the 
next prompt for device selection. Entering a "?" will now present the
user with a help message and return to the prompt. This defect was
identified during software review.
 
3.  Printing of the lab order number and the patient name could print
together when the order number exceeds five digits. Also patients with 
long names could cause the printing of the patient's identifier (SSN)
to wrap to the next line of the display. The printing of accession and
patient information on the report has been adjusted to provide sufficient
space to avoid this information printing together. This defect was 
identified during software review.
 
4.  The patch corrects a Vista Programming Standards and Conventions
(SAC) violation that was identified during software review as part of
patch development. The patch removes direct global read of global ^VA(200)
which contains the NEW PERSON (#200) file.  Routine LRWRKLS1 was
retrieving user's name. Call to the file has been changed to Kernel
supported reference (DBIA # 10060) using FileMan DBS call $$GET1^DIQ.
This defect was identified during software review.
 
5.  The patch converts a call to routine LRAFUNC1 to display date/time
values. This routine is being phased out. Call has been replaced with
calls to Kernel supported XLFDT date/time function.
 
6. Various non-interactive calls to %DT in routines LRWRKLST and LRWRKLS1
have been replaced with calls to corresponding Kernel supported XLFDT
date/time functions to determine current date/time and display other
date/time values associated with the accession.
 
7. When selecting a listing for a specific test and incompletes only
criteria the report would print information for some accessions before
applying the selection criteria. The report has been changed to print
patient and accession information when the accession meets the specified
selection criteria. This defect was identified during software review.
 
8. The options Long form accession list [LRACC1] and Long form accession
list for microbiology [LRMIACC1] will now honor stop requests when tasked.
Users can call the TaskMan User [XUTM USER] option to stop tasks that they
started.
 
 
ASSOCIATED NOIS
---------------
 CIN-0299-41416 
  
 
ASSOCIATED E3R'S
----------------
 None
 
 
TEST SITES
----------
 Cincinnati VAMC
 Milwaukee VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR268            N/A            4332160        **268** (Deleted by KIDS)
   LRWRKLS1         6588663        4126947        **121,153,185,268**
   LRWRKLST         9455120        6742016        **1,17,38,153,185,221,268**
 
List of preceding patches: 221
Sites should use CHECK^XTSUMBLD to verify checksums.  
        
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak hours.
  The install will disable several Lab options as specified in #7 below.
 
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab options during patch
      installation.
 
      Long form accession list [LRACC1]
      Long form accession list for microbiology [LRMIACC1]
      Lookup accession [LR LOOKUP ACCESSION]
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*268'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LR268 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
None
 
 
************************************************************************
Installation example:

Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*268 Loaded from Distribution  12/8/00@11:51:43
     =&gt; LR*5.2*268
 
This Distribution was loaded on Dec 08, 2000@11:51:43 with header of
   LR*5.2*268
   It consisted of the following Install(s):
     LR*5.2*268
Checking Install for Package LR*5.2*268
Will first run the Environment Check Routine, LR268
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*268
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//
 
 
 Install Started for LR*5.2*268 :
               Dec 08, 2000@11:52:44
 
Build Distribution Date: Dec 08, 2000
 
 Installing Routines:....
               Dec 08, 2000@11:52:44
 
 Running Pre-Install Routine: PRE^LR268.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION...
               Dec 08, 2000@11:52:44
 
 Running Post-Install Routine: POST^LR268.
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*268 Installed.
               Dec 08, 2000@11:52:45
 
 Install Message sent #113161
 
Select Installation Option:
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;262 SEQ #208</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-04-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*262 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
 
DESCRIPTION
===========
This patch will address a fix to the Lab Universal Interface Auto Download
requested in E3R #13785 - LRPHMAN &amp; LRPHEXCPT BOTH SENDING HL7 MESSAGE.
During development of patch LA*5.2*57, it was determined that the software
logic in the collection list receipt process was not submitting all
accessions on a lab order to the Lab Universal Interface Auto Download.
Routine LRPHITEM was only submitting the accession associated with the 
last test on a Lab order to the auto download process. This patch corrects
this logic error. It will now scan all tests on a given order and submit
to the auto download process those accessions associated with the lab order.
 
 
 
ASSOCIATED E3R'S
----------------
#13785 - LRPHMAN &amp; LRPHEXCPT BOTH SENDING HL7 MESSAGE
 
 
TEST SITES
----------
 Asheville VAMC
 Boston HCS
 Central Plains HCS
 Indianapolis VAMC
 Milwaukee VAMC
 San Antonio VAMC
 San Diego VAMC
 Tennessee Valley HCS
 Upstate New York HCS 
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR262            N/A            4332130        **262**(deleted by Kernel)
   LRPHITEM         14270617       12142394       **121,198,208,202,221,262**
 
List of preceding patches: 221
Sites should use CHECK^XTSUMBLD to verify checksums.
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
  The install will disable several Lab option as specified in #7 below.
  Building and receipting of collection lists should not be occurring
  within the Laboratory package.
 
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab options during patch
      installation.
 
      Receipt of routine lab collection from wards [LRPHEXCPT]
      Itemized routine lab collection [LRPHITEM]
      Add to collection list [LRPHMAN]
  
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*262'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LR262 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
 
NONE
 
 
************************************************************************
Installation example:
 
Select INSTALL NAME:    LR*5.2*262     Loaded from Distribution  6/8/00@11:32:29
     =&gt; LR*5.2*262
 
This Distribution was loaded on Jun 08, 2000@11:32:29 with header of
   LR*5.2*262
   It consisted of the following Install(s):
     LR*5.2*262
Checking Install for Package LR*5.2*262
Will first run the Environment Check Routine, LR262
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*262
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET VIRTUAL
 
 
 Install Started for LR*5.2*262 :
               Jun 08, 2000@11:35:10
 
Build Distribution Date: Jun 08, 2000
 
 Installing Routines:...
               Jun 08, 2000@11:35:10
 
 Running Pre-Install Routine: PRE^LR262.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION....
               Jun 08, 2000@11:35:10
 
 Running Post-Install Routine: POST^LR262.
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*262 Installed.
               Jun 08, 2000@11:35:10
 
 Install Message sent #25038
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;267 SEQ #209</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-04-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch provides the VistA Blood Bank Software the ability to read and
interpret blood product barcode labels using the ISBT 128 system.  The
ability to read and interpret blood product labels using the Codabar
system is unaffected.  
 
A full description of this patch can be found in the Forum Patch Module
listing for patch LR*5.2*267.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;232</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-09-06 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch allows you to map Lab tests to a default LOINC code.
National training will be provided to aid sites in mapping the sites' tests
to LOINC codes.
 
The LAB LOINC (95.3) file is updated to LOINC (R) version 1.0N.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;269 SEQ #211</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-11-06 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*269 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
 
DESCRIPTION
===========
This patch will address fixes to defects reported in NOIS LEX-1098-42357
and PHI-0201-21212 and compliance changes for Standards and Conventions
Programming Standards (SAC) violations for the group verify process.
 
1. When using option Group verify (EA, EL, EW) [LRGV] that the warning
message "THIS DATA APPEARS TO BELONG TO SOMEONE ELSE" was displayed on
each accession to be verified. This defect was caused by the inappropriate
use of the $TEST function. Routine LRGV1 will now skip result data in
the ^LAH global if the data does not belong to the same accession area,
accession date and accession number. NOIS LEX-1098-42357 and PHI-0201-21212
 
2. During patch development software review the following SAC violations
were identified.
 
   a. Routine LRGV2 contained a direct global read of the ^DD global to
   retrieve the name of the corresponding dataname from LAB DATA file
   (#63), CHEM, HEM, TOX, RIA, SER, etc. subfile (#4). Defect corrected
   with change to Kernel supported reference (DBIA # 2052) using
   FileMan DBS call $$GET1^DID.
 
   b. Routine LRGV1 contained locks on ^LAH global without timeouts.
   Defect corrected by adding timeouts to locking of ^LAH global.
 
   c. Routine LRGV contained code to set variables IO and IOSL. Defect
   corrected by removing code.
 
3. During patch development software review the following defects were
   identified and corrected.
 
   a. Comments associated with results could possibly be duplicated
   when moved from the ^LAH global to the LAB DATA file (#63), CHEM,
   HEM, TOX, RIA, SER, etc. subfile (#4), COMMENT field (#.99).
   Defect corrected in routine LRGV2.
 
   b. Monthly accession areas would not be processed. Routine LRGP1
   was not calculating accession date correctly for monthly accession
   areas. The defect was reported by Lloyd Milligan of Sea Island
   Systems, Inc.
     
   c. When processing/verifying by tray/cup and a corresponding entry in
   the ^LAH global did not exist for the tray/cup combination then
   processing would stop and leave remaining entries unprocessed.
   Routine LRGV will now continue to process remaining entries.
 
   d. If results exist for different accession areas but the same
   accession numbers then routine LRGP was not handling these results
   properly and keeping them separate. Routine has been corrected to
   keep results for different accessions but the same accession number
   separate based on accession area and accession date.
 
   e. Option Group unverified review (EA, EL, EW) [LRGP] could print
   results for accessions that are not for the same accession area,
   accession date and accession number. Routine LRGP will now skip result
   data in the ^LAH global if the data does not belong to the same accession
   area, accession date and accession number.
 
   f. Option Group unverified review (EA, EL, EW) [LRGP] could print
   the wrong date/time on the printed report if the reported was queued
   via TaskMan. Option was printing the date/time that the user originally
   setup the report. Report will now print the date/time that the report
   actually starts to print.
 
   g. Option Group verify (EA, EL, EW) [LRGV] would verify flagged results
   which contained critical results and or a delta check when the user
   indicated that these results should not be group verified. The option
   will now only verify results that are critical or have a delta check
   when the user indicates that flagged results should be verified.
 
   h. Option Group verify (EA, EL, EW) [LRGV] was storing verified results
   in LAB DATA file (#63) without NLT order and result codes, test units,
   performing facility, and results flags. The option will now store these
   result parameters.
 
   i. Option Group verify (EA, EL, EW) [LRGV] will now allow the user to
   abort from a verifying session and will pause when the display screen
   is filled. The test results being verified will print on the report.
 
 
4. The options Group verify (EA, EL, EW) [LRGV] and Group unverified
review (EA, EL, EW) [LRGP] will now honor stop requests when tasked.
Users can call the TaskMan User [XUTM USER] option to stop tasks that
they started.
 

ASSOCIATED NOIS
---------------
 LEX-1098-42357
 PHI-0201-21212
 
 
ASSOCIATED E3R'S
----------------
 None
 
 
TEST SITES
----------
 Durham VAMC
 Lexington VAMC
 Philadelphia VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR269            N/A            4831472        **269** (Deleted by KIDS)
   LRGP             6947313        5798854        **153,269**
   LRGP1            8924262        3988622        **112,269**
   LRGV             13358239       7051872        **269**
   LRGV1            5973234        3094124        **112,153,269**
   LRGV2            11151687       3432003        **121,153,269**
 
List of preceding patches: 153
Sites should use CHECK^XTSUMBLD to verify checksums.
   
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
  The install will disable several Lab options as specified in #7 below.
 
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this patch
      prior to installation, you should use the 'Backup a Transport Global'
      option at this time.  You may also compare the routines in your
      production account to the routines in the patch by using the 'Compare
      a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab options during patch
      installation.
 
         Group verify (EA, EL, EW) [LRGV]
         Group unverified review (EA, EL, EW) [LRGP]
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*269'.  When prompted 'Want to
      DISABLE Scheduled Options, Menu Options, and Protocols? YES//',
      choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LR269 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
None
 
 
************************************************************************
Installation example:
 
Select Installation Option: 6  Install Package(s)
 
Select INSTALL NAME: LR*5.2*269  Loaded from Distribution  10/31/01@14:08:53
     =&gt; LR*5.2*269 TEST v6
 
This Distribution was loaded on Oct 31, 2001@14:08:53 with header of
   LR*5.2*269 TEST v6
   It consisted of the following Install(s):
     LR*5.2*269
Checking Install for Package LR*5.2*269
Will first run the Environment Check Routine, LR269
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*269
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? NO//
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// 0;P-OTHER;80;99999999  TELNET VIRTUAL
 
 
 Install Started for LR*5.2*269 :
               Oct 31, 2001@14:20:51
 
Build Distribution Date: Mar 29, 2001
 
 Installing Routines:.......
               Oct 31, 2001@14:20:52
 
 Running Pre-Install Routine: PRE^LR269.
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION...
               Oct 31, 2001@14:20:52
 
 Running Post-Install Routine: POST^LR269.
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*269 Installed.
               Oct 31, 2001@14:20:52
 
 Install Message sent #xxxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;278 SEQ #212</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-12-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch to the Laboratory package does not contain any changes to the 
VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 99-053 titled VISTA
BLOOD BANK SOFTWARE.
 
Copyright 1995, 1996, 1997, Regenstrief Institute and the Logical 
Observation Identifier Names and Codes (LOINC) Committee. All rights 
reserved. LOINC is a trademark of the Regenstrief Institute.
 
This patch contains enhancements that improve several reports
associated with LOINC mapping. In addition there is new functionality
provided for re-transmitting PCE CPT workload.
 
Obsolete Options:
===========
The Print Default LOINC/LOINC Code by Lab Tests [LR LOINC PRINT
DEFAULT/LOINC] option is obsolete and will be placed out of order.
 
New Options:
===========
1. The PCE Retransmit [LRCAPCEX] option is new with this patch. 
This option will reset entries in the LAB ORDER ENTRY (#69) file to allow
resending of PCE workload for a given date range. This option is useful if
WKLD CODE did not have CPT code assigned when PCE workload reporting
software initially ran.  
***CAUTION***  
This option will only attempt to resend PCE workload if NO PCE workload
was reported FOR THE ENTIRE SPECIMEN ORDER NUMBER during the initial scan
of collected orders. All original requirements for PCE workload reporting
are enforced.  
  
This option maybe useful if linked CPT codes were inactivated during the 
yearly upgrade of the CPT (#81) file. The LIM can edit the WKLD CODE (#64)
file with current valid CPT codes and run this option.  
  
This option cannot be run while the normal PCE workload reporting
background software is running.  
  
The option will scan the date range entered, printing a dot (".") for
every 20th. order processed. Then the option will determine if the order
should be reported to PCE. As the data is processed, every 20th. order
number is printed.
  
This option cannot be queued. Option invokes the routine LRCAPPHX
 
Modified Options:
================
1. Map/Unmap Antimicrobial Default LOINC Code [LR LOINC MAP ANTIMICROBIAL
] option was modified to correct problems with unmapping a LOINC
code from several different WKLD CODEs.
 
2. Print Lab Tests Mapped/Not Mapped to LOINC Codes [LR LOINC PRINT 60/LO
INC MAP] option has been enhanced to provide the following three methods
to print LOINC mapped data:
   1) Print all unmapped tests
   2) Print all mapped tests
   3) Print individual tests.
 
The option functionality was improved by the creation of an additional
cross-reference ^LAM("AL".
 
3. Link Result NLT Manual [LR7O MAN RESULT NLT] option was generating an
undefined error if the default WKLD CODE was accepted. This problem has
been corrected. The option now properly honors '^' when entered. The 
option will allow any WKLD CODE to be selected.
 
4. Map/Unmap Antimicrobial Default LOINC Code [LR LOINC MAP ANTIMICROBIAL
] option has been modified to have the look and feel of other LOINC
mapping  options. Note this option only sets the DEFAULT LOINC CODE (#25)
of the WKLD CODE (#64) file.
[It is highly recommended that a different suffixed WKLD CODE be created
to be used for antimicrobial drug mapping. The WKLD CODE selected must be
different than the WKLD CODE used for blood analysis.]
 
5. Extract VistA Lab Test Names [LR LOINC EXTRACT LAB NAMES] options has
been modified to replace '*' or '?' with spaces that occur in test names.
This is to prevent RELMA mapping program errors. The extraction logic has
been enhanced to find duplicate laboratory test and synonym names.
 
6. National Laboratory File [LR7O 60-64] menu was exported with an
erroneous routine attached. The entire menu option is deleted and rebuilt
with this install. The menu contains the following options:
1) Semi-automatic Linking of file 60 to 64 [LR7O 60-64 AUTO]
2) Manual Linking of file 60 to 64 [LR7O 60-64 MANUAL]
3) Result NLT Auto Linker [LR7O AUTO RESULT NLT]
4) Link Result NLT Manual [LR7O MAN RESULT NLT]
The routine PSDNDES has been removed.
 
7. Map Lab Tests to LOINC Codes [LR LOINC MAP] option has been enhanced to
allow mapping of all laboratory test. In the initial release, only 'CH'
subscripted tests were selectable. This restriction has been removed. Only
'CH' subscripted tests are mapped to TIME ASPECT LOINC codes. Other type
tests (i.e. Microbiology, Anatomic Pathology) are only mapped to DEFAULT
LOINC CODE.
 
8. Print a Single LOINC CODE [LR LOINC PRINT LOINC CODE] option has been
modified to display the LOINC CODE check digit beside the LOINC CODE.
 
9. The following options will now allow selection of any subscript.
1)      Find LOINC for Vista Lab Test [LR LOINC LOOKUP]
2)      Unmap/Delete Lab Tests to Default LOINC Code
        [LR LOINC UNMAP/DELETE DEFAULT]
3)      Validate LOINC Mapping [LR LOINC VALIDATE]
 
10. Where appropriate, FileMan lookup and options will now display the 
LOINC code plus the check digit. In the past only the LOINC code was 
shown (i.e. 1-8). This will provide required data for entry into RELMA 
LOINC lookup window.
 
11. The National Laboratory File [LR7O 60-64] option will be added to the
LOINC Main Menu [LRLOINC] option.
 
 
Data Dictionary Changes:
=================
62.06       ANTIMICROBIAL SUSCEPTIBILITY
    Screen removed from NATIONAL VA LAB CODE #64
 
64          WKLD CODE
Partial DD: DEFAULT LOINC CODE #25
   Trigger to remove data from field when DEFAULT LOINC CODE is deleted.
Partial DD: subDD: SPECIMEN #64.01
            subDD: TIME ASPECT #64.02      fld: TEST #3
  Creates and populates the ^LAM("AL") cross reference
 
68.2        LOAD/WORK LIST                                 
Partial DD:       fld: WKLK METHOD #.14
  Modifies the triggers use to populate fields:
      WKLD CODE METHOD NAME #.15
      WKLD CODE SUFFIX #.16
 
95.3       LAB LOINC
  CHECK DIGIT (#15) has been made an identifier to improve display and
lookup.
 
 
Test Sites:
=================
    Long Beach, CA
    Muskogee, OK
    Durham, NC
 
 
Routines Summary:
==================
The second line of the routines now looks like:
&lt;tab&gt;  ;;5.2; LAB SERVICE;**[patch list]**; Sep 27,1994
            Checksum values
 
Routine       Before Patch       After Patch       Patch list.
LR278             NA             5505096           278 (deleted by KIDS)
LR7OU641     12240284            12410597          153,201,278
LRCAPD       9261934             9516457           105,163,153,278
LRCAPPHX          NA             5799903           278
LRLNC0       11822735            14797379          215,232,278
LRLNC1       3760103             2227160           215,278
LRLNC1A           NA             750293            278
LRLNCDEL     5416724             6004798           232,278
LRLNCLK      2054143             2106203           232,278
LRLNCMD      8362694             6826367           232,278
LRLNCNLT     6478052             6013193           215,278
LRLNCPMP     4831240             7461913           215,232,278
LRLNCPRT     4848636             4889813           215,278
LRLNCV       4009739             3900781           232,278
LRLNCX       6971341             7117683           232,278
 
Installation Instructions:
=========================
Installation should be done during off peak hours.
Laboratory personnel may be on the system during install but should
not be active.
 
Installation time is less than 2 minutes during off peak hours 
and less than 5 minutes during peak hours.
 
Installation of this patch requires no additional memory space.
 
This patch is released as a KERNEL Installation and Distribution Systems
(KIDS) MailMan message.
 
  1.  START FROM KERNEL 
      From the KERNEL Installation and Distribution Systems (KIDS)
      Menu, select the Installation menu [XPD INSTALLATION MENU]:  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
     
  2.  SELECT INSTALLATION OPTION 
      NOTE:  The following are OPTIONAL:
    
     a.  Backup a Transport Global - This option will create a backup 
          message of any routines exported with this patch. It will not 
          backup any other changes, such as DDs or templates.  
     b.  Compare Transport Global to Current System.  NOTE:  This option 
          will produce a long report due to new files and is not 
          recommended.
     c.  Verify Checksums in Transport Global - This option will allow 
          you to ensure the integrity of the routines that are in the 
          transport global.  
  3. SELECT INSTALLATION OPTION: Install Package(s)
     Select INSTALL NAME: LR*5.2*278
  4. When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
     install? Yes//" respond "NO".
  5. When asked "Want KIDS to INHIBIT LOGONS during the install? YES//",
     respond "NO"
  6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and 
     Protocols? YES//, respond "NO".
  7. Lab users may resume their normal activities.
  8. Routine LR278 will be deleted after successful patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;275 SEQ #213</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-12-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch was developed to fix defects in the VistA Blood Bank Software v
5.2 that have been discovered to cause chronic user and database integrity
problems.
 
A full description of this patch can be found in the Forum Patch Module
listing for patch LR*5.2*275.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;280 SEQ #214</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-01-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
VISTA Laboratory Package patch LR*5.2*280 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
 
This patch will address fixes to defects reported in NOIS DAY-1101-42242
and HWH-1101-42338 when using the option Link Result NLT Manual [LR7O MAN
RESULT NLT] to map result NLT codes to a site's LABORATORY TEST file
(#60).
 
1. When using the option Link Result NLT Manual [LR7O MAN RESULT NLT] the
option was exiting the user to the Kernel menu system after mapping a
single test.  This resulted in a user answering the option prompts for
each test to be mapped.  This patch will change the option dialog to
allow the user to select and map multiple tests after answering the
option prompts.  To exit or abort from the option the user should enter
a "^" which will return the user to the Kernel menu system.
NOIS DAY-1101-42242 and HWH-1101-42338
 
2. FileMan inquires in to files LABORATORY TEST (#60) and WKLD CODE (#64)
was not displaying the check sum digit for all LOINC codes. An output
transform has been added to include the check digit with the LOINC code.
 
3. In the LABORATORY TEST (#60) file, subfile SITE/SPECIMEN (#100), LOINC
CODE (#95.3) field was not being updated for atomic 'CH' subscript tests.
This has been corrected. It has been reported that the zero node of
SITE/SPECIMEN field do not exist. This patch will create the zero node if
required during mapping.
   SPO-120-50468 
 
4. During patch development/software review the following defects were
   identified and corrected.
 
   A. In the option Result NLT Auto Linker [LR7O AUTO RESULT NLT] if
   a user requested printing of a List of Result NLT Linked Codes
   and device selection was unsuccessful or aborted then the Kernel IO*
   variables were not being restored to the user's home device. This
   patch will now call HOME^%ZIS when device selection is unsuccessful
   or aborted by the user to restore the user's home device settings.
 
   B. If a user selects the semi-auto method of linking, the option was
   exiting the user from the option when a Result NLT was not selected
   and mapped to an entry in the LABORATORY TEST file (#60). This patch
   will allow the user to continue mapping tests. To exit or abort from
   the option the user should enter a "^" which will return the user to
   the Kernel menu system.
 
   C. The entry in LABORATORY TEST file (#60) was only being locked 
   when using the manual method of linking. The Semi-auto method was
   not locking the file.  This patch will lock the entry being edited
   in LABORATORY TEST file (#60) when either method is selected.
 
5. When mapping certain LOINC codes a FileMan error of 'undefined 
   variable ^(4) is' generated because of the lookup screen. This error
   has been corrected.
   SHR-1201-70505
 
 
ASSOCIATED NOIS
---------------
 DAY-1101-42242
 HWH-1101-42338
 SHR-1201-70505
 SPO-1201-50468 
 MAR-1201-21794
 
ASSOCIATED E3R'S
----------------
 None
 
 
TEST SITES
----------
 Dayton VAMC
 Heartland-West HCS
 Milwaukee VAMC
 Shreveport VAMC
 Durham VAMC
 Long Beach VAMC 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR280            N/A            4831435        280 (Deleted by KIDS)
   LR7OU641         12410597       12157260       153,201,278,280
   LRLNC0           14797379       15016901       215,232,278,280
   LRLNCC           2637694        2634007        232,280
   LRLNCMD          6826367        6815286        232,278,280
 
 List of preceding patches: 232,278
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
  
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: Off peak hours.
  The install will disable a Lab option as specified in #7 below.
 
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this 
      patch prior to installation, you should use the 'Backup a Transport
      Global' option at this time.  You may also compare the routines in
      your production account to the routines in the patch by using the
      'Compare a Transport Global to Current System' option.
 
  7.  The install will disable the following Lab option during patch
      installation.
 
         Link Result NLT Manual [LR7O MAN RESULT NLT]
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*280'.
 
      When prompted ' Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' choose 'NO'.
 
      Want KIDS to INHIBIT LOGONs during the install? YES// NO
 
      When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LR280 will be deleted after successful patch installation.
 
 
POST-INSTALLATION INSTRUCTIONS:
===============================
None
 
 
************************************************************************
Installation example:
 
Select Installation Option: INStall Package(s)
Select INSTALL NAME:    LR*5.2*280     
Loaded from Distribution  12/20/01@10:27:28
     =&gt; LR*5.2*280
 
This Distribution was loaded on Dec 20, 2001@10:27:28 with header of 
   LR*5.2*280
   It consisted of the following Install(s):
     LR*5.2*280
Checking Install for Package LR*5.2*280
Will first run the Environment Check Routine, LR280
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*280
 
Incoming Files:
 
 
   60        LABORATORY TEST  (Partial Definition)
Note:  You already have the 'LABORATORY TEST' File.
 
 
   64        WKLD CODE  (Partial Definition)
Note:  You already have the 'WKLD CODE' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET
 
 
 
 Install Started for LR*5.2*280 :
               Dec 20, 2001@11:45:16
 
Build Distribution Date: Dec 12, 2001
 
 Installing Routines:
               Dec 20, 2001@11:45:16
 
 Running Pre-Install Routine: PRE^LR280
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries: 
               Dec 20, 2001@11:45:17
 
 Installing PACKAGE COMPONENTS: 
 
 Installing OPTION
               Dec 20, 2001@11:45:17
 
                                   
LR*5.2*280                                   
 
 Running Post-Install Routine: POST^LR280
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*280 Installed. 
               Dec 20, 2001@11:45:17
 
 Install Message sent #XXXXX
 
 
Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;222</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-02-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*222 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
========================================

Patch LR*5.2*222 will be distributed and installed with patch LA*5.2*46
LEDI INTERFACE TO NON-VA SYSTEM (LEDI II).
 
This patch adds additional support when using the option Referral Patient
Multi-purpose Accession [LRLEDI] to accession specimens thru the Laboratory
Electronic Data Interface (LEDI). The changes contained in this patch are
implemented in conjunction with patch LA*5.2*46. Patch LA*5.2*46 now builds
the file LAB PENDING ORDERS ENTRY (#69.6) with additional information
concerning mapping to local test urgency. This patch introduces changes
that utilize the local urgency information stored in file #69.6 when
accessioning LEDI specimens at the host laboratory.
 
As of the release date of this software, there is no national solution to
implement a laboratory electronic HL7 standard interface to a facility or
other entity outside the VA wide area network.  National communication
security concerns are still being debated by the Department of Veterans
Affairs (VA) and are awaiting resolution.  At present, a VA medical center,
which intends to utilize this software in conjunction with an interface to
a commercial reference laboratory or other non-VA information system entity,
will need to coordinate with the vendor an acceptable communication method.
Any implementation will need to be approved by the facility and VISN
Information Security Officer (ISO) and meet current VA security requirements
for external electronic connections. See VHA Directive 6212, Security of
External Electronic Connections and VHA Directive 6210, Automated Information
Systems (AIS) Security for additional information and guidance. Additional
security information may be obtained from the Health Information Security
Service (HISS) web page at http://vaww.domain.ext/miss.

Implementation of a HL7 messaging interface between the VA VistA Laboratory
package and a non-VA information system consists basically of three parts:
 - VistA Laboratory LEDI II software.
 - certified communication software and hardware
 - non-VA information system capable of sending and receiving laboratory HL7
   order and result messages.
All three must be functional to utilize the capabilities of this LEDI II
software patch. The implementation,setup, and configuration of vendor provided
hardware and software is NOT addressed by this documentation.  Consult the
vendor provided documentation and instructions to interface to the VistA
Laboratory package.
 
 
NOIS HUN-1100-21862 reported discrepancies in patient names due to Network
Health Exchange not maintaining name changes. This patch removes the use
of the Network Health Exchange package to lookup patient information
(patient name, patient identifier and date of birth). The link in file
REFERRAL PATIENT (#67), field Patient Name (#3) to file VAMC NETWORK
PATIENT (#537010) is removed as a variable pointer.


NOIS
====
HUN-1100-21862

ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR222            N/A            6987123        **222** (Deleted by KIDS)
   LRDPAREF         6854898        5111405        **153,222**
   LRORDB           3786248        3782224        **153,222**
 
 List of preceding patches: 153
 Sites should use CHECK^XTSUMBLD to verify checksums. 
 
  
TEST SITES
----------
  Alexandria VAMC
  Biloxi VAMC
  Birmingham VAMC
  Fayetteville VAMC
  Hines VAMC
  Houston VAMC
  Jackson VAMC
  Little Rock VAMC
  Madison VAMC
  Milwaukee VAMC
  Muskogee VAMC
  Oklahoma City VAMC
  Shreveport VAMC
 
 
SOFTWARE RETRIEVAL:
===================
 
   The following software and documentation files are exported as part of
   this patch:
 
    File Name           Contents                         Retrieval Format
    ---------           --------                         ----------------
    LAB_LEDI_II.KID     LA*5.2*46 KIDS build                 ASCII
                        LR*5.2*222 KIDS build
 
    LAB_LEDI_II_IG.PDF  LABORATORY ELECTRONIC DATA           BINARY
    LAB_LEDI_II_IG.DOC   INTERCHANGE PHASE II (LEDI II)
                         INSTALLATION GUIDE
 
    LAB_LEDI_II_UM.PDF  LABORATORY ELECTRONIC DATA           BINARY
    LAB_LEDI_II_UM.DOC   INTERCHANGE PHASE II (LEDI II)
                         USER MANUAL
  
   The software files are available on one of the following OI Field
   Offices' ANONYMOUS.SOFTWARE directories.
 
   All sites are encouraged to use their FTP capability to obtain these
   files.  Use the FTP address "download.vista.domain.ext" (without the
   quotes) to connect to the first available FTP server where the files
   are located.
 
      OI FIELD OFFICE    FTP ADDRESS                DIRECTORY
      ===============    ===========                =========
      ALBANY             ftp.fo-albany.domain.ext   [ANONYMOUS.SOFTWARE]
      HINES              ftp.fo-hines.domain.ext    [ANONYMOUS.SOFTWARE]
      SALT LAKE          ftp.fo-slc.domain.ext      [ANONYMOUS.SOFTWARE]
 
 
 
INSTALLATION INSTRUCTIONS
-------------------------
  The instructions for installation of the software are included in the
  installation guide.
 
 
POST-INSTALLATION INSTRUCTIONS
------------------------------
 
 
  The post-instructions for installation of the software are included in
  the installation guide.
 
 
INSTALLATION EXAMPLE
====================
 
  An installation example is included in the installation guide.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;279 SEQ #216</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-03-15 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*279 contains no changes to 
software controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK 
SOFTWARE.
 
The patch provides the following:
  
 1.      Historical LOINC mapping
  
This patch contains options and software required to perform historical 
LOINC mapping of CH subscripted verified results. The software will use 
the existing LOINC mapping configuration defined in WKLD CODE (#64) file. 
This file's definition will be used to determine the LOINC code to be 
assigned to a given result. The historical mapping process extends to the 
past 5-6 years of verified 'CH' subscripted data.
 
 Information on the historical LOINC mapping process:
  
The historical mapping is an option that cannot be queued. Installation 
of this patch provides options to perform historical mapping of verified  
'CH' subscripted tests.
  
Historical LOINC mapping is a disk and system intensive process.
  
Journaling has not been a problem at test sites, but with any conversion 
process, journal files should be monitored.  Temporary data is stored in 
the ^XTMP Global. A significant amount of LOINC code related data will be 
set into the ^LR( global.
  
The Historical Mapper functions should be run during a 24 hour period of 
low system demand. Typically this would be during a week end.
 
2.    Installs 'LRRESOURCE' Resource Device
 
This patch will install a new resource device called 'LRRESOURCE'. This 
device is installed with eight slots. The number of slots determines the 
number of active LOINC mapping background tasks. The maximum number of 
concurrently running background tasks is eight, the number of slots 
defined in LRRESOURCE. If the user adjusts the number slots of the 
resource device, it must have at least one slot to initiate the mapping 
process. Reducing the number of slots will increase the total mapping 
processing time. Increasing the number of resource slots may NOT reduce 
the total mapping processing time.
  
  The Mapping Process in Detail
 
The LOINC mapping processes are divided in to batches of 20,000 LRDFN 
records each. The number of batches are determined by the number of 
records found in the LAB DATA (#63) file. One could estimate the number 
of batches by dividing the number of LRDFN records by 20,000. If more 
than eight mapping tasks are required, the remainder tasks will 
automatically start when a resource slot becomes available. Resource 
slots become available when a mapping sequence batch runs to completion.
  
The objective of the mapping batch size and number is to ensure mapping 
is completed within twenty-four (24) hours. After benchmarking timing 
exercises, it has been determined that eight batch jobs of 20,000 records 
each would achieve the mapping time goal.
  
Each LRDFN in a batch that is not from LAB CONTROL NAME (#62.3) file, is 
checked to determine if NEW PERSON CONVERSION (.12) field of sub-multiple 
CHEM, HEM, TOX, RIA, SER, etc. (#4) of the LAB DATA (#63) file has a 
designation of 2. If the check is satisfied the process continues for 
that LRDFN's inverse date time sub-file.
  
Each data name (test) of the CH subscript is subjected to a lookup 
process to determine the RESULT NLT CODE (#64.1) field of the LABORATORY 
TEST (#60) file.
This value is stored in the 
 ^XTMP("LRLNC63",1,DATANAME IEN)=Result NLT Code.
 ^XTMP("LRLNC63",1,2) = 84330.0000
 ^XTMP("LRLNC63",1,3) = 84520.0000
 ^XTMP("LRLNC63",1,4) = 82565.0000
 ^XTMP("LRLNC63",1,5) = 84295.0000
  
The software then performs a LOINC lookup using the data from the 
DATANAME subscripted node [^XTMP("LRLNC63", 1,DATANAME)] global and the 
file definitions of WKLD CODE file to determine the LOINC code for the 
result. If a LOINC code is found the value is stored in the third '^' 
piece in the third piece of '!' delimited field.
 
 ^LR(713,"CH",6979880.8746,357)=75^^84009.0000!84009.0000!
 [27057]!3103!1^104^72!50!220!!!!UG/ML!!!75^^^^170^1 
  
 Where [27057] is the LOINC code.
  
The last LRDFN processed record for each batch (sequence) is stored in 
the ^XTMP("LRLNC63","SEQ",#). Where '#' is the batch sequence number in 
increments of 20,000.
 
Other information stored in the ^XTMP global are:
 ^XTMP("LRLNC63","SEQ",#,"START")=FileMan date/time
 ^XTMP("LRLNC63","SEQ",#,"END")=FileMan date/time
  
The time difference between the START and END nodes represent the lapse 
time for that batch's LOINC mapping.
  
Status activity of the mapping process is reported to the LMI mail group 
via VistA Alerts. An alert is generated when each batch process is 
started. An alert is also generated when each batch reaches completion or 
is terminated by the user. If the process runs successfully to 
completion, there will be an END alert for each START alert for each 
batch sequence number.
  
It has been seen at some test sites that the LRDFN may not be in the 
proper form.  Test sites have seen the LRDFN set to an inverse date/time 
(LRIDT) value, and in some cases the LRDFN contained a decimal 
(ex.123.5). If such a situation is discovered during the LOINC mapping 
process, a properly formatted LRDFN will be created in the ^LR(0) global
as the next available LRDFN.
There is a special sequence number (9999999) assigned to those LRDFNs
having LRIDT like format. This sequence will only be established if
required. 
 
Most sites will not have a 9999999 batch sequence number.
  
 NEW OPTIONS:
 ============
  
The following options are provided to manage the LOINC mapping processes. 
They are contained on the LOINC Historical Mapping Menu [LR LOINC 
HISTORICAL MAP MENU]. This menu is locked with the XUPROGMODE security 
key and located under the LOINC Mapping Utility Menu [LR LOINC UTILITY].
  
It is highly recommend that options provided by this patch be run during 
a 24 hour period of low system usage. Normally this would be during the 
week end. 
 
 
A. LAB DATA LOINC Mapping [LR LOINC HISTORICAL MAPPER 63] option
 
This is the primary historical LOINC mapping option that must be run at 
least once to update ^LR with appropriate LOINC mapping codes. This 
option can be run multiple times if required. This option will initiate 
the required number of background tasks to inspect the entire LAB DATA 
file and map verified CH subscripted tests with LOINC codes. This option 
should only be run during a 24-hour period when the system has low user 
activity. Note: This option is used also to restart the mapping process 
from the point of interruption. The mapping process will continue until 
all LRDFNs have been inspected.
 
The option is Locked by the XUPROGMODE security key.
  
Example of the option: User's responce inclosed in &lt; &gt;
  
Select LOINC Mapping Utility Menu Option:
   LOINC Historical Mapping Menu
  
 Select LOINC Historical Mapping Menu Option: ?
  
    1       LAB DATA LOINC Mapping
    2       Restart LOINC Historical Mapping
    3       STOP LOINC Mapping
    4       Modify LOINC Historical Mapping
  
 Select LOINC Historical Mapping Menu Option: &lt;1&gt;  
 D STOP^LRLNC63 to stop all background historical mapping.         
  
 This option should be run during 24 hour off peak time frame!!
  
  This option will queue multiple tasks to LOINC map               
          historical data in the LAB DATA (#63).                     
  
 Are you certain you wish to proceed? &lt;YES&gt;
  
 LRDFN Conversion Sequence 1-20001 Task number is 8718
 LRDFN Conversion Sequence 20001-40001 Task number is 8719
 
End of Option example:
==========
 
After successful completion of LOINC mapping for all tasks, the members 
of the G.LMI mail group will receive two types of notifications:
 
1. MailMan message containing all tests that were not LOINC mapped
2. Mailman message containing all tests that were mapped. This message is 
designed to be imported into a non VistA spread sheet program.
 
Using these two reports, the LIM will be able to determine mapping 
completeness and identify systematic mapping errors.
 
Here is an example of each.
 
Subj: LOINC Historical Mapping Exception Report  [#89761] 15 Feb 02 10:29
From: POSTMASTER (Sender: )  In 'IN' basket.   Page 1  *New*
--------------------------------------------------------------------------
List of tests missing RNLT codes in LABORTORY TEST (#60) file,
found during LOINC Historical Mapping process.
These test(s) will have no historical LOINC mapping performed.
  
[Test IEN]  Test Name  Type 
 
[37] BLEEDING TIME -- Type: BOTH
[353] SPHEROCYTES -- Type: OUTPUT (CAN BE DISPLAYED)
[356] HYPERSEGMENTED NEUTROPHILS -- Type: BOTH
[357] SMUDGE CELLS -- Type: BOTH
[137] RPR -- Type: BOTH
 
 
Subj: LOINC Historical Mapped LOINC tests  [#89762] 15 Feb 02 10:29
From: POSTMASTER (Sender:)  In 'IN' basket.   Page 1  *New*
--------------------------------------------------------------------------
List of test mapped to LOINC codes formatted with '^' as field delimiter.
 
DataName#^Test Name^Specimen^Specimen IEN^RNLT^NLT suffix^LOINC Code
2^GLUCOSE^PHARYNX^60^84330.0000^0^2339-0
2^GLUCOSE^BLOOD^70^84330.0000^0^2339-0
2^GLUCOSE^BLOOD^70^84330.0000^8638^2339-0
2^GLUCOSE^SERUM^72^84330.0000^0^2342-4
2^GLUCOSE^SERUM^72^84330.0000^3035^2342-4
2^GLUCOSE^SERUM^72^84330.0000^3103^2342-4
2^GLUCOSE^SERUM^72^84330.0000^8638^2342-4
3^UREA NITROGEN^RIGHT KIDNEY^11^84520.0000^0^3097-3
3^UREA NITROGEN^SERUM^72^84520.0000^0^6299-2
3^UREA NITROGEN^SERUM^72^84520.0000^3035^6299-2
3^UREA NITROGEN^SERUM^72^84520.0000^3103^6299-2
4^CREATININE^Missing^.8^82565.0000^0^2160-0
4^CREATININE^Missing^.9^82565.0000^0^2160-0
4^CREATININE^SERUM^72^82565.0000^0^2160-0
4^CREATININE^SERUM^72^82565.0000^3103^2160-0
 
B. STOP LOINC Mapping [LR LOINC HISTORICAL STOP 63] option
 
This option will stop all background LOINC historical mapping tasks. If 
for some reason the user wishes to stop/suspend LOINC mapping, this 
option will stop all background tasks. To continue the mapping process 
from the last LRDFN, use the primary option, LAB DATA LOINC mapping 
Option.
 
Example of the option:
 
Select LOINC Historical Mapping Menu Option: STOP LOINC Mapping
     Stopping all background LOINC historical mapping jobs
 
Are you certain you want to continue? &lt;YES&gt;
 
End of example
===========
 
C. Restart LOINC Historical Mapping [LR LOINC HISTORICAL RESTART 63]
 
This option will restart the mapping process from the very beginning. 
This option will reset all counters and reinitiate the ^XTMP("LRLNC63") 
global. After the temporary mapping globals have been reset, a call is 
made to the LAB DATA LOINC Mapping entry point. Rerunning this option is 
not harmful but the same 24 hours of low system usage considerations 
should be honored. 
  
Option is locked with the XUPROGMODE security key.
 
  Example of the option:
 
Restart LOINC Historical Mapping
 This will re-run LOINC Historical Mapping from the beginning
                         resetting all globals to zero.
                    To restart from a stopping point use the
                         LAB DATA LOINC Mapping Option.
 
 
Are you certain you want to proceed? &lt;YES&gt;
 
 D STOP^LRLNC63 to stop all background historical mapping tasks.
 
 This option should be run during 24 hour off peak time frame!!
 
 
        This option will queue multiple tasks to LOINC map
                    historical data in the LAB DATA (#63).
Are you certain you wish to proceed? &lt;YES&gt; 
 
End of option example.
 
=================
  
D. Modify LOINC Historical Mapping [LR LOINC HISTORICAL MODIFY]
  
This is a very powerful utility option to be used to reconcile previous 
LOINC historical mapping. A knowledgeable LOINC mapper (Laboratory 
Information Manager) is required to properly implement this functionality.
   
After the initial historical mapping has been completed, adjustments 
maybe required to modify the LOINC code lookup parameters to properly map 
past results. Careful review of current LOINC mapping should be done to 
establish IF there is a systematic error in LOINC code assignments. File 
definition corrections should be done to prevent future LOINC mapping 
errors. Re-running LAB DATA LOINC Mapping [LR LOINC HISTORICAL MAPPER 63] 
option will correct incorrectly assigned LOINC code problems.  
   
In those situations when editing LOINC mapping definition is not 
desirable, this option provides a method for the user to intervene in the 
mapping lookup logic for specific tests.
   
The user is able to select a lab test(s) [Atomic or Panel], then assign a 
specific suffix code to be used during LOINC mapping logic. In addition 
the user is able to force the Result NLT CODE (#64.1) of LABORATORY TEST 
(#60) for the test and the designated suffix code pair to override 
previous LOINC mapping.  
   
This is a very powerful feature, great care and study of systematic 
errors should be used before attempting correct past LOINC mapping 
systematic errors.
   
After the user has completed the modify LOINC mapping procedures, the LAB 
DATA LOINC Mapping option is called. All considerations of this option 
still apply. Most notably, only performing this mapping exercise during 
week ends or in a 24 period of lowest system activity. Even with the 
increased logic iterations, the process should complete within the 24 hr 
window of time.  
   
This option will allow the user to manage how a specific data name (test) 
will be mapped to LOINC Codes for historical data. The user is able to 
override file definitions to correct past LOINC mappings.
  
 1. Select the CH subscripted test
 2. Indicate the suffix to be used.
 3. The user can indicate if this suffix should override previous LOINC 
    Mapping. 
  
   Example of the option:
  
This option will REMAP your entire database using the parameters defined 
by this option. 
  
This option should only be run on week ends or after hours.  
   
   Do you wish to continue ? &lt;YES&gt; 
   
    Selection can be a 'CH' Atomic or Panel test .  
  
 Select test you want to modify mapping: &lt;CBC&gt; 
 Select Suffix Code: &lt;.4322&gt;    COULTER ELECTRONICS 
 Override previous LOINC mapping? &lt;YES&gt; 
   
          Selection can be a 'CH' Atomic or Panel test.  
  
  Select test you want to modify mapping: &lt;CALCIUM&gt;  
   Select Suffix Code: &lt;AA DIRECT&gt;   .3901   NOT SPECIFIED
  
  Override previous LOINC mapping? &lt;ret&gt;
   
       Selection can be a 'CH' Atomic or Panel test  
   
  Select test you want to modify mapping: &lt;ret&gt;
   
      Here is a list of what you have selected. 
              [O] indicates override current mapping
 .  DEVICE: HOME//     Right Margin:80//
  
  1 [0] WBC           COULTER A      /.4322
  2 [0] MCV           COULTER A      /.4322
  3 [0] MCH           COULTER A      /.4322
  4 [0] MCHC          COULTER A      /.4322
  5 [0] RDW           COULTER A      /.4322
  6     CALCIUM       AA DIRECT      /. 3901 
   
 You wish to add more? &lt;ret&gt;
   
 Do you want to delete an entry? &lt;ret&gt;
   
[NOTE: Those tests in the panel or atomic test that do not have a RESULT 
NLT CODE (RNLT) assigned will be omitted. If this is the case, abort and 
attend to the missing tests RNLT codes.] 
  
3.   Resolving the $SELECT  statements for normal ranges
 
This functionality provided by this patch is to resolve the normal 
range data stored in a $SELECT format in the LAB DATA file (63). This 
patch will determine the appropriate normal range for the result by 
resolving the $S( statement using the age of the patient at the time the 
specimen was collected. The $SELECT statement will be replaced with the 
appropriate numerical value.
  
  
The routines LRVER4 and LRVR4 are installed with this patch to prevent 
the storage of the $S statement in ^LR(LRDFN,"CH",LRIDT,LRSB) for future 
results.
  
The routine LRDAGE provides the patient's age at the time when the 
specimen was collected. The resulting age is used to determine normal 
range values for historical data.
  
  
 NEW FILES OR FIELDS:
 ===================
 Two new fields are added during installation of this patch.
  
 In the LABORATORY SITE (#69.9) file the following fields have been added.
  
 LOINC HISTORICAL MAPPING DATE (#95.3) field. 
 This is the date that the LOINC Historical mapping was completed. The 
 LAB DATA LOINC Mapping [LR LOINC HISTORICAL MAPPER 63] option populates
 this field after it has successfully completed all mapping.
  
 LOINC HISTORICAL LAST LRDFN (#95.31) field.
 This field is populated by the primary LOINC mapping option if all batch 
 (sequences) successfully run to completion.
 This field contains the last LRDFN that was mapped by the LAB DATA LOINC 
 Mapping [LR LOINC HISTORICAL MAPPER 63] option.
  
 ASSOCIATED NOIS
 ===============
   NONE
  
  
 TEST SITES
 ==========
  Minneapolis, MN
  North Chicago, Il
  Milwaukee, WI
  Salem, NC
  Martinez, CA
  Palo Alto, CA
  Durham, NC
  Long Beach, CA
  Muskogee, OK
  Fargo, ND
  Cincinnati, OH
 
 ROUTINE SUMMARY 
 ===============
 The following routines are included in this patch. The second line of 
 these routines now looks like:
 &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patch list&gt;;Sep 27, 1994
  
 Routine     Checksum       Checksum
 Name        Before Patch   After Patch   Patch List
 LR279       N/A            6316492       279 (Deleted
                                               by KIDS)
 LRDAGE      N/A            1480375       279
 LRLNC63     N/A            14818231      279
 LRLNC63A    N/A            9008516       279
 LRLNC63B    N/A            7526980       279
 LRVER4      19181995       18527473      14,42,112,121,140
                                          171,153,188,279
 LRVR4       8661306        8664360       14,42,121,153,221
                                          263,279
  
 List of preceding required patches:
 LR*5.2*188, LR*5.2*232, LR*5.2*263, LR*5.2*278
  
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
The install time for this patch is less than 5 minutes. Laboratory users 
should be off the system during installation. All other user may remain 
on the system.
  
Patch installation should be coordinated with the Laboratory Information 
Manager (LIM).
  
 1. If any of the above routines are mapped, disable mapping for those 
 routines.
  
 2. Use the 'INSTALL/CHECK MESSAGE' option of the PackMan Menu. This 
 option will load the KIDS patch onto your system.
  
 3. The patch has now been loaded into a Transport global on your system. 
 You now need to use KIDS to install the transport global.
  
 4. On the 'Kernel Installation &amp; Distribution System's Menu (KIDS) 
 select the 'Installation' menu.
  
 5. Use the 'Verify Checksum in transport Global' option and verify that 
 all routines have the correct checksums.
  
 6. On the KIDS menu, under the 'Installation' menu, use the following 
 options:
     Print Transport Global
     Compare Transport Global to Current System
     Backup a Transport Global
  
    If you wish to preserve a copy of the routines exported in this patch 
 prior to installation, you should use the 'Backup a Transport Global' 
 option. You may also compare the routines on your system to the routines 
 in the patch by using the 'Compare a Transport Global to your Current 
 System' option.
  
 7. Use the 'Install Package(s)' option under the 'Installation' menu and 
 select the package 'LR*5.2*279'.
 
 When prompted 'Want KIDS to INHIBIT LOGONs during install? YES// choose
'NO'.
 
 When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
 Protocols? YES//', choose 'NO'
  
 8. On mapped system, rebuild map set
  
 9. Routine LR279 will be deleted after successful patch installation.
 
 POST-INSTALLTION INSTRUCTIONS:
 =============================
  
 Perform LOINC historical mapping functions.
 
 
 ******************************************
 Installation Example:
  
 
Select INSTALL NAME:  LR*5.2*279 Loaded from Distribution  
2/26/02@17:15:29
     =&gt; LR*5.2*279
 
This Distribution was loaded on Feb 26, 2002@17:15:29 with header of 
   LR*5.2*279
   It consisted of the following Install(s):
     LR*5.2*279
Checking Install for Package LR*5.2*279
Will first run the Environment Check Routine, LR279
 
  Sending install started alert to mail group G.LMI     
 
          --- Environment Check is Ok ---        
 
Install Questions for LR*5.2*279
 
Incoming Files:
 
   69.9      LABORATORY SITE  (Partial Definition)
Note:  You already have the 'LABORATORY SITE' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO 
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET
                         
 Install Started for LR*5.2*279 : 
               Feb 26, 2002@17:18:32
 
Build Distribution Date: Feb 25, 2002
 
 Installing Routines:
               Feb 26, 2002@17:18:32
 
 Running Pre-Install Routine: PRE^LR279
 
         *** Pre install started ***          
 
         *** No action required ***    
 
         *** Pre install completed ***     
 
 Installing Data Dictionaries:
               Feb 26, 2002@17:18:33
 
 Installing PACKAGE COMPONENTS: 
 
 Installing OPTION
               Feb 26, 2002@17:18:33
 
 Running Post-Install Routine: POST^LR279
 
                          *** Post install started ***     
 
                 Adding 'LRRESOURCE' to the Device (#3.5) file 
 
                         *** Post install completed ***   
 
              Sending install completion alert to mail group G.LMI  
 
 Updating Routine file
 
 Updating KIDS files
 
 LR*5.2*279 Installed. 
               Feb 26, 2002@17:18:34
 
 Install Message sent #XXXXX
 
Install Completed
 
 End of example
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;271 SEQ #217</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-04-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*271 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
This patch addresses a fix to defects reported in NOIS BAF-0101-N2560
and BED-0201-12399. Additional problems (item 2) were identified during
software review for patch development. Listed below are the problems and
the corrective actions.
  
1. NOIS'es BAF-0101-N2560 and BED-0201-12399 reported when looking up
monthly accessions that the software was defaulting to the wrong year.
Routine LRWU4 has been corrected to default to the current year when a
user enters the accession date in the format MM00.
 
2. The following defects were identified during the software review as
part of patch development.
 
  a. When a user enters a partial accession and is prompted for an
accession date the software was not defaulting to past dates. Defect
corrected by including "P" in the variable %DT when calling FileMan's
%DT date processing routine.
 
  b. Routine LRFASTS called by option Fast Bypass Data Entry/Verify
[LRFASTS] does not handle non-daily accession areas correctly. The routine
was using the order date as the accession date which is only correct when
the accession area associated with a test is daily. LRFASTS has been
corrected to retrieve the accession area, date and number for a test from
LAB ORDER ENTRY file (#69). It will now function correctly when processing
acccessions from non-daily acession areas, i.e. monthly, quarterly and
yearly.
 
  c. Routine LRVERA was handling accession selection similiar to LRWU4.
This routine has been changed to call LRWU4.
 
  d. The entry for Quarterly accession transform in the EXECUTE CODE file
(#62.07) contains code that creates an invalid FileMan date for the 
accession date. The post install for this patch will check the EXECUTE
CODE file (#62.07) and ACCESSION file (#68) for entries using the
Quarterly accession transform and correct the code.
 
 
ASSOCIATED NOIS
---------------
 BAF-0101-N2560  
 BED-0201-12399
 
  
ASSOCIATED E3R'S
----------------
 None
 
 
TEST SITES
----------
 Ann Arbor VAMC
 Ashville VAMC
 Bedford VAMC
 Boston HCS
 Detroit VAMC
 Milwaukee VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR271            N/A            8038072        **271** (Deleted by KIDS)
   LRFASTS          8519940        6423167        **30,95,121,271**
   LRVERA           8140275        690805         **153,271**
   LRWU4            8927540        5815129        **128,153,201,271**
 
   
************************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minutes.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*271'. 

        When prompted "Want KIDS to Rebuild Menu Trees Upon Completion
        of Install? //YES", respond NO.
 
        When prompted "Want KIDS to INHIBIT LOGONs during the install?
        YES//", respond NO.
 
        When prompted "Want to DISABLE Scheduled Options and Menu Options?
        YES//", respond YES.  When prompted "Enter options you wish to mark
        as 'Out of Order':", enter the following to disable all Laboratory
        options:
 
           LR*
 
 
  7. On a mapped system, rebuild your map set.
 
  NOTE: Routine LR271 will be deleted after successful patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;282 SEQ #218</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-05-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 This patch resolves the following problem:
 
 CPRS calls a Lab API [INTERIM^LR7OGM] that extracts and formats
 lab data for reports on the LAB tab.  For results longer than
 7 characters, the data is being truncated and formatted incorrectly.
 This patch will correct the formatting of long results, by not
 truncating the results and breaking the line so that units and
 reference ranges continue on the next line.
 
 This patch to the Laboratory package does not contain any changes to the
 VISTA BLOOD BANK Software as defined by VHA DIRECTIVE 97-033 titled VISTA
 BLOOD BANK SOFTWARE VERSION 5.2.
 
 PROBLEM: CPRS calls a Lab API [INTERIM^LR7OGM] that extracts and formats
 lab data for reports on the LAB tab.  For results longer than
 7 characters, the data is being truncated and formatted incorrectly.
 
 RISK ANALYSIS:   Changes made by patch LR*5.2*282 have no effect on Blood
 Bank software functionality, therefore RISK is none.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*282 does not
 alter or modify any software design safeguards or safety critical elements
 functions.
 
 POTENTIAL IMPACT ON SITES:  Patch LR*5.2*282 contains no changes to
 routines identified in Veterans Health Administration (VHA) Directive
 97-033. There is no adverse potential to sites.
 
 VALIDATION REQUIREMENTS BY OPTION:  There are no required validation
 scenarios to be completed by sites after installing LR*5.2*282.
 
 TEST SITES FOR THIS PATCH:
 ==========================
 North Texas HCS
 Denver
 Tennessee Valley HCS
  
 RELATED NOIS:
 =============
 TNV-0801-30277
 NTH-0202-72720
 DEN-1298-51612
   
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
 
     &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
 
                            CHECK^XTSUMBLD results
 Routine name         Before Patch          After Patch         Patch List
 ============         ============          ===========         ==========
 LR7OGMP                   5364802              5548341        187,246,282
 
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch should be loaded during non-peak hours to minimize disruption
 to users.  Installation will take less than 1 minute.  Users may remain
 on the system.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2.  Review your mapped set.  If any of the routines listed in the
     ROUTINE SUMMARY section are mapped, they should be removed
     from the mapped set at this time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter LR*5.2*282):
         a.  Backup a Transport Global
         b.  Compare Transport Global to Current System
         c.  Verify Checksums in Transport Global
  
 5.  Use the Install Package(s) option and select the package LR*5.2*282.
  
 6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//'
     respond NO.
   
 7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO.
  
 8.  If routines were unmapped as part of step 2, they should be returned
     to the mapped set once the installation has run to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;272 SEQ #219</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-09-06 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*272 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*272 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*272 have no effect on Blood 
Bank software functionality, therefore RISK is none.
  
  
 Nineteen NOIS calls are addressed in this patch.  These are:
 
  LAH-0301-61651 - LAB RESULTS FOR URINE NOT TRIGGERING ALERT
   Providers who had notification for lab results enabled were not
   receiving alerts for urinalysis. A line of code has been added at
   label SNEAK+39 in routine LR7OB3 to correct this problem.
 
  HIN-0301-40344 - SPELLING NOTED
   The word "Finished" was misspelled in routine LRDRAW. The word
   "Report Completed" has replaced "Finished". A report
   header has been expanded to include the date and time.
 
  ISF-0899-61570 - LAB FILES ALLOWING LAYGO TO FILE 200
   The following fields were modified to not allow LAYGO in the
   NEW PERSON file (#200).
   
   LAB DATA (file #63)
     CHEM,HEM,TOX,RIA,SER,etc.(mult) (field #4)
       VERIFY PERSON  (field #.04)
                               
   LAB ORDER ENTRY (file #69)
     SPECIMEN (mult) (field #1)
       ENTERING PERSON (field #1)
       COLLECTOR (field #12)
 
  PHO-0699-61637 - QMONTH GIVING ORDER FOR EVERY DAY, NOT EVERY
                   MONTH
   NTH-0399-71865 - QMONTHLY DOESN'T WORK WHEN ORDERING LABS IN CPRS
   The 30 day limit imposed by the MAX DAYS FOR CONTINUOUS ORDERS
   sub-field (#6) in the HOSPITAL SITE FIELD (#9) of the LABORATORY
   SITE file (#69.9) has been changed to allow up to 370 days.
 
  FRE-0599-60964 - IMMEDIATE COLLECT ALWAYS ON
   The IMMED COLLECT ON sub field (#8) of the IMMED LAB COLLECT DIV.
   multiple (#5.1) in the LABORATORY SITE file (#69.9) was not
   properly checked. The logic in the $$ON^LR7OV4 API has been
   changed to properly determine the status of this field.
 
  CHY-0798-52175 - GRAPH RESULTS
  MOU-0498-32262 - PROBLEM WITH 0.0 VALUES ON QC DISPLAY
   Values such as 0.0 are not displaying using the Quality control
   display (Levey-Jennings) option.  If the techs manually edit
   these values to 0, they will display on the graph.  Changes have
   been made to allow 0.0 and 0 to display correctly.
 
  PUG-1297-50924 - OPTION REQUIRES LOWER CASE.
   The Fast Lab Test Order (Routine) [LROW ROUTINE] will not accept
   lowercase answers.  Changes have been made to line label % in
   routine LRORD1 to remove case sensitivity from this option.
 
  MUS-0996-71712 - NAT'L LAB TEST FILE LINKING SUBSCRIPT ERROR
   A Logic flaw in the lab code caused a National Lab Test file
   linking subscript error.  All instances of the flawed code have
   been corrected.
 
  ALN-0496-10819 - SERUM ANTIBIOTIC LEVELS LESS THAN 1
   Sites were having problems putting in antibiotic levels in the
   micro package that were less than 1.0.  Results of .75 etc would
   echo question marks back to the user.  Input transform located
   in the ANTIBIOTIC LEVEL field (#2)of sub-field of file (#63.42)
   located in the LAB DATA file (#63) has been corrected to allow
   results with 2 decimal places to be entered.
 
  TEM-0895-72227 - SEPARATE REPORT LOCATIONS NOT WORKING
   The site was instructed to put a prefix on their HOSPITAL
   LOCATION file (#44), so that they could differentiate after
   the integration. A problem arose when the cumulative used the
   abbreviation that was active at the time of the order.  After
   integration the location names and abbreviations contained
   the prefix, which caused the names in the Lab globals to no
   longer match file (#44).  This patch enables the printing of
   cumulative reports when multiple same name abbreviations have
   been detected in the LAB REPORTS file (#64.5).
 
  BUF-0895-11662 - USERS CHOOSE DEAD PROVIDER
  ALB-1099-52504 - LAB PACKAGE ALLOWS SELECTION OF TERMINATED USERS
   Users are able to choose a provider that recently died as the
   person ordering the lab tests.  Label P in routine LRWU1 has 
   been modified to use the DISUSER flag to check for terminated
   users.
 
  SAM-0895-20499 - CHECK FILES FOR INCONSISTENCIES
   Warnings were printed even though the "DO YOU WANT WARNINGS
   REPORTED? No//" prompt was answered with NO.  Extensive
   modifications have been made to the routines called by the
   Check files for inconsistencies [LRCHKFILES] option to correct
   this problem.
 
  AMA-0695-70804 - E VARIABLE FOR %DT NOT WORKING
   The date/time stamp printed to screen, but not to a printer.
   The reports were using the string 'S X="N",%DT="ET" D ^%DT"
   to print date/time.  The call has been updated to use
   '$$FMTE^XLFDT($$NOW^XLFDT,"").'  The call to STAMP^LRX is no
   longer used.
 
  HUN-0501-21203 - INCORRECT SPELLING IN LOADLIST.
   An incorrect spelling in the EXPAND PANELS ON PRINT field 
   (#.06) Of the LOAD/WORK LIST file (#68.2) has been corrected.
 
  LEX-0201-41741 - IMMEDIATE COLLECT SETTINGS BEING OVERRIDDEN
   Immediate collect times are being rejected if seconds are
   entered.  Label VALID+10 in routine LR7OV4 has been modified
   to allow the entry
   of seconds in the collect time.
 
  HIN-0701-42680 - QUESTION RE: Y2K DATE FORMAT
   The Y2K conversions changed the format of the date generated
   by PRTEST+5^LRSORA2 from MMM DD 'YY to MMM DD 'YYYY.  The
   apostrophe in the new format is not necessary.  The routine
   has been modified to eliminate the extraneous data.
 
 
 Reference NOIS:   LAH-0301-61651
                   HIN-0301-40344
                   ALB-1099-52504
                   ISF-0899-61570
                   PHO-0699-61637
                   NTH-0399-71865
                   FRE-0599-60964
                   CHY-0798-52175
                   MOU-0498-32262
                   PUG-1297-50924
                   MUS-0996-71712
                   ALN-0496-10819
                   TEM-0895-72227
                   BUF-0895-11662
                   SAM-0895-20499
                   AMA-0695-70804
                   HIN-0701-42680
                   HUN-0501-21203
                   LEX-0201-41741
 
 
 Reporting Site:   Salem
                   Upstate New York HCS
                   Muskogee
                   Puget Sound HCS
                   Central Plains HCS
                   OIFO San Francisco
                   Mountain Home
                   Fresno
                   VA Greater Los Angeles HCS
                   North Texas HCS
                   Central Texas HCS
                   Hines
                   Albuquerque
                   Phoenix
                   Amarillo
  
  
 Test Site(s):     Mountain Home
                   Fresno
                   VA Greater Los Angeles HCS
                   Hines
                   Phoenix
                   Milwaukee
  
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR7OB3           12268913       12535845       **121,187,272**
   LR7OU4           11991663       12012587       **127,163,272**
   LR7OU5           12940594       13182116       **127,201,272**
   LR7OV4           5864196        5923833        **187,256,272**
   LRAC14           NEW            3263466        **272**
   LRACKL           13626594       13895634       **272**
   LRACKL1          2455270        2474094        **272**
   LRCKF            4058690        11756610       **272**
   LRCKF60          11681052       36215686       **272**
   LRCKF62          1728069        5812635        **272**
   LRCKF64          NEW            18720941       **272**
   LRCKF68          14560856       32159749       **272**
   LRCKF68A         NEW            25765404       **272**
   LRCKF69          4913799        18312081       **272**
   LRCKFLA          9589815        39228904       **272**
   LRCKFLAA         NEW            38310091       **272**
   LRCKPTR          10069312       15162494       **272**
   LRDIST1          14640547       15053872       **108,126,272**
   LRDRAW           8422619        8812401        **121,190,272**
   LRHDR            2828970        3185180        **272**
   LRMIHDR          7371024        7468554        **45,272**
   LRSORA2          3589912        3614713        **2,62,201,272**
   LRSORB           5246084        5387827        **272**
   LRWU1            3871530        4042564        **153,272**
 
List of preceding patches: 45, 126, 153, 163, 187, 190, 201, 256
Sites should use CHECK^XTSUMBLD to verify checksums.
 
   NOTE: The "before" checksums may not match for the LRAC14,
         LRACKL, and LARACKL1 routines if your site was a test
         site for the unreleased patch LR*5.2*170.
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system, but installation should be
           done at off peak hours.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*272'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;285 SEQ #220</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-10-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See patch description for details.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;288 SEQ #221</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-12-09 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being released in support of the VBECS (Vista Blood 
Establishment Computer Software) Blood Bank Modernization Project.  In 
the future, data will be transitioned from the existing M database to a 
Microsoft SQL database.  The API's release in this patch will allow the 
Health Summary and Surgery packages to transition to the new database 
when it is released.
 
 Get Transfusion Data
      TRAN^VBECA4     This API will be a shell to an API that already
                      exists (XTRCT^GMTSLRTE).  The new API will pass
                      the DFN, the TMP subscript location, the inverse
                      end and inverse beginning date of search in a
                      call to the existing routine.
 
 Get All Available Units
      AVUNIT^VBECA4   This API will be a shell to an API that already
                      exists (XTRCT^GMTSLRBE).  The new API will pass
                      the DFN, the TMP subscript location, the inverse
                      end and beginning date, and the max number of
                      records in a call to the existing routine.
 
 Blood Product Lookup for Surgery
      ^VBECA5A        The VBECA5A API has been created to allow the
                      Surgery package to convert the existing pointer
                      fields  used to list available Blood Products
                      contained in the Blood Product file (#66), with a
                      free text field.  The transition of the Blood
                      Bank system from the existing M based system to a
                      .NET/SQL based system will eliminate the ability
                      of the Surgery package to access the Blood Product
                      data using the current method.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*288 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*288 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
 RISK ANALYSIS: Changes made by patch LR*5.2*288 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
 DBIA: 3176-A
       3176-B
       3631
 
 Reference NOIS:   None
 
 Reporting Site:   None
  
 Test Site(s):     Beckley, WV
                   Durham, NC
                   Puget Sound HCS
                   San Diego, CA
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;0.5;VBECS;&lt;patchlist&gt;;APR 26, 2002
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   VBECA4           NEW            4083168        288
   VBECA5A          NEW            790890         288
 
List of preceding patches: None
Sites should use CHECK^XTSUMBLD to verify checksums.
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*288'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;292 SEQ #222</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-12-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*292 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*292 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*292 have no effect on Blood 
Bank software functionality, therefore RISK is none.
  
  
 The Blood Bank Report under the Reports tab in CPRS was hard coded to 
display "Blood Bank" as the location of the unit if the unit has been 
crossmatched and not dispositioned.  
 
  Old Format:
                             ---- BLOOD BANK ----
ABO Rh:  O POS
   Antibodies identified: ANTI E; 
 
 
     Unit assigned/xmatched:            Exp date        Loc
 1)  04ABC  CPDA-1 RED BLOOD CE  O POS  Apr 25, 2002    Blood Bank
 2)  04ABC2 CPDA-1 RED BLOOD CE  O POS  Apr 25, 2002    5 DALLAS
 
 The report has been changed to display "BB-" and the institution that 
logged the unit.
  
  New Format:
                             ---- BLOOD BANK ----
ABO Rh:  O POS
   Antibodies identified: ANTI E; 
 
 
     Unit assigned/xmatched:            Exp date        Loc
 1)  04ABC  CPDA-1 RED BLOOD CE  O POS  Apr 25, 2002    BB-Dallas CIOFO
 2)  04ABC2 CPDA-1 RED BLOOD CE  O POS  Apr 25, 2002    5 DALLAS
 
 
 Reference NOIS:   HEH-0702-41979
 
 
 Reporting Site:   HEARTLAND-EAST HCS
  
  
 Test Site(s):     HEARTLAND-EAST HEALTH CARE SYSTEM
  
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
 
   LR7OSBR1         22601409       22738094       121,201,228,
                                                  230,292
 
List of preceding patches: 121,201,228,230
Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system, but installation should be
           done at off peak hours.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*292'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;283 SEQ #223</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-12-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
LAB RESULTS REPORTING LR*5.2*283

Associated patches: (v)LR*5.2*201  &lt;&lt;= must be installed BEFORE `LR*5.2*283'
                    (v)LR*5.2*279  &lt;&lt;= must be installed BEFORE `LR*5.2*283'
                    (v)XU*8*217    &lt;&lt;= must be installed BEFORE `LR*5.2*283'    

Subject: LAB RESULTS REPORTING

Category:  ROUTINE
           ENHANCEMENT

Description:
===========

 *************************************************************************
     KERNEL PATCH XU*8*217 MUST BE INSTALLED BEFORE LR*5.2*283
 *************************************************************************
 
This patch to the Laboratory package does not contain any changes to the 
VISTA BLOOD BANK Software as defined by the VHA DIRECTIVE 99-053 titled 
VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
The purpose of the LAB RESULTS REPORTING patch, LR*5.2*283, is to enhance
the VistA Laboratory software to print the name and address of the laboratory
that performed a test procedure on patients' laboratory reports.  Currently
the physical address of the laboratory where the test is performed is not 
provided on laboratory reports, which is a Joint Commission on 
Accreditation of Healthcare Organizations (JCAHO) and College of American 
Pathologists (CAP) deficiency.  This patch will resolve any existing data
quality issues concerning the lack of the performing laboratory name and
address on patient's reports therefore bringing VA laboratories
into compliance with JCAHO and CAP standards.

All Cumulative and Interim Reports are modified to include the
performing lab site (PLS) name and address information in the body of the
report.  The performing lab site for each test is noted by the internal
 entry number of the performing lab site in the INSTITUTION file (#4).
All Cumulative Report options are modified to the interim report format and
will include the address page(s) which will be printed at the end of the
report.  Site codes are available for chemistry tests only.  There will be
no site codes printed for microbiology or anatomic pathology tests at this
time because they are unavailable.
 
********************
Below is an example of modified interim report format with the performing 
lab site names, addresses and site codes printed on a separate page:
 
Printed at:                                                                 
                                             page 1
Dallas Medical Center (428)   123 Lancaster Dallas, TX 75050
 
BLOW,BILLIE                                      Report date: 04/25/2002 2:49 pm
     SSN: 213-12-5823    SEX: F    DOB: 12/29/1956    LOC: 5N
 
       Provider: BEAR,GUMMY O
       Specimen: SERUM
Accession [UID]: CH 0425 1 [0421150001]
 
                     Specimen Collection date: 04/25/2002 14:48
       Test Name       Result  Units   Ref. Range      Site Code
       ANION GAP       9 L     meq/L   10 - 22         [123]
       CAL OSM         276    mOsm/L  275 - 300        [428]
       CREATININE      1.1     mg/dL   .8 - 1.2        [456]
       UREA NITROGEN   8 L     mg/dL   11 - 24         [456]
       GLUCOSE         104     mg/dL   60 - 123        [428]
       Eval: This one has an interpretation.
       SODIUM          144     meq/L   135 - 145       [987]
       POTASSIUM       4.5     meq/L   3.8 - 5.3       [428]
       CHLORIDE        105     meq/L   100 - 108       [428]
       CO2             30      meq/L   23 - 31         [428]
       CALCIUM         8.5 L   mg/dL   9 - 11          [428]
       AMYLASE         65      IU/L    14 - 110        [428]
Comment: Demonstration purposes 
============================================================================
       KEY: "L"=Abnormal low, "H"=Abnormal high, "*"=Critical value
 
BLOW,BILLIE                213-12-5823  04/25/2002 2:49 pm
 
 
                                                                 page 2
BLOW,BILLIE              213-12-5823           04/25/2002 2:49 pm
 
PERFORMING LAB SITES
[123]  Oklahoma City    713 East 13  OKC, OK 73113
 
[456]  Muskogee         500 Honor Heights Drive  Muskogee, OK 74401
 
[987]  Lab Quest        624 Downtown Ave   Somewhere, USA
 
 
 
MODIFIED OPTIONS:
================
 
NAME: LRAC DISCHARGE         MENU TEXT: Patient Lab Discharge Summary 
(Manual)
  TYPE: run routine 
   DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM FORMAT.  The report 
prints site codes for tests and prints a separate page(s) at the end of the 
report which lists the performing lab name, address and site code.  This option 
will print interim reports for a selected patient within a given time period.  
The printout will go inverse date order.  This report will output all tests 
for the time period specified.  This option will only print verified results.   
  ROUTINE: CUM^LRRP2
 
 
NAME: LRAC PT     MENU TEXT: Reprint cumulative on a given patient
  TYPE: run routine
 DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT. The report 
prints site codes for tests and prints a separate page(s) at the end of the 
report which lists the performing lab name, address and site code.  This option 
will print interim reports for a selected patient within a given time period.  
The printout will go inverse date order.  This report will output all tests 
for the time period specified.  This option will only print verified results.
  ROUTINE: CUM^LRRP2
 
 
NAME: LRAC LOC     MENU TEXT: Reprint cumulative on a given location
  TYPE: run routine 
 DESCRIPTION:   THIS OPTION NOW PRINTS IN THE INTERIM FORMAT. The report 
prints site codes for tests and prints a separate page(s) at the end of the 
report which lists the performing lab name, address and site code.
  This option reports all verified results from one location for one day.
  ROUTINE: CUMSGLE^LRRS 
 
 
NAME: LRAC LOC-LOC     MENU TEXT: Reprint cumulative from location to 
location
  TYPE: run routine 
 DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT.  The report
prints site codes for tests and prints a separate page(s) at the end of the
report which lists the performing lab name, address and site code.
Detailed report format for all data for one day sorted by location. This option
will only print verified results.  The date chosen for this report is the
collection date.  If a test is ordered on one day and verified on the next 
day,you must select the order date to see the report with this option.
  ROUTINE: CUM^LRRS
 
 
NAME: LRAC 1 PAGE     MENU TEXT: Reprint a permanent page from cumulative
  TYPE: run routine  
 DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT.  The report
prints site codes for tests and prints a separate page(s) at the end of the
report which lists the performing lab name, address and site code.
This option will print interim reports for a selected patient within a 
given time period.  The printout will go inverse date order.  This report will 
output all tests for the time period specified.  This option will only print 
verified results.  
  ROUTINE: CUM^LRRP2 
 
NAME: LRAC MANUAL     MENU TEXT: Manual queuing of cumulative
  TYPE: run routine      
 DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT.  The 
report prints site codes for tests and prints a separate page(s) at the end
of the report which lists the performing lab name, address and site code.
This option will print interim reports for a selected patient within a 
given time period.  The printout will go inverse date order.  This report will 
output all tests for the time period specified.  This option will only print 
verified results.  
  ROUTINE: CUM^LRRP2
 
NAME: LRAC FULL PATIENT SUMMARY     MENU TEXT: Print a full patient summary
TYPE: run routine    
DESCRIPTION:   Prints a full patient summary using the interim report 
format.  It simply captures all lab data on a patient and prints the performing
lab sites and addresses on a separate page(s).  
ROUTINE: SUM^LRACM2
 
 
NAME: LRRD      MENU TEXT: Interim report by provider
TYPE: run routine      
DESCRIPTION:   This option is used to obtain all data on one day for 
selected providers.  All providers may be selected or a range of providers 
(this may be helpful if obtaining reports for all providers but you wish to 
split the load between multiple printers).  Multiple selections are allowed for
selecting specific providers.  All reports are sorted by provider name. If no 
results are available for a provider, the option will print the provider's name
followed by the next provider's name.  This option is an alternative to 
having the Interim report tasked to the taskmanager.  Only verified results will
be printed.  This option is not part of the cumulative report and should not 
be charted.  The date chosen for this report is the collection date.  If a 
test is ordered on one day and verified on the next, you have to select the 
order date to see the report.  The report prints site codes for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code. 
ROUTINE: LRRD
 
 
NAME: LRRD BY MD     MENU TEXT: Interim reports for 1 provider (manual queue)
TYPE: run routine    
DESCRIPTION:   This option reports all verified results for one day for 
one provider.  The user will request the date and provider.  This option will 
only print verified results.  The date requested should be the date the lab 
work was collected.  This option is to be used for information only and should 
not be charted.  The report prints site codes for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code.  
ROUTINE: SINGLE^LRRD
 
 
NAME: LRRP3     MENU TEXT: Interim report for chosen tests
TYPE: run routine              
DESCRIPTION:   This report will display results in inverse date order.  
The option allows the user to select a specific test or panel of tests for a
 specified time period.  Regardless of whether the orders have been purged, 
the results may be displayed.  The report should not be charted.  The report
prints site codes for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code.  
ROUTINE: LRRP3
 
 
NAME: LRRP2     MENU TEXT: Interim report  
TYPE: run routine   
DESCRIPTION:   This option will print or display interim reports for a
selected patient, within a given time period.  The printout will go in 
inverse date order.  This report will output all tests for the time period 
specified.  If no results are available, the option will ask for another 
patient.  This option will only print verified results.  The report prints
site codes for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code.  
ROUTINE: LRRP2         
 
 
NAME: LRRS     MENU TEXT: Interim reports by location (manual queue)
TYPE: run routine             
DESCRIPTION:   Detailed report format for all data for one day sorted by
location.  This option is an alternative to having the Interim report 
tasked to the taskmanager.  For tasking, see option LRTASK DAILY INTERIM 1.  If 
no results are available for a location, the option will print out the 
location heading followed by the next location heading.  This option will only 
print verified results, is not part of the cumulative report and should not be
 charted.  The date chosen for this report is the collection date.  If a 
test is ordered on one day and verified on the next day, you must select the 
order date to see the report with this option.  The report prints site codes
for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code.
ROUTINE: LRRS12
 
 
NAME: LRRSP     MENU TEXT: Interim report for selected tests as ordered
TYPE: run routine          
DESCRIPTION:   Detailed report format for an individual patient.  Report 
is done for selected tests as they are ordered.  If the orders have been 
purged, the results will not be found because the result look-up is dependent 
on the orders.  This option allows the user to select a specific test or panel, 
or select the "ANY" test default which will output all the verified tests for
that patient during the time period specified.  If no results are available,
the option will ask for another patient.  This option will only print 
verified results and should be used for information only.  The option should
not be charted.    The report prints site codes for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code.
ROUTINE: LRRSP 
 
 
NAME: LRRS BY LOC     MENU TEXT: Interim reports for 1 location (manual queue)
TYPE: run routine              
DESCRIPTION:   This option reports all verified results from one location 
for one day.  The user will request the date and location.  This option will 
only print verified results.  This option is to be used for information only 
and should not be charted.    The report prints site codes for tests.  
You will be asked if you would like to print an address page.  The address page
prints on a separate page(s) at the end of the report and lists the performing
lab name, address and site code.
ROUTINE: SINGLE^LRRS
 
NAME: LRTASK CUM    MENU TEXT: TASK THE CUMULATIVE TO RUN EACH NITE
  TYPE: run routine             
 DESCRIPTION:   THIS OPTION NOW PRINTS IN THE INTERIM REPORT FORMAT.  The
 report prints site codes for tests and prints a separate page(s) at the 
end of the report which lists the performing lab name, address and site code.  
This function is automatically run by the TaskManager.  This is the daily 
interim cumulative report.  
  ROUTINE: AIDQ^LRRP2                   
  SCHEDULING RECOMMENDED: YES
 
 
Testing Sites:
==============
Detroit VAMC
Little Rock VAMC
Asheville VAMC
Bay Pines VAMC
Muskogee VAMC
VISN 2
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
 
 
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR283            N/A             4564779       283 (Deleted by KIDS)
   LRACM2           9935205         10300781      201,283 
   LRMIPC           4251892         4206392       121,283
   LRMIPSZ1         12406819        12393254      283     
   LRRD             8518201         8109636       221,283
   LRRK             5712336         5740293       283
   LRRP             11856365        11838355      195,221,283
   LRRP1            7638502         8015031       153,221,283
   LRRP2            14561533        15278779     106,121,221,283
   LRRP3            8171424         8443889       283
   LRRS             8707990         8838761       283
   LRRS12           3898956         3814610       1,283
   LRRSP            3969248         4067808       121,283
   LRVER4           18527473        19639169      14,42,112,121,140,171,
                                                   153,188,279,283
   LRVER5           14580554        14564045      42,153,283
   LRVR4            8664360         8885386       14,42,121,153,221,263,279,283
   LRVR5            11729747        11950773      1,42,153,263,283
 
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
ASSOCIATED NOIS:
================
 
TUC-1101-60420
FGH-0401-32373
VAC-0401-21831
ALB-1298-50579
AMA-1198-70074
GNH-0298-42213
HVH-1097-11793 
STX-1101-70707
 
 When users select the Interim report for selected tests as ordered
 [LRRSP] option and enters a patient who requires a means test an undefined 
 variable error occurred.  This undefined variable I at BEGIN in routine LRRSP
 has been fixed.   
 
ASSOCIATED NOIS:
================
 
SBY-0301-31020
TOG-0101-12404
MOU-0101-30818
DAY-1197-40980
ASH-1100-30244
 
The Interim reports by location (manual queue) [LRRS] option does not       
operate properly when "Selected Locations" are selected.  No output is      
produced.  This problem is fixed.
 
ASSOCIATED NOIS:
================
 
WPB-0100-32328
SLC-1299-51576
SFC-1299-60391
 
 A problem with Interim report by provider [LRRD] option which prints numerous
 provider name pages equal to the number of days the report is queued to
 print when printing a hard copy is fixed.  The provider name in large 
 letters pages are no longer printed.
 
ASSOCIATED NOIS:
================
 
IOW-0897-20334
PUG-0198-52088
 
**********************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: Off peak hours when cumulative and interim 
  reports are not running.
 
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.

 ***** Kernel patch XU*8.0*217 must be installed prior to this patch.*****
       This patch contains the physical location address fields and an
       option to edit these fields.  Each site must assign the 
       responsibility of data entry for the lab sites/institutions.
       The person(s) responsible should be assigned the Kernel 
       IMF address edit [XUMF IMF ADD EDIT] option to edit the physical address.
      
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this 
      patch prior to installation, you should use the 'Backup a Transport
      Global' option at this time.  You may also compare the routines in
      your production account to the routines in the patch by using the
      'Compare a Transport Global to Current System' option.
 
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*283'.
 
      If prompted ' Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' choose 'NO'.
 
      If prompted ' Want KIDS to INHIBIT LOGONs during the install? YES// '
      choose 'NO'.
 
      If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LR283 will be deleted after successful patch installation.
 
  
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;274</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-01-09 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*274 contains no changes to software 
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.  
  
==================== 
Patch Description:
 
(1) WKLD CODE (#64) file is updated with the latest released National 
Laboratory Test (NLT) codes.
 
 
(2) This patch allows the user to manually encode CPT codes for a given 
accession. This method of CPT coding does not use the CPT codes 
associated by the mapping of LABORATORY TEST file (#60) entries to WKLD 
CODE file (#64).
    The user can select any appropriate CPT code(s) to identify the 
professional service(s) rendered during this particular tissue exam. The 
user can select from a pre-defined pick list or enter CPT codes 
individually separated by commas ",".
    The pick list can be defined by editing the ES DISPLAY ORDER field 
(#26) of the WKLD CODE file (#64). The number entered in the ES DISPLAY 
ORDER field controls the order of CPT codes in the pick list. The 
numerical order of the pick list uses the number entered in ES DISPLAY 
ORDER field for each WKLD CODE defined.
 
(3) The NLT Mapped Code Search [LRCAP64S] option has been changed to 
correctly respond to the following prompt at the end of each page:
"Enter RETURN to continue or '^' to exit:"
 
======================= 
New/Enhanced Options:
 
1. Edit or Print WKLD CODES [LR WKLD CODE EDIT PRINT] option has been 
enhanced to include the new field ES DISPLAY ORDER (#26) of WKLD CODE 
(#64) file. This option is used to print or edit fields in the WKLD CODE 
(#64) file. 
2. The new option LAB CPT BILLING [LRCAPES] has been created to provide 
manual CPT billing and laboratory workload capture. The LAB CPT BILLING 
option has no security key restriction. The option has been added to the 
Verify/release menu, anat path [LRAPVR] option.
    The LAB CPT BILLING option can be used anytime after the accession 
has been created. If the accession has been purged, the option cannot be 
used. The LAB CPT BILLING option has two functions:
 
   A.  If the procedure was ordered on a patient from PATIENT (#2) file, 
from a location that has TYPE (#2) of CLINIC, MODULE or OTHER as defined 
in the HOSPITAL LOCATION (#44) file, the user identified CPT codes will 
be passed to the Laboratory PCE API. If the PCE API accepts the passed 
data, the PCE ENC # (30) field of the ACCESSION NUMBER SUB-FIELD (#68.02 
of the DATE SUB-FIELD (68.01) of the ACCESSION (#68) file will be 
populated with the PCE visit number. CPT billing can be done multiple 
times for the same accession. 
 
   B. The software will also capture the WKLD CODE(s) associated with the 
ES DISPLAY ORDER number. This data will be captured as laboratory 
workload. It will be reported based on the current LMIP workload 
reporting protocol.
 
3. Electronic Catalog Print [LA7S PRINT CATALOG] option [LA7S PRINT] 
template has been modified to display the LEDI HL7 (#.09) field of the 
TOPOGRAPHY FIELD (#61) file instead of the SNOMED CODE (#2) field. This 
is to assist LEDI collection sites with defining the LAB SHIPPING 
CONFIGURATION (#62.9) file.
 
4. Print log book [LRAPBK] option has been enhanced to display a list of 
CPT codes passed to PCE for outpatients. This option can also be used to 
provide a partial audit of CPT coding practices.
 
=================
Required Patch List: LR*5.2*163
                     LR*5.2*264
                     LR*5.2*258
                     LR*5.2*266
=================
NOIS:       SAM-1102-20599
            BHS-0990-11616 
 
=================
Files:
There are no new files contained in this patch. However the following 
files will be updated with additional data.
(1) WKLD CODE (#64) file will be updated with any missing National 
Laboratory Test (NLT) codes during the post installation phase. LAB 
NLT/CPT CODES (#64.81) contains a complete listing of NLT codes. WKLD 
CODE (#64) file is checked to determine if an NLT code should be added. 
If the new NLT code is successfully added to WKLD CODE (#64) file or the 
NLT code already exists, the entry in LAB NLT/CPT CODES (#64.81) file is 
deleted.
 
 
(2) The TEST/PROCEDURE (#.01) field of the SPECIMEN # (#1) subfile of LAB 
ORDER ENTRY (#69) file, input screen has been changed to allow the entry 
of LABORATORY TEST (#60) that have the TYPE (#3) field set to OUPUT. This 
screen was changed in the software of an earlier released patch. The user 
should see no difference in software behavior.
 
 
(3) The DSS TEST NUMBER (#.01) field of the RESULT (#8) subfile of LAR 
DSS LAR EXTRACT (#64.036) file has been increased from 50 to 300 to 
accommodate patch ECX*3*47 number of tests to be extract.
 
Below is a listing of files exported by this patch, indicating if the 
imported file will contain additional data.
                                           
FILE #      NAME                       With Data    
----------------------------------------------
 
64          WKLD CODE                    NO   
64.036      LAB DSS LAR EXTRACT          NO
64.2        WKLD SUFFIX CODES            YES
64.21       WKLD CODE LAB SECT           YES
64.22       WKLD ITEM FOR COUNT          YES
64.3        WKLD INSTRUMENT MANUFACTURER YES
64.81       LAB NLT/CPT CODES            YES
68          ACCESSION                    NO    
 
 
Note:
The LAB NLT/CPT CODES (#64.81) file is purged during the pre-installation 
phase. This file is only used to update THE WKLD CODE (#64) file and has 
no other purpose or function. This file will have no data after the post 
installation routine has successfully run to completion.
 
====================== 
New Fields:
 
ES DISPLAY ORDER(#26) field has been added to the WKLD CODE (#64) file. 
This field is used by the LAB CPT BILLING option to display a pick list 
of those CPT codes defined by the NLT code. CPT codes can be selected by 
using this number.
 
PCE ENC # (#30) of ACCESSION NUMBER SUB-FIELD (#1) of ACCESSION (#68) 
file has been added. This free text field contains a list of PCE Visit 
numbers generated for this accession. If there are multiple visit numbers 
for this accession they are separated by ';'. This field is only 
populated if professional service PCE workload is generated. This is 
usually the type of PCE workload generated by the Pathologist reporting 
anatomic pathology services. PCE workload is only generated for those 
hospital locations with the type of clinic, module or other. 
 
Note:
No PCE workload is generated for inpatient locations.
 
========================= 
Modified Print Template:
 
Electronic Catalog Print [LA7S PRINT CATALOG] option LA7S PRINT template 
has been changed to display the LEDI HL7 (#.09) field instead of SNOMED 
CODE (#2) in TOPOGRAPHY FIELD (#61) field. The LEDI HL7 field is required 
by LEDI collecting sites when defining tests to be sent to the Host 
laboratory and shipping manifest. The LEDI HL7 specimen must match the 
specimen the HOST laboratory requires.
 
==========================
Input Template:
  Input Template [LR WKLD EDIT ALL] has been modified to allow editing of 
all user definable fields in the WKLD CODE (#64) file. Most notable is 
that the LOINC CODE (#4) field of the TIME ASPECT (#30) sub-file of the 
WKLD CODE (#64) file. This template is very useful to delete or correct 
LOINC CODE entry in the WKLD CODE (#64) file.
  Input Template [LR WKLD ES CPT] is designed to allow quick editing of 
the ES DISPLAY ORDER (#26) field and to edit all CODE (#18) sub-file 
entries. The CODE sub-file is where CPT CODE assignments are entered. 
 
=========================
 
Test Sites: Muskogee, OK
            Long Beach, CA
            Durham, NC
            Lake City, FL
            Central Texas
            Gainesville, FL
            Boston, HCS
            St. Louis, MO
            
 
========================= 
Routine Summary:
 
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                             CHECK^XTSUMBLD results
 
Routine         Before      After     Patch
Name            Patch       Patch     List
LR274           N/A         6102494   274 (Deleted by KIDS)
LR274PO         N/A         9865530   274 (Deleted by KIDS)
LR274POA        N/A         4193520   274 (Deleted after install)
LRAPBK          12411722    13558720  51,72,201,274
LRCAPES         N/A         12983418  274
LRCAPES1        N/A         8132160   274
LRCAPFDS        9495229     9744247   105,119,127,163,274
LRCAPPH1        11010117    11352750  127,136,138,158,263,264,274
LRTT5P1         12439150    12768427  153,221,263,274
LRTT5R1         6009458     6020078   153,201,274
LRVER3A         10508599    10313641  1,5,42,100,121,153,190
                                      221,254,263,266,274
 
===========================
Required Patches:
LR*5.2*163
LR*5.2*201
LR*5.2*263
LR*5.2*264
LR*5.2*266
LR*5.2*258
 
========================= 
Installation Instructions:
 
The patch LR*5.2*274 KIDS build file named LR52_274.KID stored in the 
ASCII format can be obtained from the following Office of Information 
Field Offices(OIFOs) ANONYMOUS SOFTWARE directories
OIFO         FTP Address                Directory
Albany       ftp.fo-albany.domain.ext   anonymous.software 
Hines        ftp.fo-hines.domain.ext    anonymous.software
Salt Lake    ftp.fo-slc.domain.ext      anonymous.software
 
 
All users may remain on the system.
 
Note: The patch should be installed during off peak hours.
 
No laboratory background jobs need to be stopped. No options need to be
placed out of service.
 
From the Kernel Installation &amp; Distribution System (KIDS) menu 
 
         1. Use the 'Load a Distribution' option to load the 
            LR52_274.KIDS file onto your system.
         2. The patch has now been loaded into a Transport global
            on your system. You now need to use KIDS to install
            the Transport global.
            On the KIDS menu, under the 'Installation' menu, use 
            the following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         3. Users may remain on the system, but installation 
            should be done at off peak hours.
         4. Installation time is less than 5 minutes during off 
            peak hours and less than 15 minutes during peak hours.
         5. Installation of this patch requires no additional 
            memory space.
         6. From the 'Installation Menu' of the KIDS menu, run the 
            option
            'Install Package(s)' Select the package 'LR*5.2*274' 
            and proceed with the install.
         7. When prompted 'Want KIDS to INHIBIT LOGONS during the
            install? YES//' respond NO.
         8. When prompted 'Want to DISABLE scheduled Options, Menu
            Options, and Protocols? YES//' respond NO.
 
 
======================
Example of install:
 
Select Installation Option: INSTAll Package(s)                 
Select INSTALL NAME: LR*5.2*274       Loaded from Distribution  
7/11/02@09:42:27
     =&gt; LR*5.2*274                                                      
                                                                  
This Distribution was loaded on Jul 11, 2002@09:42:27 with header of      
   LR*5.2*274                                                           
   It consisted of the following Install(s):                            
     LR*5.2*274                                                         
Checking Install for Package LR*5.2*274                                 
Will first run the Environment Check Routine, LR274                     
                                                                        
                                                                        
               Sending install started alert to mail group G.LMI        
                                                                        
                        --- Environment Check is Ok ---                 
                                                                        
Install Questions for LR*5.2*274                                        
                                                                        
Incoming Files:                                                        
 
   64        WKLD CODE                                                  
Note:  You already have the 'WKLD CODE' File.                           
 
   64.036    LAB DSS LAR EXTRACT
Note:  You already have the 'LAB DSS LAR EXTRACT' File.
                                                                        
   64.2      WKLD SUFFIX CODES  (including data)                        
Note:  You already have the 'WKLD SUFFIX CODES' File.                   
I will OVERWRITE your data with mine.                                   
                                                                        
   64.21     WKLD CODE LAB SECT  (including data)                       
Note:  You already have the 'WKLD CODE LAB SECT' File.                  
I will OVERWRITE your data with mine.                                   
                                                                        
   64.22     WKLD ITEM FOR COUNT  (including data)                      
Note:  You already have the 'WKLD ITEM FOR COUNT' File.                 
I will OVERWRITE your data with mine.                                   
                                                                        
   64.3      WKLD INSTRUMENT MANUFACTURER  (including data)             
Note:  You already have the 'WKLD INSTRUMENT MANUFACTURER' File.        
I will OVERWRITE your data with mine.                                   
                                                                        
   64.81     LAB NLT/CPT CODES  (including data)                        
Note:  You already have the 'LAB NLT/CPT CODES' File.                   
I will OVERWRITE your data with mine.                                   
                                                                        
   68        ACCESSION                                                  
Note:  You already have the 'ACCESSION' File.                           
                                                                        
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//NO
                                                                        
Want KIDS to INHIBIT LOGONs during the install? YES// NO                
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO 
                                                                        
Enter the Device you want to print the Install messages.                
You can queue the install by enter a 'Q' at the device prompt.          
Enter a '^' to abort the install.                                       
                                                                        
DEVICE: HOME//   TELNET TO ALPHAS                                       
                                                                        
---------------------------------------------------------               
 Install Started for LR*5.2*274 :                                       
               Jul 11, 2002@09:57:20                                    
                                                                        
Build Distribution Date: Jul 11, 2002                                   
                                                                        
 Installing Routines:                                                   
               Jul 11, 2002@09:57:20                                    
                                                                        
 Running Pre-Install Routine: PRE^LR274PO                               
                                                                        
 Installing Data Dictionaries:                                          
               Jul 11, 2002@09:57:26                                    
                                                                        
 Installing Data:                                                       
               Jul 11, 2002@10:01:18                                    
                                                                        
 Installing PACKAGE COMPONENTS:                                         
                                                                        
 Installing PRINT TEMPLATE                                              
                                                                        
 Installing INPUT TEMPLATE                                              
                                                                        
 Installing OPTION                                                      
               Jul 11, 2002@10:01:19                                    
                                                                        
 Running Post-Install Routine: POST^LR274PO. . . . . . . . . . . . . . 
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .          
                                                                      
                       Building List Of Added WKLD CODEs              
                                                                      
                       List Of Added WKLD CODEs Complete              
                                                                      
                       Sending message to LMI Mail Group.             
                                                                      
              Sending install completion alert to mail group G.LMI    
                                                                      
 Updating Routine file...                                             
                                                                      
 Updating KIDS files...                                               
                                                                      
 LR*5.2*274 Installed.                                                
               Jul 11, 2002@10:05:28                                  
                                                                      
                                   LR*5.2*274                         
                                                                      
                                                                      
Install Completed                                                     
                                                                      
                                                                      
                                                                      
Installation of patch LR*5.2*274 started on Jul 11, 2002@09:56:20     
Installation of patch LR*5.2*274 completed on Jul 11, 2002@10:05:27   
 
LIM:
 Review description for LR*5.2*274 use KIDS Utilities Build File Print 
 
 
  End of installation example. 
 ===============================================
 
 
Post Install instruction:
 
The Laboratory Information Manager (LIM) should obtain from the Anatomic 
Pathology department, a list containing CPT codes for the procedures most 
frequently performed.  The entries on this list need to be ranked by 
frequency (i.e. most frequently used procedure is #1, next frequently 
used procedure is #2, etc.) This list will provide a template for the 
display listing. Next, the LIM need to select a NLT code from the WKLD 
CODE (#64) file with the corresponding CPT code. Next, using the option 
Edit or Print WKLD CODES[LR WKLD CODE EDIT PRINT] option, edit the ES 
DISPLAY ORDER (#26) field by entering the sequence number from the 
frequency list and edit the CODE (#18) field multiple with the 
appropriate CPT Code(s). 
Editing of the WKLD CODE file can be done with the Edit or Print WKLD 
CODES [LR WKLD CODE EDIT PRINT] option.
 
================================================
User Information: 
The user performing the CPT coding for tissue exam using the LAB CPT 
BILLING [LRCAPES] option can enter the ES DISPLAY ORDER number (the 
sequence number from the frequency list) to select CPT codes. The user 
can enter double question marks '??' to see a list of CPT codes 
selectable by entering the ES DISPLAY ORDER numbers. If the appropriate 
code does not appear on the list, the user can enter the individual CPT 
code number(s) separated by commas.
 
The coding software ensures that all CPT codes selected are active. If 
the user does not have the PROVIDER security key, a valid active provider 
must be entered. The user reviews the accessioned test(s) and the CPT 
codes selected. The user is prompted to accept or reject the information.
 
After accepting the previous information the software will determine, 
using the TYPE (#2) field of the HOSPITAL LOCATION (#44) file, if the 
location entered is an outpatient location. Those locations with the type 
of clinic, module or other are considered to be out patient location. CPT 
coding is ONLY PASSED FOR OUT PATIENT LOCATION TYPES. If the specimen is 
assigned to a Patient as defined by an entry in the PATIENT (#2) file, 
the specified CPT codes are passed immediately to the Laboratory/PCE API. 
The date/time of the visit is set to specimen collection date/time. If 
the time is not specified, a default of 12:01 is used. The PCE API 
returns the visit number which is stored in the PCE ENC (#30) field of 
the ACCESSION NUMBER (#1) sub-file of the DATE (#.01) sub-file of the 
ACCESSION (#68) file.
 
The software will also store the WKLD CODES associated with the CPT codes 
selected. These WKLD CODE are added to the Laboratory LMIP workload for 
that accession. This is done regardless of the location type.
 
Example of File setup
===============================================================
 The example does not represent true clinical situation, it is used only 
for demonstration purposes.
 
LRMENU       Laboratory DHCP Menu
Select Laboratory DHCP Menu Option: SUPervisor menu
Select Supervisor menu Option: LAB LIaison menu
Select Lab liaison menu Option: LIM workload menu
Select LIM workload menu Option: EDIT
    1    Edit ACC Area OOS Locations       
    2    Edit or Print WKLD CODES          
CHOOSE 1-2: 2  Edit or Print WKLD CODES
 
Do you want to edit specific WKLD CODES/ALL fields? ? N// YES
 
Select WKLD CODE PROCEDURE: 88551.0000 Surgical Pathology Level I
88551.0000
PROCEDURE: Surgical Pathology Level I//   (No Editing)
DESCRIPTION:
  No existing text
  Edit? NO// 
PRINT NAME: ^CODE  
Select CODE: CPT.88300
 
     Searching for a active CPT code., (pointed-to by CODE)
     Searching for a active CPT code.
  88300     SURGICAL PATH, GROSS     
        ...OK? Yes//   (Yes)
  RELEASE DATE: T-1  (JUN 24, 2001)
  INACTIVE DATE: 
  REPLACEMENT CODE: 
  CODE NOTES:
    No existing text
    Edit? NO// 
Select CODE: ^ES DISPLAY ORDER  
ES DISPLAY ORDER: // 1
Select OPTION NAME: LRMENU       Laboratory DHCP Menu
Select Laboratory DHCP Menu Option:  Anatomic pathology
 ANATOMIC PATHOLOGY MENU
Select Anatomic pathology Option:  Verify/release menu, anat path
Select Verify/release menu, anat path Option: ?
   RR     Verify/release reports, anat path
   RS     Supplementary report release, anat path
   LU     List of unverified pathology reports
   CPT    LAB CPT BILLING
 
 
Example of CPT code capture.
=============================================================
 
Select Verify/release menu, anat path Option: CPT  LAB CPT BILLING
 
Select Accession: SURG
SURGICAL PATHOLOGY  
SURGICAL PATHOLOGY
  Accession Date: TODAY//  (NOV 06, 2002)
  Number part of Accession:  (1-999999): 3
 
   BRADY,MOM                       389-24-0000         DOB: May 02, 1955
     Collection Date: Apr 17, 2002
          Acc #: NSP 02 3  UID: 
               PCE ENC # 314;
               Specimen: 
     Tissue Specimens: 
               VAGINAL CANAL
     Test(s);  SURGICAL PATHOLOGY LOG-IN/ 
     Releasing Pathologist
PROVIDER:    REV. GINSBURG,RONALD
 Ordering Location: :    RED CLINIC     
Would you like to see PCE CPT Information? No// 
Select CPT codes:  ??
 
                       List or range e.g., 1,3,5-7,88300.
          Select from the following or enter CPT separated by a comma
 
   1   = 88300  LEVEL I - SURGICAL PATHOLOGY, GROSS EXAMINATION ONLY
        Surgical Pathology Level I { NLT = 88551.0000 }
 
   2   = 88302  LEVEL II - SURGICAL PATHOLOGY, GROSS AND MICROSCOPIC EX
        Surgical Pathology Level II { NLT = 88518.0000 }
 
   3   = 88304  LEVEL III - SURGICAL PATHOLOGY, GROSS AND MICROSCOPIC E
        Surgical Pathology Level III { NLT = 88553.0000 }
 
   4   = 88305  LEVEL IV - SURGICAL PATHOLOGY, GROSS AND MICROSCOPIC EX
        Surgical Pathology Level IV { NLT = 88555.0000 }
 
   5   = 88307  LEVEL V - SURGICAL PATHOLOGY, GROSS AND MICROSCOPIC EXA
        Surgical Pathology Level V { NLT = 88557.0000 }
 
   6   = 88309  LEVEL VI - SURGICAL PATHOLOGY, GROSS AND MICROSCOPIC EX
        Surgical Pathology Level VI { NLT = 88559.0000 }
 
   7   = 88329  PATHOLOGY CONSULTATION DURING SURGERY;
        Frozen Section Add Cut { NLT = 88360.0000 }
Would you like to see PCE CPT Information? YES
 
CPT: 88300                              PATIENT NAME: BRADY,MOM
  VISIT: APR 17, 2002@12:01             PROVIDER NARRATIVE: SURGICAL 
PATH, GROSS
  QUANTITY: 1                           ENCOUNTER PROVIDER: 
REV. GINSBURG,RONALD
 
CPT: 88302                              PATIENT NAME: BRADY,MOM
  VISIT: APR 17, 2002@12:01
  PROVIDER NARRATIVE: TISSUE EXAM BY PATHOLOGIST
  QUANTITY: 1                           ENCOUNTER PROVIDER: 
REV. GINSBURG,RONALD
 
 
Select CPT codes:  1,2
 
   BRADY,MOM                       389-24-0000         DOB: May 02, 1955
     Collection Date: Apr 17, 2002
          Acc #: NSP 02 3  UID: 
               PCE ENC # 314;
               Specimen: 
     Tissue Specimens: 
               VAGINAL CANAL
     Test(s);  SURGICAL PATHOLOGY LOG-IN/ 
                               Selected CPT Codes
     (1)  88300 LEVEL I - SURGICAL PATHOLOGY, GROSS EXAMINATION ON
          Surgical Pathology Level I  {88551.0000}
     (2)  88302 LEVEL II - SURGICAL PATHOLOGY, GROSS AND MICROSCOP
          Surgical Pathology Level II  {88518.0000}
 
Is this correct ? Yes//   YES
                              Sending PCE Workload
                                  Visit # 314
                             Storing LMIP Workload 
 
End of examples:
 
======================================
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;300 SEQ #225</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-02-04 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*300 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LR*5.2*300 corrects the following defects:
 
1. NOIS BAY-1202-31189, PRO-1202-11453, SFC-1202-61678 reported an
undefined variable LRPRTPG in routine LRRP2 when printing laboratory
interim reports via CPRS. The variable LRPRTPG is now defined when a
user selects to print interim reports via CPRS.
 
2. NOIS MAN-1202-11246, PHI-1202-21644 reported an undefined variable
PNM in routine LRRP2 when printing laboratory cumulative reports via
option TASK THE CUMULATIVE TO RUN EACH NITE [LRTASK CUM]. The undefined
variable is caused by the software attempting to print the list of
performing laboratories after the reports had completed. The logic has
been corrected to print the list with each interim report.
 
3. NOIS SFC-1202-61678 reported an undefined variable LRIDT in routine
LRRP2 when printing interim reports via option Interim Report [LRRP2].
The undefined variable is caused by the user aborting printing when
selecting starting and ending date ranges for the report. The software
was not detecting user aborting. The logic has been corrected to return
the user to the select patient prompt when aborting from date range
selection.
 
  
ASSOCIATED NOIS
---------------
 BAY-1202-31189
 BUT-1202-21395
 CHA-1202-32023        
 CLL-1202-42133        
 COS-0103-40211        
 HOU-1202-72266  
 JAC-0103-70260 
 MAN-1202-11246
 MIW-0103-40485
 MON-1202-52048
 PHI-1202-21644
 PHO-1202-62145 
 PRO-1202-11453
 PUG-1202-51880
 SFC-1202-61678
 SPO-1202-51904
 TUA-0103-30226
 WIM-1202-21873
 

TEST SITES
----------
 Battle Creek VAMC
 Bay Pines VAMC
 Charleston VAMC
 Chillicothe VAMC
 Columbus OPC
 Heartland-West HCS
 Houston VAMC
 Indianapolis VAMC
 Jackson VAMC
 Madison VAMC
 Manchester VAMC
 Milwaukee VAMC
 Philadelphia VAMC
 Phoenix VAMC
 Puget Sound HSC 
 San Francisco VAMC
 Shreveport VAMC
 Spokane VAMC
 Wilmington VAMC
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR300            N/A            4452251        **300** (Deleted by KIDS)
   LRRP2            15278779       13459970       **106,121,221,283,300**
 
 List of preceding patches: 283
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
************************************************************************
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*300.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES//', choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
      Note: KIDS will disable the following options during patch
      installation:
        Interim report [LRRP2]
        Interim report by provider [LRRD]
        Interim report for chosen tests [LRRP3]
        Interim report for selected tests as ordered [LRRSP]
        Interim reports by location (manual queue) [LRRS]
        Interim reports for 1 location (manual queue) [LRRS BY LOC]
        Interim reports for 1 provider (manual queue) [LRRD BY MD]
        Reprint cumulative on a given patient [LRAC PT]
        Reprint a permanent page from cumulative [LRAC 1 PAGE]
        Manual queuing of cumulative [LRAC MANUAL]
        TASK THE CUMULATIVE TO RUN EACH NITE [LRTASK CUM]
 
  
  7. On a mapped system, rebuild your map set.
 
NOTE: Routine LR300 will be deleted after successful patch installation.
 
 
 ************************************************************************
 Installation example:
 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*300  Loaded from Distribution  12/19/02@16:50:38
     =&gt; LR*5.2*300
 
This Distribution was loaded on Dec 19, 2002@16:50:38 with header of
   LR*5.2*300 
   It consisted of the following Install(s):
     LR*5.2*300
Checking Install for Package LR*5.2*300
Will first run the Environment Check Routine, LR300
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*300
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LR*5.2*300 :
               Dec 19, 2002@16:52:29
 
Build Distribution Date: Dec 19, 2002
 
 Installing Routines:...
               Dec 19, 2002@16:52:30
 
 Running Pre-Install Routine: PRE^LR300.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required---
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION............
               Dec 19, 2002@16:52:30
 
 Running Post-Install Routine: POST^LR300.
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*300 Installed.
               Dec 19, 2002@16:52:30
 
 Install Message sent #XXXXX
 
Select Installation Option:
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;298 SEQ #226</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-02-04 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch to the Laboratory package does not contain any changes to the 
VISTA BLOOD BANK Software as defined by the VHA DIRECTIVE 99-053 titled 
VISTA BLOOD BANK SOFTWARE VERSION 5.2.

This patch updates the Health Department Report to print the new Ethnicity 
and Race field.  The routine LRMIHDR is modified to display or print the 
new ethnicity and race fields with the release of the scheduling patch, 
SD*5.3*254, and registration patch, DG*5.3*415

Testing Sites:
==============
 Long Beach VAMC

 
 ROUTINE SUMMARY
 ===============

   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
  
                     Checksum       Checksum
 
 
    Routine Name     Before Patch   After Patch    Patch List
    ------------     ------------   -----------    ------------
    LR298            N/A              2559378      298 (Deleted by KIDS)
    LRMIHDR          7468554         10376465      45,272,298

 ASSOCIATED NOIS:
 ================
 
 NONE
 
**********************************************************************
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes. This patch
  can be installed when Laboratory users are on the system.
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this 
      patch prior to installation, you should use the 'Backup a Transport
      Global' option at this time.  You may also compare the routines in
      your production account to the routines in the patch by using the
      'Compare a Transport Global to Current System' option.
 
 
  8.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*298'.
 
      If prompted ' Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' choose 'NO'.
 
      If prompted ' Want KIDS to INHIBIT LOGONs during the install? YES// '
      choose 'NO'.
 
      If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', choose 'NO'.
 
  9. On a mapped system, rebuild your map set.
 
 10. Routine LR298 will be deleted after successful patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;293 SEQ #227</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-03-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*293 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*293 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*293 have no effect on Blood 
Bank software functionality, therefore RISK is none.
  
  
 
 Some problems with the Check Files for Inconsistencies [LRCHKFILES] 
option were reported after the release of patch LR*5.2*272.  This patch 
LR*5.2*293 will return the routines associated with this option to their 
original state with one exception.  The call to the Blood Bank Inventory 
Integrity Report [LRCKF^LRBLJI] has been removed from routine LRCKF.
 
 The call to the Blood bank inventory integrity report [LRBLII] option is 
being removed from the Check Files for Inconsistencies [LRCHKFILES] 
option.  This is being done to further encapsulate the existing VistA 
Blood Bank system.
 
NOTE: The Check Files for Inconsistencies [LRCHKFILES] option will no 
longer run an integrity check on the Blood Bank files.  You must manually 
run the Blood bank inventory integrity report [LRBLII] option once this 
patch LR*5.2*293 has been installed.
 
 Reference NOIS:   ASH-0802-32526
                   AUG-0802-32924
                   HAM-0802-22943
                   SDC-0802-62650
                   FAV-0802-72445
                   UNY-0502-12522
 
 
 Reporting Site:   Ashevile, NC
                   Augusta, GA
                   Hampton, VA
                   San Diego, CA
  
  
   Test Site(s):   ASHEVILLE, NC
                   AUGUSTA, GA (C)
                   FAYETTEVILLE, AR
                   HAMPTON, VA
                   MADISON, WI
                   SAN DIEGO, CA
 
  
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LRCKF            11756610       4420888        **272,293**
   LRCKF60          36215686       11681052       **272,293**
   LRCKF62          5812635        1728069        **272,293**
   LRCKF68          32159749       14560856       **272,293**
   LRCKF69          18312081       4913799        **272,293**
   LRCKFLA          39228904       9589815        **272,293**
   LRCKPTR          15162494       10343721       **272,293**
 
List of preceding patches: 272
Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system, but installation should be
           done at off peak hours.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*293'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;289 SEQ #228</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-08-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*289 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
LR*5.2*289 is a mandated installation of the estimated Glomerular Filtration
Rate (eGFR) delta check routine. Site(s) can setup the two new laboratory
tests, Creatinine (including eGFR) and eGFR, in either a new or an existing
Serum Creatinine test. One of the new tests holds the input value (test 
result) and the other test holds the calculated output value. Both tests need
to be setup in the same panel, which can be in either a new panel or, an
existing panel.
 
-----------------------------
Background
 
Chronic kidney disease is a major public health problem. Adverse outcomes of
chronic kidney disease can be prevented through early detection and treatment.
Earlier stages of chronic kidney disease can be detected through routine
laboratory measurements.
 
The USRDS provides reliable nationwide data regarding the incidence, 
prevalence, treatment patterns, outcomes, and cost of kidney failure treated 
by dialysis and transplantation, the most severe stage of chronic kidney 
disease. This guideline provides a definition of chronic kidney disease as
well as definitions and estimates of prevalence of earlier stages of kidney
disease.
 
Chronic kidney disease is defined according to the presence or absence of 
kidney damage and level of kidney function-irrespective of the type of kidney 
disease (diagnosis). Among individuals with chronic kidney disease, the stages
are defined based on the level of kidney function. Identifying the presence
and stage of chronic kidney disease in an individual is not a substitute for 
accurate assessment of the cause of kidney disease, extent of kidney damage, 
level of kidney function, comorbid conditions, complications of decreased 
kidney function, or risks for loss of kidney function or cardiovascular
disease in that patient. Defining stages of chronic kidney disease requires 
"categorization" of continuous measures of kidney function, and the "cut-off 
levels" between stages are inherently arbitrary. Nonetheless, staging of 
chronic kidney disease will facilitate application of clinical practice 
guidelines, clinical performance measures and quality improvement efforts to 
the evaluation, and management of chronic kidney disease.
 
-----------------------------
Reasons for estimated Glomerular Filtration Rate (eGFR)
 
In February 2002, the National Kidney Foundation recognized the Glomerular
Filtration Rate as an indicator of renal function.  The eGFR is calculated
rather than measured, and the Washington, DC Medical Center has developed a
routine known as a delta check that performs the calculation.  The Washington
delta check uses the serum creatinine result, age, and sex from the local
VISTA Laboratory package. The new program will calculate the eGFR for African-
Americans and others according to the accepted calculation.
 
It is important to note that National Kidney Foundation's "Kidney Disease
Outcomes Quality Initiative (K/DOQI) Clinical Practice Guidelines for Chronic
Kidney Disease: Evaluation, Classification, and Stratification" has stages of
kidney disease based on eGFR and also action plan as per Guidelines 1 &amp; 2.
These guidelines are published in the American Journal of Kidney Diseases Vol.
39, No 2, supplement 1, February 2002.
 
Adverse outcomes of chronic kidney disease can often be prevented or delayed 
through early detection and treatment. Earlier stages of chronic kidney 
disease can be detected through routine laboratory measurements. 
 
  * The presence of chronic kidney disease should be established, based on 
    presence of kidney damage and level of kidney function (glomerular 
    filtration rate [GFR]), irrespective of diagnosis.
 
  * Among patients with chronic kidney disease, the stage of disease should 
    be assigned based on the level of kidney function, irrespective of 
    diagnosis, according to the K/DOQI CKD classification Table 10. 
 
 
            Table 10: Stages of Chronic Kidney Disease
            
                                                GFR
  Stage       Description                 (mL/min/1.73m^2)
_____________________________________________________________________
  1           Kidney damage with               &gt;=90
              normal or increasing GFR
---------------------------------------------------------------------
  2           Kidney damage with               60-89
              mild decreasing GFR
---------------------------------------------------------------------
  3           Moderate decreasing GFR          30-59
---------------------------------------------------------------------
  4           Severe decreasing GFR            15-29
---------------------------------------------------------------------
  5           Kidney failure               &lt;15(or dialysis)
_____________________________________________________________________
 
    Notes: Chronic kidney disease is defined as either kidney damage 
    or GFR &lt;60 mL/min/1.73m^2 for &gt;=3 months. Kidney damage is defined 
    as pathologic abnormalities or markers of damage, including 
    abnormalities in blood or urine tests or imaging studies.
 
VHA is probably one of the few organizations nationwide that has the potential
to report eGFR whenever serum creatinine is done.  This will help us identify
patients with kidney disease early and take preventive action.  We will save
about $55,000 per year per patient for preventing or delaying dialysis. This
does not take into account the morbidity associated with dialysis that will
be prevented.
 
Raye-Anne Dorn, National Tumor Registry Coordinator, has submitted a New
Service Request for the creation of a laboratory test, the estimated
Glomerular Filtration Rate, eGFR.  Thakor G. Patel, MD, Chief of Renal
Diseases at Veterans Administration Central Office, endorses the request. The
endorser is seeking an alternative to the creatinine clearance test, a
laboratory test that measures renal function and requires all urine collected
over a 24-hour period.  The request cites the difficulty of collecting such a
specimen, particularly from elderly patients.  Additionally, the Veterans
Health Administration (VHA) Renal Program Office has recommended a standard
process throughout VHA for performing and reporting the eGFR. The request is
to release this locally created delta check as Class 1 software.
 
The four-variable MDRD Study equation is recommended.  Although it has
short-comings, it has been more rigorously evaluated than the Cockcroft and
Gault equation, and performs better in patients with kidney disease, gives
results in units of ml/min/1.73 m^2, and does not require measurement of
weight.  Performance can be improved by calibration of the VA lab results
with the MDRD Study lab (Cleveland Clinic).  Is there a VA "central lab,"
that other labs relate to?  If so, it should be possible to "calibrate" that
lab to the MDRD Study lab.  (Of course, there is no Cockcroft Gault central
lab, so calibration is an uncorrectable error with the use of the Cockcroft
and Gault equation.)
 
The view is that it is difficult to interpret GFR values above about 60
ml/min/1.73 m^2, due to differences in creatinine calibration among labs, and
uncertainty in the measurement of GFR in that range.  This is the reason
that the NKF defined CKD Stage 3 as GFR &lt;60, and that there are few
differences in the action plan for CKD stages 1 and 2 (kidney damage and
GFR either greater than or less than 90).  It is important to instruct
practitioners about the limitations of GFR estimates above 60.
 
Stages of chronic kidney disease (R, O). Among individuals with chronic kidney
disease, the stage is defined by the level of GFR, with higher stages
representing lower GFR levels.
 
          Table 12. Definition and Stages of Chronic Kidney Disease
 
     GFR                 With Kidney Damage*         Without Kidney Damage*
                       __________________________   __________________________
Stages (mL/min/1.73^2) With HBP**   Without HBP**   With HBP**   Without HBP**
______________________________________________________________________________
 
 1      &gt;=90             1***         1***          "High blood      "Normal"
                                                    pressure"
------------------------------------------------------------------------------
 2      60-89            2***         2***          "High blood       "eGFR"
                                                   pressure with
                                                     eGFR"
------------------------------------------------------------------------------
 3      30-59            3***         3***             3***             3***
------------------------------------------------------------------------------
 4      15-29            4***         4***             4***             4***
------------------------------------------------------------------------------
 5      &lt;15(or           5***         5***             5***             5***
         dialysis)
______________________________________________________________________________
 
*   Kidney damage is defined as pathologic abnormalities or markers of
    damage, including abnormalities in blood or urine tests or imaging
    studies.
**  High blood pressure is defined as &gt;= 140/90 in adults and &gt;90th
    percentile for height and gender in children.
*** Represent chronic kidney disease; numbers designate stage of chronic
    kidney disease.
   
    May be normal in infants and in the elderly.
   
   
Table 12 illustrates the classification of individuals based on the presence
or absence of markers of kidney disease and level of GFR, according to 
definition and staging of chronic kidney disease proposed by this guideline.
In addition, it includes columns for the presence or absence of high blood
pressure, because of the complex relationship of high blood pressure and 
chronic kidney disease.
 
All individuals with GFR &lt;60 mL/min/1.73 m2 for 3 months are classified as
having chronic kidney disease, irrespective of the presence or absence of
kidney damage. The rationale for including these individuals is that reduction
in kidney function to this level or lower represents loss of half or more of
the adult level of normal kidney function, which may be associated with a
number of complications (Part 6).
 
All individuals with kidney damage are classified as having chronic kidney
disease, irrespective of the level of GFR. The rationale for including
individuals with GFR 60 mL/min/1.73 m2 is that GFR may be sustained at normal
or increased levels despite substantial kidney damage and that patients with
kidney damage is at increased risk of the two major outcomes of chronic kidney
disease: loss of kidney function and development of cardiovascular disease
(Part 7).
 
-----------------------------
The four-variable MDRD Study equation
 
Estimated GFR (ml/min/1.73m^2)
     = 186 x (Scr)^-1.154 x (Age)^-0.203 x (0.742 if female) x (1.210 if
        African - American)
 
      where:
        Scr = serum creatinine in mg/dL
        Age = age, in years
      
("four-variable" (abbreviated) equation in Levey AS, JASN vol. 11:2000;
   abstract - A0828) (see below)
 
A0828                                                  F138 (PS)
 
A. Simplified Equation To Predict Glomerular Filtration Rate from Serum
Creatinine, Andrew S. Levey,(1) Tom Greene,(2) John W. Kusek,(3) Gerald J.
Beck,(2) MDRD Study Group. (1) Boston, MA, (2) Cleveland, OH, (3) Bethesda,
MD.
 
We recently developed and validated an equation to predict GFR from serum 
creatinine (Pcr), which is more accurate than creatinine clearance measured
from 24-hour urine samples or predicted from the Cockcroft-Gault (CG) equation
(Levey AS, Ann Intern Med 1999; l30:877-884). GFR is expressed as ml/min/l.73
m^2.  Required variables include Pcr (mg/dl), age (y), race (black vs.
non-black), gender, serum urea nitrogen (SUN, mg/dl), and albumin (alb.g/dl).
In clinical practice and in retrospective studies, measurements of SUN and 
alb may not be available.  Below, we list the full MDRD Study prediction
equation (6 variables), as well as alternative prediction equations including
fewer variables derived from measurements in the same 1628 patients.
 
       GFR = 170 x Pcr-0.999 x age -0.176 x 1.180 (if black)
              x 0.762 (if female) x SUN-0.170 x alb+0.318
       GFR = 270 x Pcr-l.007 x age -0.180 x 1.178 (if black)
              x 0.755 (if female) x SUN-0.169
       GFR = 186 x Pcr-l.154 x age -0.203 x 1.212 (if black)
              x 0.742 (if female)
 
The table below compares the performance of these equations and the CG
equation.
 
                       R 2     median A        75th % A        90th % A
       6 variable      .903    11.3            19.8%           28.4%
       5 variables     .899    11.6%           19.9%           29.4%
       4 variable      .892    12.1%           20.5%           29.7%
       CG              .842    13.8%           26.4%           40.5%
 
A=absolute value of the median (50th), 75th and 90th percentiles of the
distribution of the differences between measured GFR and predicted GFR or Ccr
for each equation (includes bias correction for CG equation).  We conclude
that simplified versions of the MDRD Study prediction equation provide more
accurate estimates of GFR than measured or estimated creatinine clearance.
 
Example of Screen:
 
ACCESSION:                    CH 0205 3      CH 0205 4
                              2/5 12:01d    2/5 12:50d
CREATININE //1.2
 
  (MISSING PARAMETER)
 
   ** eGFR: 74.6  
VOLUME //932  
ELAPSED TIME //5.5  
COMPUTED CREATININE CLEARANCE //23  L
CREATININE EGFR     74.6//  
Select COMMENT: MISSING PARAMETER // 
  COMMENT: MISSING PARAMETER // 
Select COMMENT: 
 
  ***************************************************************************
  *                               NOTE:                                     *
  * If the patients race is 'Undeclared' or 'Unanswered', the COMMENT field *
  * will be populated with 'MISSING PARAMETER' text. The doctor will be able*
  * view this information within CPRS. The delta check will calculate the   *
  * formula without the race variable. The doctor will need to evaluate this*
  * when viewing the reports in CPRS.                                       *
  ***************************************************************************
 
-----------------------------
New Fields
 
 There are four new fields: three TEST NAME FOR INPUT VALUEs (#60.1, #60.2,
 #60.3) and one TEST NAME FOR TEST OUTPUT VALUE (#61.1), which are stored in 
 the file DELTA CHECKS (#62.1). The new fields are pointers to file LABORATORY
 TEST (#60). The new fields will be used by the delta check routine to get 
 the DATA NAME (#400) field, which is a pointer to CHEM, HEM, TOX, RIA, SER, 
 etc. DD File SUB-FIELD (#63.04). When the delta check routine is invoked, the 
 routine calculates the eGFR from the test result, age, gender, and race. 
 The results of the calculation are stored in the local array LRSB(DATA NAME).
 
 
 
File/Field    Field Name               Node;Piece   Field Type
-------------------------------------------------------------------------------
62.1,60.1     TEST NAME FOR INPUT VALUE 1 5;1 POINTER TO LABORATORY TEST FILE
              (#60)
 
              LAST EDITED:     SEP 24, 2002 
              DESCRIPTION:     This field is a pointer to a test that will
                               contain the result value of the first incoming
                               test. The result value should be stored in the 
                               variable LRSB(X) - where X is the data name IEN
                               from ^DD(63.04.  
 
 
62.1,60.2     TEST NAME FOR INPUT VALUE 2 5;2 POINTER TO LABORATORY TEST FILE
              (#60)
 
              LAST EDITED:     SEP 24, 2002 
              DESCRIPTION:     This field is a pointer to a test that will
                               contain the result value of the second incoming
                               test. The result value should be stored in the 
                               variable LRSB(X) - where X is the data name IEN
                               from ^DD(63.04.  
 
 
62.1,60.3     TEST NAME FOR INPUT VALUE 3 5;3 POINTER TO LABORATORY TEST FILE
              (#60)
 
              LAST EDITED:     SEP 24, 2002 
              DESCRIPTION:     This field is a pointer to a test that will
                               contain the result value of the third incoming
                               test. The result value should be stored in the 
                               variable LRSB(X) - where X is the data name IEN
                               from ^DD(63.04.  
 
 
62.1,61.1     TEST NAME FOR OUTPUT VALUE 1 5;4 POINTER TO LABORATORY TEST FILE 
              (#60)
 
              LAST EDITED:     SEP 24, 2002 
              DESCRIPTION:     This field is a pointer to a test that will
                               contain the calculated value of the first
                               outgoing test. The calculated value should be
                               stored in the variable LRSB(X) - where X is the
                               data name IEN from ^DD(63.04.  
 
-----------------------------
The eGFR delta check will need to be associated a new or existing Serum
Creatinine test. The tests called EGFR and CREATININE (INCLUDES EGFR) will 
need to be setup and then associated with the Serum Creatinine. 
 
Example of Laboratory Test Setup: (THIS IS A DISPLAY OF ENTRIES IN THE FILE,
NOT A CAPTURED EXAMPLE OF A SETUP USING FILEMAN)
 
NAME: CREATININE,SERUM                  TYPE: OUTPUT (CAN BE DISPLAYED)
  SUBSCRIPT: CHEM, HEM, TOX, SER, RIA, ETC.
  LOCATION (DATA NAME): CH;689024;1     FIELD: DD(63.04,689024,
  HIGHEST URGENCY ALLOWED: ROUTINE      COMBINE TEST DURING ORDER: YES
  PRINT NAME: CREAT                   DATA NAME: CREATININE-EGFR
SITE/SPECIMEN: SERUM                    REFERENCE LOW: 0.7
  REFERENCE HIGH: 1.5                   UNITS: mg/dl
  TYPE OF DELTA CHECK: EGFR             LOINC CODE: 2160-0
COLLECTION SAMPLE: BLOOD                MIN VOL (in mls.): .2
  SINGLE DAY MAX ORDER FREQ: 1
INSTITUTION: WASHINGTON                 ACCESSION AREA: CHEMISTRY
VERIFY WKLD CODE: Creatinine            VERIFY WKLD CODE #: 82565.0000
  CIS TEST CODE: CH017
SITE NOTES DATE: JAN 17, 2002
 NOTE:   Created per Raye-Ann Dorn.  Part of Creatinine (Includes EGFR) panel.
  NATIONAL VA LAB CODE: Creatinine      RESULT NLT CODE: Creatinine
 
 
NAME: EGFR                              TYPE: OUTPUT (CAN BE DISPLAYED)
  SUBSCRIPT: CHEM, HEM, TOX, SER, RIA, ETC.
  LOCATION (DATA NAME): CH;689023;1     FIELD: DD(63.04,689023,
  HIGHEST URGENCY ALLOWED: ROUTINE      PRINT NAME: EGFR
  DATA NAME: EGFR
SITE/SPECIMEN: SERUM
SYNONYM: ESTIMATED GLOMERULAR FILTRATION RATE
SYNONYM: GLOMERULAR FILTRATION RATE
INSTITUTION: WASHINGTON                 ACCESSION AREA: CHEMISTRY
SITE NOTES DATE: JAN 17, 2002
 NOTE:   Per Raye-Ann Dorn.  Part of Creatinine (Includes EGFR) panel.
 
 
NAME: CREATININE (INCLUDES EGFR)        TYPE: BOTH
  SUBSCRIPT: CHEM, HEM, TOX, SER, RIA, ETC.
  LAB COLLECTION SAMPLE: BLOOD          HIGHEST URGENCY ALLOWED: ROUTINE
  PRINT NAME: CR EGFR
NUMBER: 1                               LAB TEST: CREATININE,SERUM
NUMBER: 2                               LAB TEST: EGFR
COLLECTION SAMPLE: BLOOD
INSTITUTION: WASHINGTON                 ACCESSION AREA: CHEMISTRY
SITE NOTES DATE: JAN 17, 2002
 NOTE:   Per Raye-Ann Dorn.  Includes CREATININE EGFR and EGFR with a delta
 check of EGFR.
 
-----------------------------
If setting up the eGFR delta check, use FILEMAN to setup the new DELTA CHECK
fields. The TEST NAME FOR INPUT VALUE 1 field (#60.1) and TEST NAME FOR OUTPUT
VALUE 1 field (#61.1) are pointers to DATA NAME field (#400) of the LABORATORY
TEST (#60) files. These fields will be needed to run the delta check.
 
Example of Delta Check Setup: (THIS IS A DISPLAY OF ENTRIES IN THE FILE,
NOT A CAPTURED EXAMPLE OF A SETUP USING FILEMAN)
 
NAME: EGFR                              XECUTABLE CODE: D STRT^LREGFR(DFN,X)
 DESCRIPTION:   Created 10/17/01 by SDV for Dr. TG Patel and Raye-Ann Dorn.
 Test is CREATININE-EGFR and its delta test is EGFR which Lon Paredes set and
 tested. On 08/01/2002, JAH modified and sent out as Class I software. 
SITE NOTES DATE: AUG 01, 2002
  TEST NAME FOR INPUT VALUE 1: CREATININE,SERUM
  TEST NAME FOR OUTPUT VALUE 1: EGFR
 
-----------------------------
Setting Up INPUT and OUTPUT VALUE
 
Use FILEMAN to enter the INPUT and OUTPUT VALUE(s). These two pointers will
store the file LABORATORY TEST (#60) IEN in the file DELTA CHECKS (#62.1). 
This information will be used to acquire the field DATA NAME (#400) for 
the Laboratory test, which was setup to call the delta check routine. Below
is an example of a session:
 
 
Select OPTION: ENTER OR EDIT FILE ENTRIES 
 
INPUT TO WHAT FILE: DISABILITY CONDITION// DELTA CHECKS
EDIT WHICH FIELD: ALL// ??
   
   Choose from:
   .01          NAME
   10           XECUTABLE CODE
   20           OVERFLOW 1
   30           DESCRIPTION  (word-processing)
   31           SITE NOTES DATE  (multiple)
   60.1         TEST NAME FOR INPUT VALUE 1
   60.2         TEST NAME FOR INPUT VALUE 2
   60.3         TEST NAME FOR INPUT VALUE 3
   61.1         TEST NAME FOR OUTPUT VALUE 1
    FOLLOW A FIELD NAME WITH ';"CAPTION"' TO HAVE THE FIELD ASKED AS 'CAPTION:'
         OR WITH ';T' TO USE THE FIELD 'TITLE' AS CAPTION
EDIT WHICH FIELD: ALL// 60.1  TEST NAME FOR INPUT VALUE 1
THEN EDIT FIELD: 61.1  TEST NAME FOR OUTPUT VALUE 1
THEN EDIT FIELD:
 
 
Select DELTA CHECKS NAME: EGFR 
TEST NAME FOR INPUT VALUE 1: CREATININE,SERUM//
TEST NAME FOR OUTPUT VALUE 1: EGFR//
 
      
ASSOCIATED NOIS
===============
N/A
 
 
TEST SITES
===============
Washington D.C.
VA Wilmington
Long Beach VAMC Laboratory
VAMHCS, PERRY POINT DIVISION
 
ROUTINE SUMMARY
===============
 
The following routines are included in this patch.  The second line of each
of these routines now looks like:
 
   ;;5.2;LAB SERVICES;&lt;patchlist&gt;;Sep 27, 1994
 
                 Checksum
Routine         Old     New        2nd Line
-----------------------------------------------
LREGFR          n/a     2309496    **289**
 
  Sites should use CHECK^XTSUMBLD to verify checksums.
 
************************************************************************
 
 
INSTALLATION INSTRUCTIONS
=========================
 
The install time for this patch is less than five minutes. This patch can be
installed when Laboratory users are on the system. Suggested time to install:
non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid problems
loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
1.     If any of the above routines are mapped, disable mapping for them.
 
2.     Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
 
3.     On the 'Kernel Installation &amp; Distribution System' Menu (KIDS), select
       the 'Installation' menu.
 
4.     Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
 
5.     On the KIDS menu, under the 'Installation' menu, use the following
       options:
 
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
6.     Use the 'Install Package(s)' option under the 'Installation' menu and
       select the package LR*5.2*289.  When prompted 'Want KIDS to INHIBIT
       LOGONs during the install? YES//' choose 'NO'.  When prompted 'Want to
       DISABLE Scheduled Options, Menu Options, and Protocols?
 
       YES//', choose 'NO'.
 
7.     On a mapped system, rebuild your map set.
 
*****************************************************************************
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;287 SEQ #229</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-08-13 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*287 contains no changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
 
Patch LR*5.2*287 corrects a defect reported in NOIS ALB-0602-52815.
Duplicate comments were not being stored with results when verifying 
automated instrument or load work list data. This patch will allow the
site to specify on a load/work list basis whether duplicate comments
will be stored with lab results when verifying the accession.
 
A new field STORE DUPLICATE COMMENTS (#2.2) in PROFILE multiple (#68.23)
of file LOAD/WORK LIST (#68.2) will determine if duplicate comments are
stored when processing results from a load/work list. When the Laboratory
result verifying software is processing comments associated with a
load/work list result, this field determines how duplicate comments are
processed. If set to "NO" (default if no value) then a comment that
matches a previously stored comment will not be stored with the result.
If set to "YES" then the duplicate check is not performed and the comment
is stored with the results irregardless if the comment already exists.
Setting it to "YES" will allow the handling of multiple line comments which
contain the same comment more than once and are still clinically significant.
 
Edit the default parameters Load/Work list. [LRLLE DFT] option has been
modified to allow configuring this field.
 
 
ASSOCIATED NOIS
---------------
 ALB-0602-52815 
 
 
TEST SITES
----------
 Albuquerque VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                 Checksum      Checksum
 Routine Name  Before Patch  After Patch  Patch List
 ------------  ------------  -----------  ------------
 LR287            N/A            5220883  **287** (Deleted by KIDS)
 LRVR4            8885386        8885642  **14,42,121,153,221,263,279,283,287**
 
 List of preceding patches: 283
 Sites should use CHECK^XTSUMBLD to verify checksums. 
 
************************************************************************
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*287.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
      Note: KIDS will disable the following options during patch
      installation:
         Enter/verify data (auto instrument) [LRVR]
         Enter/verify data (Work list) [LRVRW]
         Enter/verify data (Load list) [LRVRW2]
         Edit the default parameters Load/Work list. [LRLLE DFT]
 
  7. On a mapped system, rebuild your map set.

NOTE: Routine LR287 will be deleted after successful patch installation.
 
  
 ************************************************************************
 Installation example:
 

 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: LR*5.2*287 Loaded from Distribution 7/10/02@09:45:39
     =&gt; LR*5.2*287
 
 This Distribution was loaded on Jul 10, 2002@09:45:39 with header of
   LR*5.2*287
   It consisted of the following Install(s):
     LR*5.2*287
 Checking Install for Package LR*5.2*287
 Will first run the Environment Check Routine, LR287
 
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*287
 
Incoming Files:
 
 
   68.2      LOAD/WORK LIST  (Partial Definition)
Note:  You already have the 'LOAD/WORK LIST' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LR*5.2*287 :
               Jul 10, 2002@10:08:09
 
Build Distribution Date: Jul 10, 2002
 
 Installing Routines:...
               Jul 10, 2002@10:08:09
 
 Running Pre-Install Routine: PRE^LR287.
 
               Sending install started alert to mail group G.LMI
 
                          *** Pre install started ***
 
                           --- No action required---
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries: ..
               Jul 10, 2002@10:08:09
 
 Installing PACKAGE COMPONENTS:
 
 Installing INPUT TEMPLATE..
 
 Installing OPTION.....
               Jul 10, 2002@10:08:09
 
 Running Post-Install Routine: POST^LR287.
 
                          *** Post install started ***
 
                  --- No actions required for post install ---
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*287 Installed.
               Jul 10, 2002@10:08:10
 
 Install Message sent #xxxxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;294 SEQ #230</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-09-12 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being released in support of the VBECS (Vista Blood 
Establishment Computer Software) Blood Bank Modernization Project.  In 
the future, data will be transitioned from the existing M database to a 
Microsoft SQL database.  The API's release in this patch will allow CPRS 
and the Lab packages to transition to the new database when it is 
released.
 
   Get ABORh
         ABORH^VBECA1       Retrieve the ABO &amp; Rh for a patient DFN.
                            If none is on file, return NULL
 
   Get ABO
         ABO^VBECA1         Retrieve the ABO for a patient DFN.
                            If none is on file, return NULL
 
   Get Rh
         RH^VBECA1          Retrieve the Rh for a patient DFN.
                            If none is on file, return NULL
 
   Get RBC Antigens Present
         AGPRES^VBECA1      Retrieve the antigens previously found
                            for the patient.  If none are found,
                            return empty array.
 
   Get Antibodies Identified
         ABID^VBECA1        Retrieve the antibodies previously found
                            for the patient.  If none are found,
                            return empty array.
 
   Get RBC Antigens Absent
         AGAB^VBECA1        Retrieve the absent antigens previously
                            recorded.  If none are on record, return
                            empty array.
 
   Get Transfusion Reactions
         TRRX^VBECA1        Retrieve any previously recorded transfusion
                            reactions.  If none are on record, return
                            empty array.
 
   Get Blood Bank Comments
         BBCMT^VBECA1       Retrieve blood bank comments on the patient.
                            If none are on record, return empty array.
 
   Get Available Autologous Units
         AUTO^VBECA1        Return quantity and component class of units
                            available.  If none are on record return
                            empty array.
 
   Get CPRS Report Data
         DFN^VBECA3A        The following fields are retrieved in
                            support of the CPRS Blood Bank reports.
         CPRS^VBECA3B       This API converts the arrays produced in
                            VBECA3A into a single cohesive array for
                            use by CPRS.
 
      Component Request
         63.084,.01  (Blood Component Request)
         63.084,.04  (Number of Units)
         63.084,.03  (Request Date/Time)
         63.084,.05  (Date/Time Units Wanted)
         63.084,.09  (Requesting Person)
         63,.084,.08 (Entering Person DUZ)
 
      Crossmatch Data
         65,.01      (Unit ID)
         65,.04      (Component)
         65,.07      (ABO Group)
         65,.08      (RH Type)
         65,.06      (Expiration Date/Time)
         65,.16      (Division)
         65.03,.04   (Location) (Note: Most recent entry is
                                 reported here)
 
      Specimen Data
         63.01,.01   (Date/Time Specimen Taken)
         63.01,.03   (Date Report Completed)
         63.01,.01   (Date/Time Specimen Taken)
         63.01,10    (ABO Interpretation)
         63.01,2.9   (DIRECT AHG INTERPRETATION)
         63.01,2.1   (DIRECT AHG(POLYSPECIFIC))
         63.01,2.4   (Anti-IgC)
         63.01,2.6   (ANTI-COMPLEMENT)
         63.01,11    (RH Interpretation)
         63.01,6     (Antibody Screen Interpretation)
         63.199,.01  (Specimen Comment)
         63.01,2.91  (DIRECT AHG TEST COMMENT)
         63.012,.01  (ELUATE ANTIBODY)
         63.46,.01   (SERUM ANTIBODY)
         63.46,.02   (ANTIBODY COMMENT)
         63.48,.01   (ANTIBODY SCREEN COMMENT)
 
 
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*294 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*294 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
 RISK ANALYSIS: Changes made by patch LR*5.2*294 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
 DBIA: 3879-A
       3879-B
       3879-C 3181-A, 3181-D, and 3181-G
       3181-A
       3181-D
       3181-G
 
 Reference NOIS:   None
 
 Reporting Site:   None
  
 Test Site(s):     
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;0.5;VBECS;&lt;patchlist&gt;;APR 26, 2002
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   VBECA1            NEW            7650459        294
   VBECA1A           NEW            1999149        294
   VBECA3A           NEW            6174129        294
   VBECA3B           NEW            7215596        294
 
List of preceding patches: None
Sites should use CHECK^XTSUMBLD to verify checksums.
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*294'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;301 SEQ #231</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-09-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being released in support of the VBECS (Vista Blood 
Establishment Computer Software) Blood Bank Modernization Project.  In 
the future, data will be transitioned from the existing M database to a 
Microsoft SQL database.  This patch will begin the Lab packages 
transition to the new database.
 
 
 Routine     Area Affected
 
 LR7OR1      This routine provides an API for the retrieval of Lab
             results for a patient.  All references to the BB subscript
             (BLOOD BANK subfile #63.01) of the LAB DATA file (#63)
             have been removed.
 
 LRDPA1      The retrieval of ABO data for a patient has been
             transitioned from direct global reads to the ABO^VBECA1
             API (DBIA 3181-B).
             The retrieval of RH factor data for a patient has been
             transitioned from direct global reads to the RH^VBECA1
             API. (DBIA 3181-C)
 
 LRDPA2      The retrieval of Blood Bank Comments for a patient has
             been transitioned from direct global reads to the
             BBCMT^VBECA1 API (DBIA 3181-H).
             The retrieval of Antibodies Identified for a patient has
             been transitioned from direct global reads to the
             ABID^VBECA1 API (DBIA 3181-D).
             The retrieval of Transfusion Reactions for a patient has
             been transitioned from direct global reads to the
             TRRX^VBECA1 API (DBIA 3181-G).
 
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*301 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*301 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
 RISK ANALYSIS: Changes made by patch LR*5.2*301 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
 DBIA: 3181-B
       3181-C
       3181-D
       3181-H
       3181-G
 
 Reference NOIS:   None
 
 Reporting Site:   None
  
 Test Site(s):     Durham VA Medical Center
                   VA Long Beach Health Care System
                   VA Boston Healthcare System
                   Fayetteville, AR
                   Fayetteville, NC
                   Puget Sound HCS
 
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;0.5;VBECS;&lt;patchlist&gt;;APR 26, 2002
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
LR7OR1              13239118       13188168       121,187,219
                                                  230,256,301
LRDPA1               6551829        6578701       1,153,201,301
LRDPA2               5207196        7419799       301
 
List of preceding patches: 1,121,153,187,201,219,230,256
Sites should use CHECK^XTSUMBLD to verify checksums.
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*301'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;297</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-09-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
HIPAA Code Set Versioning project.
 
See patch LR*5.2*297 in the National Patch Module for complete 
information on this patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;299 SEQ #233</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-10-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See patch description for details.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;310 SEQ #234</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-10-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Installation of LR*5.2*301 (Released 9/15/03) has created a potential 
patient safety issue.  
 
After installation of patch LR*5.2*301, Blood Bank units that are 
positive for an antigen that corresponds to a patient's antibody are not 
detected by the Blood Bank Software during unit selection, unit 
crossmatch or unit issue.  
 
Because the patient's antibody is displayed on the screen during the 
patient processing, this should initiate each facility's own internal 
processes for performing the actual antigen typing on all units.  The 
potential for patient harm is possible but the likelihood that such an 
event actually occurred is low.  As a precaution, a facility should 
review transfusion records of any patients with an antibody that occurred 
since the installation of LR*5.2*301 to ensure that proper antigen 
testing did get performed.
 
 
Emergency patch LR*5.2*310 is being released to restore the routines, 
LR7OR1, LRDPA1 and LRDPA2 to their pre-patch LR*5.2*301 state.  If you 
have installed patch LR*5.2*301, because of the potential patient safety 
issues, is it recommended that you immediately install patch LR*5.2*310. 
Directive 2001-023 dictates it be installed within 24 hours for an 
Emergency patch.
 
For those sites that did NOT install LR*5.2*301, since it has now been 
marked as "Entered In Error" in the Patch Module, LR*5.2*301 should not 
be installed and is no longer available in the patch module.  The sites 
that did not install LR*5.2*301, MUST still install LR*5.2*310 even 
though the routines before and after install remain the same.  This is 
required because LR*5.2*310 will make a change to the 2nd line, adding 
310 to the patch list, which will be required in future patches.
  
 
****************************************************************
 
The following checksums are for those sites that have installed 
patch LR*5.2*301.  The Checksums Before Patch for sites that have not 
installed patch LR*5.2*301 will match the After Patch checksums listed 
below.
 
****************************************************************
  
ROUTINE SUMMARY FOR SITES THAT HAVE NOT INSTALLED LR*5.2*301
============================================================
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
LR7OR1               13239118       13239118       121,187,219
                                                   230,256,310
LRDPA1                6551829       6551829        1,153,201,310
LRDPA2                5207196       5207196        310
 
 
List of preceding patches: 1,121,153,187,201,219,230,256
Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
ROUTINE SUMMARY FOR SITES THAT HAVE INSTALLED LR*5.2*301
========================================================
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
LR7OR1               13188168       13239118       121,187,219
                                                   230,256,310
LRDPA1                6578701       6551829        1,153,201,310
LRDPA2                7419799       5207196        310
 
 
List of preceding patches: 1,121,153,187,201,219,230,256,301
Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
Patch LR*5.2*301 will no longer be listed in the second line of these 
routines.
 
  Installation Instructions:
  ==========================
 
  NOTE: This KIDS install does not place any options out of service
        during the install and no user options are affected.
        If KIDS prompts:
  
        "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES// NO"
        "Want KIDS to INHIBIT LOGONs during the install? YES// NO"
        "Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES// NO"
 
        The site should answer "NO" to all three questions.
            Note: You may not receive all three prompts at your site.  
  
        1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
           This option will load the KIDS package in this message onto
           your system.
        2. Review your mapped set.  If the routines are mapped, they
           should be removed from the mapped set at this time.
        3. The patch has now been loaded into a Transport global on
           your system. You now need to use KIDS to install the
           Transport global.
           On the KIDS menu, under the 'Installation' menu, use the 
           following options:
               Print Transport Global
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
        4. Users may remain on the system.
        5. No options need to be placed out of service.
        6. Installation time is less than 2 minutes during off peak
           hours and less the 5 minutes during peak hours.
        7. Installation of this patch requires no additional memory
           space.
        8. From the 'Installation Menu' of the KIDS menu, run the
           option 'Install Package(s)' Select the package 'LR*5.2*310'
           and proceed with the install.
        9. If any routines were unmapped as part of step 2, they should
           be returned to the mapped set once the installation has run
           to completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;307 SEQ #235</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-11-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch implements a request from DSS to expand the lab results 
site/specimen entries to include feces as an additional choice. At 
present the only two choices are blood and urine. The test "Occult 
Blood" is almost always performed on stool (i.e. feces) samples, 
therefore feces is needed as a possible choice.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;259</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-05-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Description:
===========

This patch to the Laboratory package does not contain any changes to the 
VISTA BLOOD BANK Software as defined by the VHA DIRECTIVE 99-053 titled 
VISTA BLOOD BANK SOFTWARE VERSION 5.2.

VISTA Laboratory Anatomic Pathology Electronic Signature (Patch LR*5.2*259) 
software release implements the new electronic signature functionality 
within the Autopsy, Cytology, Electron Microscopy, and Surgical Pathology 
sections for the Autopsy protocol, Standard Form 515 (SF 515), and 
supplementary reports. This new electronic signature functionality can be 
to activated or deactivated by the discretion of the site. The new Turn 
Electronic Signature On/Off [LRAP ESIG SWITCH] option is used to activate 
or deactivate the new electronic signature functionality. The electronic 
signature functionality is activated during the verification/release 
process of the Autopsy and AP reports. 

Pathologists may now view and electronically sign reports rather than 
printing a paper copy for viewing and signature. The electronic signature 
name is obtained from the NEW PERSON file (#200), ELECTRONIC SIGNATURE CODE 
field (#20.4). All electronically signed released reports are stored in TIU 
containing the electronic signature name, date, and time displayed on the 
last page of the reports (near the bottom). Only authorized users are 
allowed to electronically sign reports. Non-authorized users will receive a 
message indicating that they are not authorized to electronically sign 
reports.

  
ASSOCIATED NOIS
===============
ALB-0501-50221         e-sig for Surgical Pathology Report
ANN-1195-41047         Can release anatomic report without pathologist's 
                               name
ASH-0400-31745         CONFLICT  LAB VS PATCH XU*8*134
CHA-0601-30916         Anatomic Path result alerts
DAY-0201-40571         LR*5.2*248 - Verification of AP Supplemental
DET-0301-42098         Installed patch LR*5.2*248
FTL-1000-52712         QUESTION                       
IND-0501-42474         Error when trying to delete supplemental report 
                               date
JAC-0302-70436         Autopsy Reports
LOU-0400-42255         Modified Report not showing    
MAN-0100-11108         Supplemental report changes completion date in AP
MAN-0301-10830         MD DISPLAY ON PATH REPORTS     
MIN-0500-41991         PAP test limitations
MIW-0497-40185         PROVIDER NAME OVER 30 CHARACTERS
MOU-1101-32590         Autopsy type OTHER LIMITATIONS causes print problem
MUS-0997-70156         Need to edit path date     
PHI-0601-20384         Undefined variable [LRAPR
PUG-0700-52652         Need view alert for anatomic path result
SAM-0301-22193         SP REPORT FOOTER CONTAINS ADM: AND DX: TEXT FOR 
                               INPATIENTS
SDC-1101-61043         AP Reports - MODIFIED report
SHE-0499-50108         CPRS Interface with Anat Pathology for 
                               Notifications?
SPO-0701-50733         Alert for pathology        
WIC-0899-42604         REVERIFY RE'D AFTER VIEWING ANAT'L REPORT
WIC-1298-42147         Autopsy verification needs locked
 
E3R:      4892         NO SUPPLEMENTARY REPORT TO RELEASE' PROMPT
          5572         ELECTRONIC SIGNATURE FOR AP
          5995         SPECIMEN/DX FOR PATHOLOGIST VERIFICATION
          5592         RELEASE DATE ADDED TO ANATOMIC PATHOLOGY REPORTS
          6208         TECH TITLES
          6566         ANATOMIC PATH VIEW ALERT
          7059         CODING DOES NOT PRINT
          7536         CHANGE PATHOLOGIST AFTER REPORT VERIFIED
          9245         AUTOPSY RELEASE PROBLEM
          9447         ANATOMICAL PATH ALERT IS NOT FUNCTION
          9592         RELEASE DATE ADDED TO ANATOMIC PATHOLOGY REPORTS
         12872         ELECTRONIC SIGNING ANATOMIC PATH RPT
         14775         PATHOLOGY REPORT LOCK
         15456         NEED ELECTRONIC SIGNATURE
         15643         REQUEST CHANGES AFTER PATCH 248                   
         17034         AP REPORT FORMAT IGNORED BY CERTAIN CPRS DISPLAYS
           
    
TEST SITES
==========
  Bay Pines VAMC
  Boston HCS
  Desert Pacific Healthcare Network
  Durham VAMC
  Eastern Colorado HCS
  Jackson VAMC
  Milwaukee VAMC
  Muskogee VAMC
  North Chicago VAMC
  North Florida/South Georgia HCS
  Roudebush VAMC
  San Francisco VAMC
  VA Heartland East HCS
  VA Western New York HCS
 
 
SOFTWARE RETRIEVAL:
===================
  
The following software and documentation files are exported as part of
this patch:
  
     File Name           Contents                         Retrieval Format
     ---------           --------                         ----------------
     LR_52_259.KID       LR*5.2*259 KIDS build                 ASCII
  
The software files are available on one of the following OI Field Offices'
ANONYMOUS.SOFTWARE directories.
  
All sites are encouraged to use their FTP capability to obtain these files.
Use the FTP address "download.vista.domain.ext" (without the quotes) to
connect to the first available FTP server where the files are located.
  
     OI FIELD OFFICE    FTP ADDRESS                DIRECTORY
     ===============    ===========                =========
     ALBANY             ftp.fo-albany.domain.ext   [ANONYMOUS.SOFTWARE]
     HINES              ftp.fo-hines.domain.ext    [ANONYMOUS.SOFTWARE]
     SALT LAKE          ftp.fo-slc.domain.ext      [ANONYMOUS.SOFTWARE]
 



</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;305 SEQ #237</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-05-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Currently, the Laboratory application contains functionality that will 
allow the user to add a new patient to the PATIENT (#2) file from within 
the Laboratory Application.  However, due to IT Service Request 20030306 
Patient Identity Management Services and HDR (Health Data Repository) Pilot,
it has been requested that all ancillary applications, including Laboratory
Service, remove such functionality.  For more information on this service
request, view the following link:
 
http://vista.domain.ext/pas/ViewTrackingRecord.asp?RequestID=20030306
 
Most, if not all, sites are not using the functionality that allows a patient 
name to be added to the PATIENT (#2) file from the patient name prompt 
within Lab menu options.  However, the functionality is in place and may be 
used if the site has the ALLOW LAB TO ADD PATIENTS (#13) field of the
LABORATORY SITE (#69.9) file set to 'Yes.'  If this field is set to 'Yes',
any patient name prompt will accept a new patient name, one that does not
currently exist in the PATIENT(#2) file, if the new patient name is entered
twice.  See the example below:
 
Select Laboratory DHCP Menu Option: 1  Phlebotomy menu
  
          Add tests to a given accession.
          Add tests to an already existing order number.
          Delete entire order or individual tests
          Itemized routine lab collection
          Lab orders by collection type
          Lab test order
          List of lab orders not collected
          List of orders not collected (Long form)
          Order/test status
          Print collection list/labels
          Print future collection labels
          Print single future collection label
          Receipt of routine lab collection from wards
          Test description information
          Ward lab menu ...
 
Select Phlebotomy menu Option: LAB TEST order
 
Select Patient Name: NEWPATIENT,JANE ??  &lt;-- 1st try - Name does not exist so 
                                             '??' displays
Select Patient Name: NEWPATIENT,JANE     &lt;-- 2nd try - Name is accepted as a 
                                             new entry to the PATIENT(#2)
file.
   ARE YOU ADDING 'NEWPATIENT,JANE' AS A NEW PATIENT (THE 239TH)? No// Y 
(Yes)
   PATIENT SEX: F FEMALE
   PATIENT DATE OF BIRTH: 03121975  (MAR 12, 1975)
   PATIENT SOCIAL SECURITY NUMBER: 111223333
   PATIENT TYPE: ?
   PATIENT TYPE: TRICARE  
   PATIENT VETERAN (Y/N)?: Y YES
   .
   .
   .
 
A number of patient demographic fields are prompted before resuming the 
prompting of fields required for the LAB TEST ORDER [LROW] option.  Most 
options in Laboratory Service permit new patient names to be entered in the 
format shown above.  Patch LR*5.2*305 was created to remove this 
functionality from within the Laboratory Service application. 
 
The following two changes to existing functionality are included in this 
patch:
 
  1. The ALLOW LAB TO ADD PATIENTS (#13) field of the LABORATORY SITE 
     (#69.9) file has been modified so that it can no longer be set to
     'Yes.'  'No' is now the only answer allowed.
 
  2. The patient name prompt in menu options within Laboratory Service, 
     has been modified to no longer allow a new patient to be added to the 
     PATIENT (#2) file from within Lab.  See the example below:
 
Select Laboratory DHCP Menu Option: 1  Phlebotomy menu
 
          Add tests to a given accession.
          Add tests to an already existing order number.
          Add to collection list
          Delete entire order or individual tests
          Itemized routine lab collection
          Lab orders by collection type
          Lab test order
          List of lab orders not collected
          List of orders not collected (Long form)
          Order/test status
          Print collection list/labels
          Print future collection labels
          Print single future collection label
          Receipt of routine lab collection from wards
          Test description information
          Ward lab menu ...
 
Select Phlebotomy menu Option: LAB TEST order
 
Select Patient Name: NEWPATIENT,JANE ??
Select Patient Name: NEWPATIENT,JANE ??
Select Patient Name: NEWPATIENT,JANE ??
Select Patient Name:
 
The new patient name NEWPATIENT,JANE is not accepted.
 
VISTA Laboratory Package patch LR*5.2*305 contains changes to software 
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE. 
Changes include: NOT ALLOWING LAB TO ADD PATIENTS TO PATIENT FILE
 
All of the above changes have been reviewed by the VISTA Blood Bank 
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE 
control functions.
 
RISK ANALYSIS:  Changes made by patch LR*5.2*305 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*305 does not 
alter or modify any software design safeguards or safety critical elements 
functions.
  
POTENTIAL IMPACT ON SITES:  This patch contains changes to one routine and 
one file identified in Veterans Health Administration (VHA) Directive 
99-053, group B listing. The changes have no effect in Blood Bank 
functionality or medical device control functions. There is no adverse 
potential to sites.
 
Software Updates:
----------------
The following code has been changed in routine ^LRDPA.  Added Quit at the end
of the first line in subroutine LAYG.
 
From:  
LAYG    ;Determine if DLAYGO is allowed on second pass.
        K DLAYGO S DIC(0)="EQMZ"
        Q:'$P($G(LRPARAM),"^",6)
        Q:'$D(LRLABKY)
        S DLAYGO=2 S DIC(0)="EQMZL"
        Q
To:
LAYG    ;Don't allow DLAYGO on second pass.
        K DLAYGO S DIC(0)="EQMZ" Q
        Q:'$P($G(LRPARAM),"^",6)
        Q:'$D(LRLABKY)
        S DLAYGO=2 S DIC(0)="EQMZL"
        Q
 
DD Updates:
-----------
The description of ALLOW LAB TO ADD PATIENTS field (#13) in the LABORATORY
SITE file (#69.9) has been changed to indicate that field #13 is no longer
functional, and the set code value '1' has been removed as a valid entry.
 
From:
69.9,13   ALLOW LAB TO ADD PATIENTS 0;6 SET (Required)
 
          '1' FOR YES;
          '0' FOR NO; 
          LAST EDITED: MAY 01, 1984 
          DESCRIPTION: If the Lab is allowed to enter patients into
               the system, this field must contain a 'Yes' entry.  Only 
               lab users with the LRLAB key will make the changes and 
               only when using lab options.  
 
To:
69.9,13          ALLOW LAB TO ADD PATIENTS 0;6 SET (Required)
 
          '0' FOR NO; 
          LAST EDITED: SEP 02, 2003 
          DESCRIPTION: This field is not functional.  It is no longer 
               used to allow Lab to add patients to the Patient file. 
 
Test Sites     
---------- 
Muskogee, OK
Boston HCS
Cheyenne VAMC
Columbus VAMC
  
  ROUTINE SUMMARY: 
  =================
  The following routine(s) are included in this patch.  The second line
  of each routine now looks like: 
  
  &lt;tab&gt;     ;;5.2;LAB SERVICE;**[patch list]**; Sep 27, 1994
   
                Checksum      Checksum
  Routine Name  Before Patch  After Patch  Patch List
  ------------  ------------  -----------  -----------
  LR305         N/A           5010875      **305** (Deleted by KIDS)
  LRDPA         7837880       7840899      **137,121,153,202,211,248,305** 
  
  Installation Instructions: 
  ==========================
  Users may remain on the system, but installation should be done at off
  peak hours.  No options need to be placed out of service.  Installation 
  time is less than 1 minute during off peak hours and less than 5 minutes
  during peak hours.  Installation of this patch requires no additional 
  memory space.
 
  1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
     option will load the KIDS package in this message onto your system.
 
  2. Review your mapped set.  If the routines are mapped, they 
     should be removed from the mapped set at this time
 
  3. The patch has now been loaded into a Transport global on your
     system. You now need to use KIDS to install the Transport global.
     
  4. On the Kernel Installation and Distribution System (KIDS) menu, select
     the 'Installation' menu.  You may elect to use the following options:
         a. Print Transport Global
         b. Compare Transport Global to Current System
         c. Verify Checksums in Transport Global
         d. Backup a Transport Global
 
  5. When ready, select the Install Packages option (when prompted for the
     INSTALL NAME, enter 'LR*5.2*305'.      
  
  6. When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
     respond "NO".
 
  7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
     Protocols? YES//', respond "NO".
 
  8. If any routines were unmapped as part of step 2, they should be
     returned to the mapped set once the installation has run to
     completion.
 
  9. Using Fileman, verify that the ALLOW LAB TO ADD PATIENTS (#13) field 
     of the LABORATORY SITE file (#69.9) is set to 'No.'  If not, set it to
     'No.'  'No' is the only setting allowed after patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;281</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-07-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*281 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA  
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*281 does not 
alter or modify any software design safeguards or safety critical
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*281 have no effect on Blood 
Bank software functionality, therefore RISK is none. 
 
VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes made,
no specific validation requirements exist as a result of installation of this
patch.
***********************************************************************
Due to extensive historical data transmission requirements and mandated setups
required for such, a phased installation and implementation of this patch will
be utilized for release of this patch.  The software download information will
be made available to sites attending one of the following national
audioconference calls:
 
Tuesday, June 8 at 1:00 - 3:00 PM EST for VISNs 1-2-3-4-5-6 
Thursday, June 10 at 3:00 - 5:00 PM EST for VISNs 7-8-9-10-11 
Tuesday, June 15 at 4:00 - 6:00 PM EST for VISNs 12-15-16-17-23 
Wednesday, June 16 at 2:00 - 4:00 PM EST for VISNs 18-19-20-21-22 
Thursday, June 17 at 2:00 - 4:00 PM EST for those unable to attend the other
calls. 

The VANTS telephone number is 1 800 767-1750 and the access code for all calls
is 13143.

This patch will involve reseeding of the EPI databases for each site to allow
the new data created by this patch to be captured.  It is imperative each site 
attend an audioconference prior to installation and implementation of
LR*5.2*281.

INSTRUCTIONS FOR SEEDING THE HISTORICAL DATA:
 
Historical data must be gathered from October 1, 2000 through June 14, 2004. 
Use the Lab EPI Manual Run (Enhanced) [LREPI ENHANCE MANUAL RUN] option to run/
gather and transmit 6 manual runs (consecutive runs) at a time.
 
** Sites DO NOT transmit on June 16 or July 4 to avoid Austin Automation Center
 (AAC) capacity limitations. **
 
Batch #1: October 1, 2000 -March 31, 2001
Batch #2: April 1, 2001 - September 30, 2001
Batch #3: October 1, 2001 - March 31, 2002
Batch #4: April 1, 2002 - September 30, 2002
Batch #5: October 1, 2002 - March 31, 2003
Batch #6: April 1, 2003 - September 30, 2003
Batch #7: October 1, 2003 - March 31, 2004
Batch #8: April 1, 2004 - June 14, 2004 
 
Sites will run 8 batches of reports. Each batch should contain 6 separate
monthly extracts which are tasked separately by month, i.e., OCT 2000, NOV
2000, DEC 2000, JAN 2001, FEB 2001, MAR 2001 = 1 batch and will generate six
separate processing reports back to the station and transmit them over a five
week period June 10, 2004 - July 12, 2004.
You do not have to wait for one monthly extract to run before starting the next
in a batch.
You do not have to wait for one batch to complete running before queuing the
next batch.
If you receive any fatal errors and the monthly extract is rejected, you will
need to fix the error and retransmit that month. 
 
Sites may transmit reports to AAC on evenings and weekends following this
schedule:
1. VISNs with odd numbers are asked to transmit batches on Tuesday &amp; Thursday
 during the PM hours and Saturdays.
2. VISNs with even numbers are asked to transmit on Monday &amp; Friday during the
 PM hours and Sundays.
 
**  NO Sites may transmit on June 16 or July 4 due to AAC limitations. **


The EPI Enhancement patch, LR*5.2*281, contains enhancements and 
modifications to the Emerging Pathogens Initiative (EPI) software.
The enhancements and modifications included in this patch are:

1) New EPI Summary Verification Report of EPI Extracted Data from Site:
   The new Verification Summary Report of EPI Extracted Data from Site   
   replaces the existing Emerging Pathogens Verification Report.  This 
   new summary report consists of the following functionality:
        1) Summary report automatically generated at the sites and sent    
           to the EPI-REPORT mail group on the 15th day of each month
        2) Summary pages are displayed in a human readable format used 
           for quick viewing
        3) Displays reporting site name and station number
        4) Summary report is only 1-2 pages long
        5) Summary report displays emerging pathogens total number of
           occurrences during the monthly processing cycle
        6) Summary report displays emerging pathogens total number of
           persons with occurrences during the monthly processing cycle
        7) Displays Resolution of Risk Assessment number of persons 
           with the nationally rolled-up resolution Hepatitis C that 
           occurred during monthly processing cycle

2) New Detailed Verification Report is a detailed pathogen-specific report for validation purposes.  The Print Detailed Verification Report [LREPI VERIFICATION REPORT] option prints t
automatically generated when your site does an automated or manual run and data is sent to Austin Automation Center.  Six months of previous reports are kept as well as the current mo

3) Sites now have the ability to capture and manipulate EPI data into a 
report or spreadsheet-delimited format.  A site can also add pathogens for local use and generate reports or capture data in a spreadsheet format for local use.

4) Additional data will be sent to Austin.  Including:
        LOINC codes
        Master Patient Index
        County and State for patient demographics
        MIC values
        The new Race and Ethnicity fields

5) Provide the ability to capture 6 new pathogens:
        All Staphylococcus aureus (Reference #18)
        Methicillin-Resistant Staphylococcus aureus (MRSA)
        (Reference #19)
        Vancomycin-Resistant Staphylococcus aureus (VRSA)
         (Reference #20)
        Vancomycin-Resistant Coagulase Negative Staphylococci/Staph epi   
        (VRSE)(Reference #21)
        All Streptococcus pneumoniae (Reference #22)
        All Enterococci (Reference #23)

6) EPI is also enhanced to capture the approved newer Legionella Urinary Antigen test.

7) A bug is fixed with the date handling for start and stop date.

8) The new field PREVIOUS CYCLE (#19) in the Lab Search/Extract file(#69.5) contains a numeric entry which defines the number of previous cycles to search.  These findings will be rep
 
NEW OPTIONS:
NAME: LREPI DELETE LOCAL PATHOGEN       MENU TEXT: Delete Local Pathogen
  TYPE: run routine
DESCRIPTION:   This option allows deletion of local pathogens ONLY. 
National pathogens CAN NOT be deleted.
  ROUTINE: DELETE^LREPIPI
 
NAME: LREPI DELETE LOCAL REPORT
  MENU TEXT: Delete Local Report or Spreadsheet
  TYPE: run routine
 DESCRIPTION:   This option allows you to delete local reports or local
 spreadsheets.  
  ROUTINE: DELETE^LREPIRS2
 
NAME: LREPI ENTER/EDIT LOCAL PATH       MENU TEXT: Enter/Edit Local 
Pathogens
  TYPE: run routine
 DESCRIPTION:   This option allows you to enter or edit local pathogens 
into the LAB SEARCH/EXTRACT FILE (#69.5)  These pathogens can be selected for the report/spreadsheet option.  Local pathogens WILL NOT be transmitted to Austin.
  ROUTINE: LREPIPI
 
NAME: LREPI GENERATE REPORT/SP
  MENU TEXT: Lab EPI Generate Local Report/Spreadsheet
  TYPE: run routine
 DESCRIPTION:   This new option is used to generate reports or spreadsheets for national EPI and local pathogen data.  The job is automatically tasked after selecting the national EPI
or spreadsheet.  The report or spreadsheet can then be viewed on the screen or printed using the new LAB EPI Print Local Report/Spreadsheet option.  Note: NO data is transmitted to Au
  ROUTINE: LREPIRS
 
NAME: LREPI LOCAL PATHOGEN MENU         MENU TEXT: Local Pathogen Menu
  TYPE: menu
 DESCRIPTION:   This menu contains options to enter/edit and delete local pathogens.  Also, it contains options to generate and print the local report/spreadsheet.  
ITEM: LREPI ENTER/EDIT LOCAL PATH
ITEM: LREPI DELETE LOCAL PATHOGEN
ITEM: LREPI GENERATE REPORT/SP          SYNONYM: GEN
ITEM: LREPI PRINT REPORT/SPSHT          SYNONYM: PRT
 
 
NAME: LREPI PATHOGEN INQUIRY            MENU TEXT: Pathogen Inquiry
  TYPE: run routine
 DESCRIPTION:   This new option is used to inquire into the LAB
SEARCH/EXTRACT file (#69.5) parameter description fields (i.e. INACTIVE:NO, LAG DAYS: 15, RUN DATE:ICT 07,2003, CYCLE:MONTHLY, PROTOCOL:LREPI, FOLLOW PTF:YES, REFERENCE NUMBER:23, and
  ROUTINE: INQUIRY^LREPIPI
 
NAME: LREPI PRINT REPORT/SPSHT
  MENU TEXT: Lab EPI Print Local Report/Spreadsheet
  TYPE: run routine
 DESCRIPTION:   This option allows you to print a report or spreadsheet 
that was generated with the Lab EPI Generate Local Report/Spreadsheet.  
  ROUTINE: LREPIRS2
 
NAME: LREPI VERIFICATION REPORT
  MENU TEXT: Print Detailed Verification Report
  TYPE: run routine
 DESCRIPTION:   This option prints the Detailed Verification Report.  This 
report is automatically generated when your site does an automated or 
manual run and data is sent to Austin Automation Center.  Six months of 
previous reports are kept as well as the current month for printing.  
  ROUTINE: LREPIRP7

MODIFIED OPTIONS:
NAME: LREPI ENHANCE MANUAL RUN          MENU TEXT: Lab EPI Manual Run (Enhanced)
  TYPE: run routine
DESCRIPTION:   This option is used ONLY to manually extract national EPI data
 and transmit to the Austin Automation Center (AAC). When this option is run,
 an EPI Summary Verification Report is generated and automatically sent to the
 EPI-Report mail group. Also, a Detailed Verification Report is generated and
 can be printed using the new Print Detailed Verification Report [LREPI
 VERIFICATION REPORT] option. This option has been RENAMED from Lab
 Search/Extract Manual Run (Enhanced) [LREPI SEARCH/EXTRACT ENHANCED MANUAL
 RUN] to EPI Manual Run (Enhanced) [LREPI ENHANCE MANUAL RUN] option.  
  ROUTINE: LREPIRM

NAME: LREPI NIGHTLY TASK                MENU TEXT: Lab EPI Nightly Task
  TYPE: run routine
 DESCRIPTION:   The Lab Search/Extract Nightly Task option must be scheduled to
 run each night by TaskMan. This option will build a HL7 Message and send it
 the defined location specified in the EPI Protocols.  
  ROUTINE: AUTO^LREPIRM                 SCHEDULING RECOMMENDED: YES

NAME: LREPI PARAMETER SETUP             MENU TEXT: Lab EPI Parameter Setup
  TYPE: ScreenMan
DESCRIPTION:   This option is used to define the search criteria along with
 additional information associated with the EPI extracts.  This option only
 allows editing.  You are not allowed to add local pathogens with this option.  
  DIC {DIC}: LAB(69.5,                  DIC(0): AEMQ
  DR{DDS}: [LREPI9]                     DDSFILE: 69.5

MODIFIED FILE:
                                          UP    SEND  DATA                USER
                                          DATE  SEC.  COMES  SITE   RSLV  OVER
 FILE #      NAME                         DD    CODE  W/FILE DATA   PTS   RIDE
 -------------------------------------------------------------------------------
 
 69.5        LAB SEARCH/EXTRACT           YES   NO    YES    MERG   YES   NO
 
The VistA Laboratory EPI Rollup Modifications Technical and User Manual 
(i.e., LR_52_281_EPI_TUM.PDF) is available on the following Office of 
Information Field Offices (OIFOs) ANONYMOUS SOFTWARE directories: 
 
OIFOs              FTP ADDRESS                   DIRECTORY
Albany             ftp.fo-albany.domain.ext      [ANONYMOUS.SOFTWARE]
Hines              ftp.fo-hines.domain.ext       [ANONYMOUS.SOFTWARE]
Salt Lake City     ftp.fo-slc.domain.ext         [ANONYMOUS.SOFTWARE]
 
VistA Laboratory EPI Rollup Modifications Technical and User Manual is 
exported as part of Patch LR*5.2*281 in the following formats:
 
FILE NAME                      CONTENTS                             FORMAT RETRIEVAL

LR_52_281_EPI_TUM.PDF          LR EPI Technical and User Manual     BINARY
 
Testing Sites:
==============
 Boston HCS
 Cincinnati VAMC
 Detroit VAMC
 Durham VAMC
 Manchester VAMC
 Togus VAMC
 
 ROUTINE SUMMARY
 ===============
 
   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
  
                     Checksum       Checksum
 
 
    Routine Name     Before Patch   After Patch    Patch List
    ------------     ------------   -----------    ------------
    LR281            N/A              4418686      281(Deleted by KIDS)
    LREPI            14217525         14182167     132,175,260,281
    LREPI1           10654552         11822436     132,157,175,260,281
    LREPI2           7199135          8491199   132,157,175,242,260,281
    LREPI2A          NEW              7574864      281
    LREPI3           5462995          9184652      132,175,260,281
    LREPI5           NEW              2408593      281
    LREPIPH          5818757          6144410      260,281
    LREPIPI          NEW              5220624      281
    LREPIRM          5260075          7566388      175,281
    LREPIRP          5973015          20442264     132,157,175,260,281
    LREPIRP1         NEW              15133552     281
    LREPIRP2         NEW              3729823      281
    LREPIRP3         NEW              29061422     281
    LREPIRP4         NEW              1812384      281
    LREPIRP5         NEW              11788836     281
    LREPIRP6         NEW              25502070     281
    LREPIRP7         NEW              17171829     281
    LREPIRP8         NEW              8376752      281
    LREPIRP9         NEW              4718         281
    LREPIRS          NEW              8576522      281
    LREPIRS1         NEW              16664999     281
    LREPIRS2         NEW              22133542     281
    LREPIRS3         NEW              16290972     281
    LREPISRV         12552990         15211664     260,281 
    LREPISV1         NEW              4805594      281
 
 ASSOCIATED NOIS:
 ================
 
 NONE
 
 E3Rs:
 =====
 
 N/A
 
**********************************************************************
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes. This patch
  can be installed when Laboratory users are on the system.
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
  1.  If any of the above routines are mapped, disable mapping for
      them.
 
  2.  Use the 'Load a Distribution" option to load the Host file on to your
      system.
 
  3.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport   
      global.
 
  4.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  5.  Use the 'Verify Checksum in Transport Global' option and verify 
      that all routines have the correct checksums.
 
  6.  On the KIDS menu, under the 'Installation' menu, use the   
      following options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this 
      patch prior to installation, you should use the 'Backup a 
      Transport Global' option at this time.  You may also compare the  
      routines in your production account to the routines in the patch  
      by using the 'Compare a Transport Global to Current System' 
      option.
  
  7.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*281'.
 
      If prompted ' Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' choose 'NO'.
 
      If prompted ' Want KIDS to INHIBIT LOGONs during the install?  
      YES// ' choose 'NO'.
 
      If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', choose 'NO'.
 
  8.  On a mapped system, rebuild your map set.
 
  9.  Routine LR281 will be deleted after successful patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;313 SEQ #238</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-08-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Description
===========

This patch corrects several defects reported with the eGFR delta check
released in patch LR*5.2*289 DELTA CHECK FOR EGFR TEST.
 
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*313 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*313 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*313 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.
 
1. NOIS DUR-0803-30566 and NYH-1203-10526 reported the eGFR calculation
delta check was not triggered when processing creatinine results via
option Enter/verify data (autoinstrument) [LRVR]. The delta check will be
triggered when the creatinine value is entered and/or changed or when the
eGFR has not been calculated. If the eGFR is a required test and the result
is 'pending' then the delta check will attempt to calculate the eGFR.
 
2. The comment "MISSING PARAMETER" generated when the patient's race is
'Undeclared' or 'Unanswered' is changed to "For eGFR: Race unknown, if
African American multiply result by 1.210".
 
3. The delta check will determine the patient's race using the following
criteria:
 a. If specimen for a PATIENT file (#2) patient, the race is determine 
    using supported API VADPT.
 b. If specimen for a REFERRAL PATIENT file (#67) patient, the race is
    determined based on RACE field (#.06) in REFERRAL PATIENT file.
 c. All other patient types will not use race as a parameter in the
    calculation. These patient types will generate the 'race unknown'
    comment.
 
4. During patch development it was determined that the lock placed on the
accession being verified could be prematurely released. This defect could
allow two or more users to edit the accession concurrently. The delta check
has been changed to eliminate the releasing of the lock. The lock will now
be released by the lab verifying options.
 
5. During patch testing a potential safety issue was identified with the
delta check with regards to display of abnormal/critical creatinine values.
The delta check displayed eGFR exception messages as part of the display
of creatinine abnormal/critical flags. These eGFR exception messages will
be added as accession comments and not displayed as part of the creatinine
result display.
 
The eGFR exception messages that will be added as comments are.
    Condition                             Comment
    ---------                             -------
 no patient age   - "For eGFR: **eGFR not Calculated - No Age Recorded**"
 no patient sex   - "For eGFR: **eGFR not Calculated - No Sex Recorded**"
 race unknown     - "For eGFR: Race unknown, if African American multiply
                     result by 1.210"
 delta check
 incorrectly
 configured       - "For eGFR: **eGFR not Calculated - Delta check not
                     configured**"
                     Note: this comment generated when field TEST NAME FOR
                           OUTPUT VALUE 1 (#61.1) is blank for the eGFR
                           delta check entry in DELTA CHECKS file (#62.1).
 creatinine
 changed and eGFR
 not in editing
 profile          - "For eGFR: **eGFR not in test editing profile -
                     Creatinine Changed**"

When no patient age or sex is identified, "canc" will be entered as the
eGFR test result.
  
6. NOIS  FGH-0304-32518 reported the eGFR calculation was being performed
and the result added to the accession when there was no ordered test for
the eGFR. This prevents user from verifying and releasing test results.
The eGFR delta check will check for the eGFR test in the test editing
profile selected by the user. If the eGFR test is not in the editing
profile then it will not be calculated. If the creatinine value is
changed, the eGFR test is not in the editing profile and there is a
previous eGFR result then the exception message "For eGFR: **eGFR not in
test editing profile - Creatinine Changed**" will be generated
 
7. When the eGFR delta check is called by option Group data review
(verified &amp; EM) [LRGVP] the delta check will quit with no action taken.
 
8. See patch LR*5.2*289 DELTA CHECK FOR EGFR TEST for instructions on
setting up and configuring the eGFR delta check.
 

ASSOCIATED E3R
--------------
 None
 
 
ASSOCIATED NOIS
---------------
DUR-0803-30566
FGH-0304-32518
NYH-1203-10526 
 
  
TEST SITES
----------
Albuquerque VAMC - VMS/DSM
Durham VAMC - VMS/DSM
Iron Mountain VAMC - VMS/Cache 
Maryland HCS - VMS/DSM
Milwaukee VAMC - VMS/DSM
North Florida/South Georgia HCS - VMS/DSM
Shreveport VAMC - VMS/DSM
Tomah VAMC - VMS/Cache
Upstate New York HCS - VMS/DSM
  

ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR313            N/A            4332118        **313** (Deleted by KIDS)
   LREGFR           2490467        3964631        **289,313**
 
 List of preceding patches: 289
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
  
INSTALLATION INSTRUCTIONS
-------------------------
 
 The install time for this patch is less than 5 minute. This patch can be
 installed when Laboratory users are on the system. However these users
 should not be using any of the Laboratory's package verifying options.
 Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
 
  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*313'.
 
      When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//
      choose 'NO'.
 
      When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols?  YES//', choose 'NO' unless site has additional local
      laboratory verifying options that should be disabled during install.
 
      The install will automatically disable the following options:
      Accession order then immediately enter data         LR ACC THEN DATA
      Batch data entry (chem, hem, tox, etc.)             LRSTUF
      Bypass normal data entry                            LRFAST
      Enter/verify data (Load list)                       LRVRW2
      Enter/verify data (Work list)                       LRVRW
      Enter/verify data (auto instrument)                 LRVR
      Enter/verify/modify data (manual)                   LRENTER
      Fast Bypass Data Entry/Verify                       LRFASTS
      Group data review (verified &amp; EM)                   LRGVP
      Group verify (EA, EL, EW)                           LRGV
 
 
  7. On a mapped system, rebuild your map set.
 
 Note: Routine LR313 will be deleted after successful patch installation. 
 
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*313  Loaded from Distribution  1/26/04@11:22:51
     =&gt; LR*5.2*313
 
This Distribution was loaded on Jan 26, 2004@11:22:51 with header of
   LR*5.2*313 
   It consisted of the following Install(s):
     LR*5.2*313
Checking Install for Package LR*5.2*313
Will first run the Environment Check Routine, LR313
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*313
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET VIRTUAL
 
 
 Install Started for LR*5.2*313 :
               Jan 26, 2004@11:26:28
 
Build Distribution Date: Jan 26, 2004
 
 Installing Routines:...
               Jan 26, 2004@11:26:28
 
 Running Pre-Install Routine: PRE^LR313.
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION...........
               Jan 26, 2004@11:26:28
 
 Running Post-Install Routine: POST^LR313.
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*313 Installed.
               Jan 26, 2004@11:26:28
 
 Install Message sent #xxxxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;312 SEQ #240</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-09-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See patch description for details.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;320 SEQ #241</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-09-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*320 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA  
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*320 does not 
alter or modify any software design safeguards or safety critical
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*320 have no effect on Blood 
Bank software functionality, therefore RISK is none. 
 
VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes made,
no specific validation requirements exist as a result of installation of this
patch.
***********************************************************************

The EPI Historical Reseeding patch, LR*5.2*320, contains modifications to the
Emerging Pathogens Initiative (EPI) software that corrects fata errors received
during the historical reseeding of the EPI data.  Sites were receiving fatal
errors from Austin that caused their data to be rejected.
The modifications included in this patch are:

1) Test patients are not included in the EPI data sent to Austin.

2) A string length error was fixed, MERGEOUT+34^HLTF2:1,%DSM-E-STRLEN.  This
 error was due to PID segments that were over 245 characters long.

3) The 410 errors, discharge date after processing date, was corrected.  This
 problem was due to patients with a future discharge date.  This patch resolves
 this problem by not sending the discharge date to Austin if the discharge date
 is greater than the last day of the month of the extracted data.

4) An undefined error is fixed.  In the Print Detailed Verification Report 
[LREPI VERIFICATION REPORT] option an undefined error occurs when an "^" is 
entered at the "Select Pathogen: " prompt.  Also, when selecting the Detailed
Verification Report, the processing period is now displayed for easier
selection.

5) The 605 errors are corrected.  This problem was due to a missing date in the
 BACT RPT DATE APPROVED (#11 ) field of MICROBIOLOGY (#63.05) subfile of LAB 
 DATA (#63) file for organism IDs and a "0" was being sent to Austin.  This
 patch resolves this problem by sending a blank field when the completed date
 is missing instead of "0".

6) A processing routine is added to the LREPI CLIENT protocol.  This resolves
missing processing routine HL7 errors.

 
Test Sites:
==============
 Phoenix, AZ VAMC
 Boston, MA HCS
 Cincinnati, OH VAMC
 Durham, NC VAMC

 ROUTINE SUMMARY
 ===============
 
   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
  
                     Checksum       Checksum
 
 
    Routine Name     Before Patch   After Patch    Patch List
    ------------     ------------   -----------    ------------
    LR320            N/A              2912182      320(Deleted by KIDS)
    LREPI1           11822436         11922889     132,157,175,260,281,320
    LREPI2           8491199          8531292      132,157,175,242,260,281,320
    LREPI3           9184652          9874365      132,175,260,281,320
    LREPIRP          20442264         20526099     132,157,175,260,281,320
    LREPIRP5         11788836         11827526     281,320
    LREPIRP7         17171829         17482896     281,320

 ASSOCIATED NOIS:
 ================
 
 PHO-0604-62256
 DUR-0604-31907
 CTX-0604-71980
 DAY-0704-40732

 E3Rs:
 =====
 
 N/A
   
**********************************************************************
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is less than 2 minutes. This patch
  can be installed when Laboratory users are on the system.
 
NOTE: Kernel patches must be current on the target system
      to avoid problems loading and/or installing this patch.
 
  1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  2.  The patch has now been loaded into a Transport global on your
      system.  You now need to use KIDS to install the transport   
      global.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  Use the 'Verify Checksum in Transport Global' option and verify 
      that all routines have the correct checksums.
 
  5.  On the KIDS menu, under the 'Installation' menu, use the   
      following options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
      If you wish to preserve a copy of the routines exported in this 
      patch prior to installation, you should use the 'Backup a 
      Transport Global' option at this time.  You may also compare the  
      routines in your production account to the routines in the patch  
      by using the 'Compare a Transport Global to Current System' 
      option.
 
 
  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*320'.
 
      If prompted ' Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' choose 'NO'.
 
      If prompted ' Want KIDS to INHIBIT LOGONs during the install?  
      YES// ' choose 'NO'.
 
      If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', choose 'NO'.
  
  7.  Routine LR320 will be deleted after successful patch installation.

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;316 SEQ #242</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-10-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will prevent a user from entering the ; and : characters when
defining or modifying a data name using menu options Add a new data name
[LRWU5] and Modify an existing data name [LRWU6].
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;318 SEQ #243</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-12-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses 2 NOIS calls:
 
1) BRK-1095-12897  PROBLEMS WITH SUMMARY LIST (SUPERVISORS')
2) ECH-0404-50682  ERROR AT P1+10^LRLISTE
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;295</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-12-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
  
 This project consists of 12 patches that work together to create a new
 Clinical Reminders index global. The purpose of this index is to provide
 rapid access to clinical data. All of the standard Clinical Reminders
 finding types are included in the index.
  
 The 12 patches that comprise this project are:
  
   Package                                 Patch
   -------                                 -----
   Clinical Reminders                      PXRM*1.5*12
   Inpatient Pharmacy                      PSJ*5*90
   Laboratory                              LR*5.2*295
   Mental Health                           YS*5.01*77
   Order Entry/Results Reporting (OE/RR)   OR*3*157
   Outpatient Pharmacy                     PSO*7*118
   Patient Care Encounter (PCE)            PX*1.0*119
   Pharmacy Data Management                PSS*1*62
   PIMS/Scheduling                         DG*5.3*478
   Problem List                            GMPL*2*27
   Radiology                               RA*5*33
   Vitals                                  GMRV*4*15
  
 This patch (LR*5.2*295) provides the description of the Lab
 routines, but not the Lab routines themselves, which must be loaded
 from the main multi-build host file. PXRM*1.5*12 distributes these Lab
 routines. This patch provides a new global ^PXRMINDX where Lab data
 are indexed in ^PXRMINDX(63, for fast retrieval. Lab APIs are provided
 to provide easy access. APIs are documented in DBIAs 4245 and 4246.
 Changes were made to existing Lab routines that update the indexes
 whenever Lab data is added, edited, or deleted.
  
 Note: This patch is informational; the build (LR*5.2*295) will be
 distributed as part of a multi-package build,
 CLINICAL_REMINDERS_INDEX.KID.
  
  Blood Bank Clearance:
  =====================
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*295 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*295 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*295 have no effect on 
 Blood Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the 
 changes made, no specific validation requirements exist as a result of 
 installation of this patch.
  
  Documentation:
  ==============
 An installation guide, PXRMIG-P12.PDF, and a technical manual,
 PXRMTM-P12.PDF, are available. This documentation will be in the form
 of Adobe Acrobat files. The documentation can also be found on the
 Health System Design and Development Web page: (http://vista.domain.ext/vdl/).
  
 The preferred method is to FTP the files from download.vista.domain.ext.
 This transmits the files from the first available FTP server. Sites
 may also elect to retrieve documents directly from a specific server as
 follows:
  
 Albany          ftp.fo-albany.domain.ext  &lt;ftp://ftp.fo-albany.domain.ext&gt;
 Hines           ftp.fo-hines.domain.ext   &lt;ftp://ftp.fo-hines.domain.ext&gt;
 Salt Lake City  ftp.fo-slc.domain.ext     &lt;ftp://ftp.fo-slc.domain.ext&gt;
  
  Test Sites:
  ===========
  Anchorage
  Augusta
  Birmingham
  Bronx
  Chicago
  Dayton
  Loma Linda
  Martinez
  Montana
  Puget Sound
  Salt Lake City
  San Francisco
  Tampa
  Washington DC
  White River Junction
  
  Routine Summary:
  ===============
  The following is a list of the routines included in this patch. The 
  second line of each routine looks like:
  
 &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                          CHECK^XTSUMBLD results
   Name          Before Patch       After Patch       Patch List
   ----------------------------------------------------------------
  
   LRAPDA         8740574            11974055         72,73,91,121,248.259,295
   LRAPDSR        3990550             4820936         248.259,295
   LRLOG           n/a                 305911         295
   LRMIEDZ        5380499             5420375         295
   LRMIEDZ2      12271075            12684281         23,104,242,295
   LRMINEW1       5165056             5204932         295
   LRMISTF1      13608455            13918017         121,128,202,263,264,295
   LRMIV          5001526             5041402         295
   LRMIV1        12023776            12570260         295
   LRMIV2        15031478            15300044         242,295
   LRMIVER1       9809595             9849471         295
   LROC           9187454             9241387         121,295
   LRPX            n/a                1901323         295
   LRPXAPI         n/a                6978402         295
   LRPXAPI1        n/a                9229397         295
   LRPXAPI2        n/a                9408086         295
   LRPXAPI3        n/a               10777199         295
   LRPXAPI4        n/a                9871300         295
   LRPXAPI5        n/a                7476080         295
   LRPXAPI6        n/a                2460984         295
   LRPXAPIU        n/a                3414289         295
   LRPXAPP         n/a                6489777         295
   LRPXAPPU        n/a                3123020         295
   LRPXCHK         n/a                8866448         295
   LRPXCHKA        n/a                7391720         295
   LRPXCHKM        n/a                3210671         295
   LRPXRM          n/a                9609565         295
   LRPXSXRA        n/a                8089677         295
   LRPXSXRB        n/a                5387076         295
   LRPXSXRL        n/a                4335783         295
   LRVER3A       10313641            10338465         1,5,42,100,121,153,190,
                                                      221,254,263,266,274,295
  
  Host File:
  ==========
  Because this is part of a multi-package build this patch will be available
  only as a host file. The name of the file is
  CLINICAL_REMINDERS_INDEX.KID.
  
 Sites will retrieve VistA software from the following FTP addresses.  The
 preferred method is to FTP the files from download.vista.domain.ext.  This
 transmits the files from the first available FTP server. Sites may also
 elect to retrieve software directly from a specific server as follows:
  
 Albany          ftp.fo-albany.domain.ext  &lt;ftp://ftp.fo-albany.domain.ext&gt;
 Hines           ftp.fo-hines.domain.ext   &lt;ftp://ftp.fo-hines.domain.ext&gt;
 Salt Lake City  ftp.fo-slc.domain.ext     &lt;ftp://ftp.fo-slc.domain.ext&gt;
  
  
 Installation:
 =============
 1. Detailed installation instructions may be found in the Installation
 Guide, PXRMIG-P12.PDF.
  
 2. After successful installation, the init routine GMPLP27I may be
 deleted.
 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;286</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-12-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Package patch LR*5.2*286 contains changes to software
controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE
VERSION 5.2.  Change includes:
   The addition of the "USE FOR REFERENCE TESTING" field (#13) to the
   "SITE/SPECIMEN SUB-FIELD" (#60.01) of the LABORATORY TEST file (#60).
   The addition of the "USE FOR REFERENCE TESTING" field to the "LR ATOMIC
    TESTS" Input Template.

The above change has been reviewed by the VISTA Blood Bank Developer and
found to have no impact on the VISTA BLOOD BANK SOFTWARE version 5.2
control functions.

RISK ANALYSIS:   Changes made by patch LR*5.2*286 have no effect on Blood
Bank software functionality, therefore RISK is none.

EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS:  Patch LR*5.2*286 does not
alter or modify any software design safeguards or safety critical elements
functions.

POTENTIAL IMPACT ON SITES:  This patch contains changes to a Data
Dictionary identified in Veterans Health Administration (VHA) Directive
99-053. The changes have no effect in Blood Bank functionality or medical
device control functions. There is no adverse potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION:  There are no required validation
scenarios to be completed by sites after installing LR*5.2*286.
  
========================================
 
Patch LR*5.2*286 VA/DOD LAB INTEROPERABILITY will be distributed and
installed with patch LA*5.2*64 VA/DOD LAB INTEROPERABILITY
 
This patch adds support for sending/receiving Laboratory Electronic
Data Interchange (LEDI) orders/results with Department of Defense (DoD)
facilities.
 
Laboratory result verification has been enhanced to allow the designation
of a performing laboratory and the use of the performing laboratory's
units, normals, and normalcy status in results reporting.

1. User during the verification process is able to specify the performing
laboratory. The performing laboratory is selected from the list of
available entries in the site's INSTITUTION file (#4). The selection of
entries is screened as follows:
   a. User can select the division they are logged on.
   b. User can select an institution that is configured in the LAB
      SHIPPING CONFIGURATION file (#62.9) as a host facility with their
      division as the collecting facility.
 
2. During acceptance and verification of results received from a reference
laboratory via an HL7 interface (LEDI), the performing laboratory, results,
units, normals and normalcy status contained in the HL7 message are stored
"as is".

3. Receipt of amended reports from a reference laboratory will generate a
MailMan bulletin containing the particulars of the amended report. This
bulletin is sent to the members of the mail group specified for
"New Result" alerts in LA7 MESSAGE PARAMETER file (#62.48) for the interface.
 
4. Amended reports received via a LEDI HL7 interface can be processed
via the Enter/verify/modify data (manual) option [LRENTER].
 
5. Users using the Enter/verify/modify data (manual) option [LRENTER] to
enter results manually from a reference laboratory can use the units and
normals specified in LABORATORY TEST file (#60) by configuring USE FOR
REFERENCE TESTING field (#13) within the SITE/SPECIMEN subfile (#100).
If this field is not enabled for reference laboratory result data entry,
then the user is prompted for units, normals, high and low reference ranges
to store with the results. The Edit atomic tests option [LRDIEATOMIC]
allows Labortory Information Manager (LIM) to designate this functionality
for affected tests.
 
6. NOIS DEN-1299-52099, NYH-0700-11942, PHI-0803-21507, TAM-0400-31033, and
WPB-0900-32221 reported the defect of normalcy status (low/high/critical
low/critical high) being incorrectly evaluated when the test result is
zero (0). Evaluation of normalcy status will properly deal with test
results of zero (0).
 
7. Changing normalcy status and units will trigger the generation of audit
trail comments.
 
8. During verification, the ordering provider's phone and pager information
is displayed.
 
9. Display of lab results in the Computerized Patient Record System
Graphical User Interface (CPRS GUI) and Laboratory Interim Reports has
been modified to display units and normals associated with results at time
of verification. Results that are derived from a Set of Codes will be
reported using the external form of the code.
 
10. Display of performing laboratory has been added to CPRS GUI display of
results.

11. NOIS DAY-0303-40775 reported a defect in display of lab results with
embedded spaces. When lab results contained embedded spaces these spaces
were being removed prior to the display of the lab result. The removal of
theses spaces resulted in corruption of the result. Routines LR7OB63 and
LR7OR2 have been corrected to trim leading and trailing spaces but leave
embedded spaces.
 
12. Enter/verify data (auto instrument) [LRVR] and Enter/verify/modify
data (manual) [LRENTER] options will display patient information from
PAT. INFO. field (#.091) in LAB DATA file (#63) during result verification.
(E3R #13408)
 
13. Alignment of test results during verification process has been adjusted
to avoid display of previous and current test results together. Results
will be displayed right-justified under the date/time of each specimen.  
  
14. NOIS ALB-0100-50284, FAV-1103-70892 reported a failure of UID creation
and storage when creating a non-daily accession that is in common with
another accession area. The failure occurs on the creation of the first
accession for a given accession area and date. After the first accession
for an accession date is created and stored in ACCESSION file (#68)
subsequent accessions have the UID stored properly. Failure was due to
missing subfile zeroth nodes for the ACCESSION DATE multiple (#68.01) and
ACCESSION NUMBER multiple (#68.02) of the ACCESSION file (#68) when calling
FileMan to store the UID. Routine LRWLST1 will now check and set the
subfile's zeroth nodes before calling FileMan.
 
  FileMan calls have been converted from classic FileMan DIE calls to
FileMan Database Server calls (DBS). When an error condition is
encountered during a FileMan DBS call, the Laboratory package will
generate a mail message with the subject "FileMan DBS call failed during
accessioning in routine LRWLST1". This message will be sent to the local
mail group "LMI". It will contain debugging information to assist site
and National VistA Support in resolving the condition that produced the
error.
  
15. NOIS BON-0196-71728 reported a problem with storing the appropriate
treating specialty associated with an accession. A bad or incorrect
pointer to FACILITY TREATING SPECIALTY file (#45.7) could be stored in
the TREATING SPECIALTY (#6.6) field within the ACCESSION NUMBER field
(#68.02) multiple within the ACCESSION DATE field (#68.01) multiple of
the ACCESSION file (#68). When a specimen is accessioned for a
non-inpatient and the user selects an inpatient ordering location the
software would use the specialty from SPECIALITY file (#42.4) that
is associated with the WARD LOCATION file (#42) entry linked to the
HOSPITAL LOCATION file (#44).
 
   Routine LRWLST1 will determine treating specialty based on the
associated TREATING SPECIALTY field (#9.5) in the HOSPITAL LOCATION file
(#44) when the patient is not an inpatient. When a patient is an inpatient
then treating specialty will be determined from the PATIENT file (#2),
TREATING SPECIALTY field (.103). Treating specialty will only be stored
in ACCESSION file (#68) when the patient is from PATIENT file (#2).
 
16. The following defects were identified during the software review as
part of patch development.
 
  a. Ordering location and ordering provider will not be stored on
accessions that are related to LAB CONTROL NAME file (#62.3) entries.
 
  b. During accessioning if accession area is locked by another process,
the message displayed to user was "Accession area is locked by another
user." Message will now include the name of the accession area that
the software is waiting on lock.

  c. Interim report options and displays will display month portion of
date/times using the three letter abbreviation instead of the two number
designation to eliminate potential confusion with day portion of dates.
Time is displayed using 24 hour time format.
 
  d. Interim report could display the wrong ordering and collecting site
when the specimen was received from an integrated facility. Report will
display the correct ordering and collecting site.
 
  e. Referral Patient Multi-purpose Accession option [LR LEDI] was
prompting the user for CPRS Nature of Order which is not used during
accessioning of non-PATIENT file (#2) patients. Routine LROW3 is
modified to only prompt the user for CPRS Nature of Order when
accessioning a patient from the PATIENT file (#2).
  
  f. Previous test versions of previous LEDI versions may have installed 
two versions of the "D" cross reference in LAB PENDING ORDERS ENTRY file
(#69.6). The post-install will delete and reindex the "D" cross reference
on file #69.6.
 
  g. Entering of accession number during lab results verification will 
check for invalid values or numbers out of range (1-999999).
  
17. Referral Patient Multi-purpose Accession option [LR LEDI] will check
for pending orders when performing accessioning without a bar code scanner.
It will display to the user and store order comments that accompanies
electronic orders with order in LAB ORDER ENTRY file (#69).
 
18. When using the Enter/verify/modify data (manual) option [LRENTER] to
amend previously released results user can now enter their verifying
initials in mixed case. 
 
19. NOIS CHS-0303-40534 reported a defect which prevented results for
reflex tests added to a LEDI order at the host laboratory being returned
electronically to the collecting laboratory. Routine LRWLST11 was storing
the collecting site as both the collecting site and ordering site in the
order created in LAB ORDER ENTRY file (#69). When a collecting site is a
member of an integrated facility the collecting site is the site collecting
the specimen and the ordering site is the primary facility of the
integrated institution. Reflex test added by the host site would have the
incorrect ordering site assigned which prevents the LEDI software from
returning the results of the reflex test to the collecting facility. Defect
has been corrected to store the correct ordering and collecting sites on
LEDI accessions.
 
20. NOIS BRK-0499-10720, MAR-0603-21152 reported a defect during lab
result verification using option Enter/verify/modify data (manual)
[LRENTER] which caused the previous patient demographics to be displayed
when entering results on an accession. If the previous selected accession
was in an uncollected state, the option was skipping the uncollected
accession and incrementing the default accession number to the next
available accession. If the user selects this or another accession, the
patient demographics of the selected accession were not being displayed.
Instead, the patient demographics of the uncollected accession were
displayed. Routine LRVER will now display the patient demographics of the
currently selected accession.

21. NOIS SFC-1103-60132 reported a defect during display of lab results
in the CPRS GUI. When a critical flag becomes part of the data for a
patient in CPRS, the line of data containing the flag becomes split
after the * following the high or low flag, and the units along with
the reference range gets bumped to the next line down. Routine LR7OGMP
increases the space allocated to display this information from 37 to 38
characters to display units/normals on same line.
 
22. When displaying results that are a Set of Codes data type, the result
will be displayed using the external value for the set of codes.
 
23. NOIS NYH-0700-11942 reported a defect with critical value flag not
being triggered when entering a value of 0. Value of 0 will be evaluated
when performing high/low/critical value checks.
 
24. When verifying results from a reference laboratory using Enter/verify
data (auto instrument) option [LRVR], any test results that have not
been verified will be displayed to the user after verification. The display
will list the test names, results, abnormal flags and units if available. 
This display will list the test(s) as not reviewed. This may indicate that
additional or reflex testing has been added by the reference laboratory.
These additional tests may need to be added to the accession to process
these results.
 
25. During verification of laboratory results, comments for a previous
result are displayed along with the previous result when entering
results manually or by automated instrument for user selected tests
(E3R #18490). Users can indicate which tests should have previous
test comments displayed during verification by flagging the test using
General Lab User Parameters option [LR USER PARAM] located on the
Information-help menu [LRHELP].

26. NOIS SDC-0904-61304  Reported a defect with the display of text
results in CPRS when using the Laboratory Results-All Test By Date and
Laboratory Results-Selected Tests By Date. When a text result was
displayed that exceeded 10 characters and the test has no units or
normals specified, the display of the result was corrupted with &lt;spaces&gt;
inserted into the text. Test results will be displayed without corruption.
Units, reference ranges, and site codes will be displayed on the following
line when test results print in area usually reserved for these parameters.
 
27. NOIS IND-0498-42538 reported a defect in display of test comments during
lab test result verification when encountering an 'end-of-page' condition.
All test comments will now be displayed.
 

 PATIENT SAFETY ISSUES RESOLVED IN THIS PATCH:
 ============================================
 
 PSI-040260/NOIS HVH-0604-10572 - "Not Performed test Resulted
 - No Alert Generated"
  
This patch corrects defects in software used to set laboratory tests
to a Not-Performed (NP) state. The NP state was introduced by patch
LR*5.2*221 in 1999.  The functionality introduced by this patch replaced
the "delete-a-test" functionality. Instead of deleting tests, tests are
now set to a not-performed state.
 
However, tests in the NP state could still be edited such that the NP
state is replaced with an actual result. Results entered into NP tests
were not treated in the same manner as results entered through the normal
results entry pathways. File updates to ACCESSION file (#68), LAB ORDER
ENTRY file (#69), and ORDER file (#100) as well as alerts were not
generated. This situation was documented in NOIS HVH-0604-10572
- "Not Performed test Resulted - No Alert Generated". This was identified
as a potential patient safety risk. With concurrence from the Pathology
&amp; Laboratory Medicine Program Office, the appropriate mechanism for
handling the situation is to disable editing of NP tests. If the test is
designated as NP and the user wants to edit the test result, they will
now have to order the test(s) in a new accession.
 
  
ASSOCIATED E3R
--------------
 E3R #13408, ADDING INFECTION WARNING TO PROCESS DATA OPTIONS
 E3R #16060, CORRECT ALIGNMENT PROBLEM
 E3R #17904, LEDI BETWEEN VA AND DOD SITES
 E3R #18490, COMMENTS DISPLAY FORPRVIOUS RESULTS
 
 
ASSOCIATED NOIS
---------------
 ALB-0100-50284
 BRK-0499-10720
 BON-0196-71728
 CHS-0303-40534
 DAY-0303-40775
 DEN-1299-52099
 FAV-1103-70892
 HVH-0604-10572
 IND-0498-42538
 MAR-0603-21152
 NYH-0700-11942
 PHI-0803-21507
 SDC-0904-61304
 SFC-1103-60132
 TAM-0400-31033
 WPB-0900-32221
 

TEST SITES
----------
 Albuquerque VAMC - VMS/DSM and VMS/Cache
 Boston HCS - VMS/DSM and VMS/Cache
 El Paso HCS - NT/Cache and VMS/Cache
 Hines VAMC - VMS/DSM and VMS/Cache
 Honolulu VAMC -  NT/Cache
 Manchester VAMC - NT/Cache NT and VMS/Cache
 Milwaukee VAMC - VMS/DSM
 North Chicago VAMC - VMS/DSM
 Salt Lake City VAMC - VMS/DSM
 San Diego VAMC - VMS/DSM and VMS/Cache
 Upstate New York HCS - VMS/DSM and VMS/Cache
 
 
 INSTALLATION FILES:
 ==================
 The following software and documentation files are exported as part of
 this patch:
 
    File Name             Contents                     Retrieval Format
    ---------             --------                     ----------------
 
LAB_LEDI_III.KID        LA*5.2*64 KIDS build           ASCII
                        LR*5.2*286 KIDS build
 
 
LAB_LEDI_III_IG.PDF     LABORATORY ELECTRONIC DATA     BINARY
                        INSTALLATION GUIDE
 
LAB_LEDI_III_IMP_UG.PDF LABORATORY ELECTRONIC DATA     BINARY
                        IMPLEMENTATION AND USER GUIDE
 
 The files listed above may be obtained via FTP.  The preferred method is
 to FTP the files from:
 
    download.vista.domain.ext
 
 This transmits the files from the first available FTP server.  Sites may
 also elect to retrieve software directly from a specific server as
 follows:
 
    CIO FIELD OFFICE   FTP ADDRESS                 DIRECTORY
    ----------------   -------------------------   --------------------
    Albany             ftp.fo-albany.domain.ext    [anonymous.software]
    Hines              ftp.fo-hines.domain.ext     [anonymous.software]
    Salt Lake City     ftp.fo-slc.domain.ext       [anonymous.software] 
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR286            N/A            5465218        **286** (Deleted by KIDS)
   LR7OB63          9973912        9132350        **121,187,286**
   LR7OGM           8016197        8279122        **187,220,312,286**
   LR7OGMC          5100174        5463477        **187,230,312,286**
   LR7OGMG          3593445        3973477        **187,230,286**
   LR7OGMP          5548341        6065382        **187,246,282,286**
   LR7OR2           9125008        8919494        **121,187,219,285,286**
   LR7OSUM1         12883059       12868699       **121,187,256,286**
   LR7OSUM6         7911216        5450631        **121,201,187,286**
   LRAFUNC          5202410        5809534        **286**
   LRDIDLE0         5463932        6544739        **140,171,153,286**
   LRDPAREF         5111405        7469302        **153,222,286**
   LRDPAREX         7190033        6456580        **153,286**
   LREVENT          3678954        2907416        **153,286**
   LRFAST           19691126       18799737       **100,121,201,286**
   LRFASTS          6423167        6524547        **30,95,121,271,286**
   LRGP1            3988622        4165501        **112,269,286**
   LROE             14550901       11534796       **100,121,201,221,263,286**
   LRORD            12009917       12806626       **100,121,153,286**
   LRORD1           9848796        9190513        **1,8,121,153,201,286**
   LRORDB           3782224        7231598        **153,222,286**
   LROW3            7497722        6459972        **33,121,286**
   LRRP             11838355       9427993        **195,221,283,286**
   LRRP1            8015031        6556852        **153,221,283,286**
   LRRPU            N/A            3220194        **286**
   LRSTUF1          13209134       11668378       **153,286**
   LRVER            17228890       15441873       **153,286**
   LRVER1           8587449        7330679        **42,153,201,215,239,240,
                                                  263,232,286**
   LRVER3           14311842       13055299       **42,100,121,140,171,153,
                                                  221,286**
   LRVER4           19639169       14489554       **14,42,112,121,140,171,
                                                  153,188,279,283,286**
   LRVER5           14564045       14854455       **42,153,283,286**
   LRVERA           690805         5764794        **153,271,286**
   LRVR             13316120       11130012       **42,153,263,286**
   LRVR1            11269859       11667912       **42,153,221,286**
   LRVR3            10486080       11176919       **42,121,153,286**
   LRVR4            8885642        9645653        **14,42,121,153,221,263,
                                                  279,283,287,286**
   LRVR5            11950773       4666781        **1,42,153,263,283,286**
   LRWLST1          18457202       12664045       **48,65,121,153,261,286**
   LRWLST11         21393713       16883055       **121,128,153,202,286**
 
 List of preceding patches: 187, 202, 222, 230, 232, 256, 261, 269, 271
 282, 283, 285, 287, 312
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
INSTALLATION INSTRUCTIONS
=========================
 
See LABORATORY ELECTRONIC DATA INTERCHANGE III (LEDI III) INSTALLATION GUIDE
    LA*5.2*64/LR*5.2*286
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;326</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-12-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
Description:
===========
 
This patch implements a request from Decision Support System to expand 
the LAB DSS LAR EXTRACT (#64.036) file to include the passing ordering 
provider in DSS LAR API. The companion DSS patch is ECX*3.0*71. 
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*326 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*326 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*326 have no effect on Blood  
software functionality, therefore RISK is none.
 
 
Routine Description:
====================
 
The LRCAPDAR routine has been enhanced to capture the ordering provider 
for each accession being passed to DSS LAR API.
 
Option Description:
==================
There is no option attached to this functionality. The data extraction in 
activated by ECX DSS API.
 
Data Dictionary Changes:
=======================
An additional field will be installed with this patch.
PROVIDER (#12) field will be added to LAB DSS LAR EXTRACT (#64.036) file.
This field will be populated by the Laboratory DSS LAR API.
 
 
 
NOTE: This patch is a companion to the ECX*3.0*71 patch.
      LR*5.2*326 is not called by any menu option and does not
      have any user interface.  Patch LR*5.2*326 MUST
      be installed for the ECX*3.0*71 patch to work properly.
 
Test Sites
==========
Cheyenne, WY
Little Rock, AR
Portland, OR
Minneapolis, MN
 
Associated NOIS:
================
N/A
 
Routine Summary
===============
 
The following is a list of routines included in this patch.  The
second line of each if these routines now looks like:
 
     &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
 
               CHECK^XTSUMBLD results
 
  Routine Name    Before Patch   After Patch   Patch List
  ============    ============   ===========   ===========
   LR326            N/A           2022894   326
   LRCAPDAR        7334799        7585446   143,169,258,307,326  
 
 
INSTALLATION INSTRUCTIONS
=========================
 
The install time for this patch is less than 5 minutes.  This patch can 
be installed when Laboratory users are on the system. Suggested time to 
install: non-peak requirements hours.
 
NOTE: Patch LR*5.2*307 must be installed BEFORE this patch.
 
1. If LRCAPDAR is mapped, disable mapping for it.
 
2. Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.
   this option will load the KIDS patch onto your system.
 
3. From the 'Kernal Installation &amp; Distribution System' (KIDS)
   menu, select the 'Installation Menu'
 
4. Use the 'Verify Checksum in Tranport Global' option to
   confirm that the correct checksums are present.
 
5. From the same menu select each of the following options:
 
   'Compare Transport Global to Current System'
   'Backup Transport Global'
 
6. From the 'Installation Menu' of the KIDS menu, run the
   option 'Install Package(s)'.  Select the package 'LR*5.2*326'
   and proceed with the installation.
 
7. For each of the installation questions answer 'NO'.
 
8. If you unmapped the routine in step 1, rebuild your map set.
 
9. Routine LR326 will be deleted after a successful patch installation.
 
Installation Example
====================
 
Select Installation Option: 6  Install Package(s) 
Select INSTALL NAME:  LR*5.2*327     Loaded from Distribution  
10/15/04@12:06:10 
      =&gt; LR*5.2*326 DSS LAR SUPPORT PATCH ECX*3.0*71
 
This Distribution was loaded on Oct 15, 2004@12:06:10 with header of  
 
   LR*5.2*326 DSS LAR SUPPORT PATCH ECX*3.0*71
   It consisted of the following Install(s): 
     LR*5.2*326 
Checking Install for Package LR*5.2*307 
Will first run the Environment Check Routine, LR326 
 
  
                        --- Environment Check is Ok 
---                         
  
 
Install Questions for LR*5.2*326 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO 
 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO 
 
Enter the Device you want to print the Install messages. 
You can queue the install by enter a 'Q' at the device prompt. 
Enter a '^' to abort the install. 
 
DEVICE: HOME//   UCX/TELNET 
 
  
Install Started for LR*5.2*326 :  
               Oct 15, 2004@09:56:40 
  
Build Distribution Date: Oct 15, 2004 
                                   
LR*5.2*326                                   
  
---------------------------------------- 
  
 Installing Routines: 
               Oct 15, 2004@09:56:40 
  
 Running Pre-Install Routine: PRE^LR307 
  
 Running Post-Install Routine: POST^LR307 
  
 Updating Routine file... 
  
 Updating KIDS files... 
  
 LR*5.2*326 Installed.  
 
               Oct 15, 2004@09:56:40 
  
  
Install Message sent  
 
Install Completed 
 
END OF INSTALLATION EXAMPLE
=========================== 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;321 SEQ #247</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-02-12 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch resolves a problem introduced with coding changes in the 
routine LRMIBUG in patch LR*5.2*318 that causes an undefined variable 
error. This error will occur when the user adds antibiotics to the list 
of antibiotics in an ordered panel.
 
This problem was reported in NOIS calls:
 BHS-1204-10061     $ZE= &lt;UNDEFINED&gt;DELINT+6~LRMIBUG
 ALT-1204-20766     UNDEFINED ERROR IN MICRO
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;303 SEQ #248</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-02-12 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*303 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*303 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*303 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.
 
The Laboratory package, in support of the VA Health Data Repository (HDR)
efforts, has developed the following reports to support VA Data
Standardization of laboratory results. These reports/extracts will
facilitate centralized mapping and data validation of National Laboratory
Test (NLT) and Logical Observation Identifiers Names and Codes (LOINC)
within VistA Laboratory.
 
************************************************************************** 
This patch must be installed within five days of receipt in order to
provide information to a centralized LOINC mapping team which will use
this information to provide recommended NLT and LOINC mappings for CH
subscript - chemistry, hematology, coagulation, urinalysis, serology type
results) used by each facility.  These recommendations will be sent back
to the facility for review and action. Installation of this patch is for
this reporting purpose only and has no effect on current laboratory
functionality.
************************************************************************** 

 
1. These LRLABSERVER server reports are available with this patch:
 
LOCAL REPORT
 Send a message to: S.LRLABSERVER@domain name
           Subject:LOCAL REPORT
 
   The body of the message will be ignored.  This will scan the database
for mapped LOINC data and return the results to the person sending the
mail message request.
 
 
LOCAL REPORT DELIMIT
  Send a message to: S.LRLABSERVER@domain name
            Subject: LOCAL REPORT DELIMIT
 
  The body of the message will be ignored. This will scan the database
for mapped NLT and LOINC data. Results are returned to the person sending
the mail message request. The extracted data is returned as an attached
file in a delimited format using the "|" character as the field delimiter.
 
  Record legend for attached file: Station #-64 ien-61 ien-Time Aspect|NLT
 Code|NLT Name|Default LOINC Code|Default LOINC Name|Default Test|Time
 Aspect|Specimen|Data Location|Data Type|Input Transform|Units|Test Name|
 LOINC Code|LOINC Name|Reference Low|Reference High|Therapeutic Low|
 Therapeutic High|Subscript|Lab Section|
 
 
RELMA
  Send a message to: S.LRLABSERVER@domain name
            Subject: RELMA
 
  The body of the message will be ignored. This will scan the local site's
LABORATORY TEST file (#60) and ANTIMICROBIAL SUSCEPTIBILITY file (#62.06)
and extract data in a format for input into the Regenstrief LOINC Mapping
Assistant (RELMA) mapping tool. Results are returned to the person sending
the mail message request. The extracted data is returned as an attached
file in a delimited format using the "|" character as the field delimiter.
 
 Record legend for attached file:  Station #-60 ien-Spec ien|TestName|Spec
 |Time Aspect|Units|LOINC|NLT #|Battery Code|Battery Description|Lab
 Section|Subscript|Comments|Data Type|Reference low|Reference high|
 Therapeutic low|Therapeutic high|
 
 
2. Lab server mail messages will be purged after successful completion of
the server request. Supported MailMan API ZAPSERV^XMXAPI will be called to
delete the message from POSTMASTER server basket S.LRLABSERVER.
 
 
 ASSOCIATED E3R
 --------------
 None
 
 ASSOCIATED NOIS
 ---------------
 None
 
 
 TEST SITES
 ----------
 Altoona VAMC
 Bay Pines VAMC
 Bulter VAMC
 Cheyenne VAMC
 Clarksburg VAMC
 Coatesville VAMC
 Erie VAMC
 Grand Junction VAMC
 Heartland-East HCS
 Heartland-West HCS
 Lebanon VAMC
 Martinsburg VAMC
 Maryland HCS
 Milwaukee VAMC
 Montana HCS
 Philadelphia VAMC
 Pittsburg HCS
 Puget Sound HCS
 Roseburg VAMC
 Salt Lake City VAMC
 Sheridan VAMC
 Walla Walla VAMC
 Washington VAMC
 White City VAMC
 Wike Barre VAMC
 Wilmington VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR303            N/A            4831421        **303** (Deleted by KIDS)
   LRLNCPMP         7461913        7416816        **215,232,278,303**
   LRSRVR           16543787       5915085        **232,303**
   LRSRVR1          N/A            11247287       **303**
   LRSRVR2          N/A            12542186       **303**
   LRSRVR3          N/A            13571036       **303**
   LRSRVR4          N/A            538253         **303**
 
 List of preceding patches: 232, 278
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LR*5.2*303):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*303'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
  6.  On a mapped system, rebuild your map set.
 
 Note: Routine LR303 will be deleted after successful patch installation.
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option:
 
Select Kernel Installation &amp; Distribution System Option:  Installation
 
Select Installation Option:  Install Package(s)
Select INSTALL NAME: LR*5.2*303 Loaded from Distribution 12/21/04@13:39:35
     =&gt; LR*5.2*303
 
This Distribution was loaded on Dec 21, 2004@13:39:35 with header of
   LR*5.2*303
   It consisted of the following Install(s):
     LR*5.2*303
Checking Install for Package LR*5.2*303
Will first run the Environment Check Routine, LR303
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*303
 
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// n  NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// n  NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LR*5.2*303 :
               Dec 21, 2004@13:40:26
 
Build Distribution Date: Dec 21, 2004
 
 Installing Routines:........
               Dec 21, 2004@13:40:27
 
 Running Pre-Install Routine: PRE^LR303.
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Running Post-Install Routine: POST^LR303.
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*303 Installed.
               Dec 21, 2004@13:40:27
 
 Install Message sent #xxx
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;311</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-03-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*311 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*311 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*311 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes 
made, no specific validation requirements exist as a result of 
installation of this patch.
 
 
  NOTE: This patch is part of a multi-KIDS build that includes PXRM*2*1
        (CLINICAL REMINDERS), WV*1*16 (WOMEN'S HEALTH) and OR*3*210
        (ORDER ENTRY/RESULTS REPORTING) (CPRS). Please see the patch
        description for PXRM*2*1 for information on retrieving the host
        file containing these patches.
 
 
1) Currently the ADD^LRWOMEN utility notifies a Women's Health package
utility whenever a Cytology or Surgical Pathology report is verified for a
female patient. This functionality was provided with LR*5.2*231.
 
After installation of patch LR*5.2*311, the ADD^LRWOMEN utility will also
notify a new CPRS utility (LAB^ORB3LAB) for all patients, not just female
patients. Integration Agreement #4287 grants the LABORATORY package
permission to call the ORB3LAB routine.
 
2) The code in the MOVE entry point of the LRWOMEN routine was replaced 
with a QUIT command. With the release of LR*5.2*259, this entry point is 
no longer called. The entry point will be deleted in a future patch.
 
3) A new entry point, SNOMED, is added to the LRWOMEN routine. This entry 
point is called by the new indexes created with this patch (see #4 
below) when a SNOMED code is changed for a Cytology or Surgical Pathology 
entry. This entry point will call a Women's Health package routine.
Integration Agreement #4525 grants the LABORATORY package permission to
call the WVLABCHK routine.
 
4) Two new-style indexes are added to the LAB DATA (#63) file. These 
indexes will be executed when a SNOMED code is changed for a Cytology or 
Surgical Pathology entry.
 
The first index is on Subfile 63.12, Field .01 (ORGAN/TISSUE).
 FILE: 63.12
 NAME: AC
 SHORT DESCRIPTION: Notify Women's Health of SNOMED change
 TYPE: MUMPS    
 EXECUTION: FIELD
 ROOT TYPE: INDEX FILE  
 ROOT FILE: 63.12
 USE: ACTION
 DESCRIPTION:   This MUMPS cross reference calls SNOMED^LRWOMEN any time a
 change to a SNOMED code is made.  The SNOMED line tag notifies the 
 Women's Health package that a SNOMED change has been made on an already
 verified pathology report for a female patient.
 SET LOGIC: Q:$D(DIU(0))  D SNOMED^LRWOMEN
 KILL LOGIC: Q
 ORDER NUMBER: 1                       
 TYPE OF VALUE: FIELD
 FILE: 63.12           
 FIELD: .01
 SUBSCRIPT NUMBER: 1       
 COLLATION: forwards
 
The second index is on Subfile 63.912, Field .01 (CYTOPATH ORGAN/TISSUE).
 FILE: 63.912
 NAME: AC
 SHORT DESCRIPTION: Notify Women's Health of SNOMED change
 TYPE: MUMPS      
 EXECUTION: FIELD
 ROOT TYPE: INDEX FILE        
 ROOT FILE: 63.912
 USE: ACTION
 DESCRIPTION:   This MUMPS cross reference calls SNOMED^LRWOMEN any time a
 change to a SNOMED code is made.  The SNOMED line tag notifies the 
 Women's Health package that a SNOMED change has been made on an already
 verified pathology report for a female patient.
 SET LOGIC: Q:$D(DIU(0))  D SNOMED^LRWOMEN
 KILL LOGIC: Q
 ORDER NUMBER: 1                      
 TYPE OF VALUE: FIELD
 FILE: 63.912   
 FIELD: .01
 SUBSCRIPT NUMBER: 1    
 COLLATION: forwards
 
Documentation:
==============
There are no documentation changes for this patch.
 
 
ROUTINE SUMMARY:
================
 
Below is a list of the routines included in this patch. The second line of
each of these routines now looks like:
 
 &lt;tab&gt; ;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994 
 
 
                Checksum        Checksum
 Routine Name   Before Patch    After Patch     Patch List
 ============   ============    ===========     =============
 LR311PST       new             3501668         311
 LRWOMEN        953781          627506          231,248,311
 
Associated NOIS: &lt;None&gt;
 
Associated E3Rs: &lt;None&gt;
 
Test Sites:
===========
 Loma Linda, CA - VMS/Cache
 Northern California HCS - VMS/DSM
 Washington, DC VAMC - VMS/DSM
 
 
Installation Instructions:
==========================
 
This patch can be installed with users on the system.  However, it is 
recommended that installation occur when there is no Anatomic Pathology
activity or activity is at a minimum.  This will prevent 'Cannot return to
source routine' errors.  
 
This patch is part of a multi-KIDS transport global. Please see the patch
description for PXRM*2*1 for instructions to load and install this patch. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;302</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-05-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*302 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*302 does not 
alter or modify any software design safeguards or safety critical 
elements functions. 
RISK ANALYSIS: Changes made by patch LR*5.2*302 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
****************************IMPORTANT**********************************
There is considerable PRE-installation file verification and preparation 
to be performed by staff familiar with the use of FileMan and Laboratory 
file structure.  Failure to perform this pre-install testing before 
attempting to install this patch significantly increases the risk of 
encountering errors, during or post installation.  The key element to 
ensuring a successful installation of the patch depends upon existing 
files not containing corrupt data.  If corrupt data is present in the 
affected files, when the fields are re-pointed during the post 
installation update phase, errors will occur.  Please read and follow all 
of the instructions outlined in this patch description.
***********************************************************************
 
Technical post-install notes are included at the end of the patch
description. These technical notes can be used by the IRM service to 
prevent or resolve issues surrounding the installation of this patch. It 
is impossible to anticipate all potential situations that exist; but the 
notes address the most common. The key element ensuring successful 
installation of the patch depends upon existing files not containing 
corrupt data.
 
This patch will update the WKLD CODE (#64) file and replace several 
laboratory standardized files associated with National Laboratory Test 
(NLT) package and Logical Observation Identifier Naming Codes (LOINC) 
coding. (See list below) This patch will remove certain WKLD CODE (#64) 
file duplicates. This patch will also correct certain field definitions 
that produce invalid warnings produced by the FileMan Verify Field 
option. In order to implement the numerous file/field corrections, it is 
necessary to completely replace certain referenced NLT and LOINC files. 
To ensure that this patch does not introduce any new data validation 
errors, it is desirable that the data currently stored pointing to 
replaced files is valid and errors resolved.
 
 
File #    File Name                     Update Method
64.061    LAB ELECTRONIC CODES          Replaced
64.062    LAB ELECTRONIC SUBTYPES       Replaced
64.2      WKLD SUFFIX CODES             Replaced
64.3      WKLD INSTRUMENT MANUFACTURER  Replaced
64.81     LAB NLT/CPT CODES             Replaced
95.3      LAB LOINC                     Replaced
95.31     LAB LOINC COMPONENT           Replaced
 
*64        WKLD CODE           Updated with new terms.
 
============================
LOINC Copyright acknowledgement:
LOINC was Copyrighted 1995, 1996, 1997, by Regenstrief Institute and the 
Logical Observation Identifier Names and Codes (LOINC) Committee.  All 
rights reserved. LOINC is a trademark of the Regenstrief Institute.
Contact information:
LOINC
C/o Regenstrief Institute
1001 West 10th Street, RHC-5
Indianapolis, Indiana 46202 USA
 
========================
VistA Laboratory Package LAB LOINC (#95.3) file does not support all of 
the fields contained in the LOINC database. Refer to the LOINC user's 
manual for more field details. The following fields are imported and 
supported within VistA.
 
#    Loinc Term      VistA name
1    LOINC_NUM       CODE + CHECK DIGIT
2    COMPONENT       COMPONENT + LAB LOINC COMPONENT (95.31)
3    PROPERTY        PROPERTY
4    TIME_ASPECT     TIME ASPECT
5    SYSTEM          SYSTEM
6    SCALE_TYPE      SCALE TYPE
7    METHOD_TYPE     METHOD TYPE
9    CLASS           CLASSTYPE
10   SOURCE          SOURCE
14   DT_LAST_CH      DATE LAST CHANGED
15   CHNG_REAS       CHANGE REASON
16   CHNG_TYPE       CHANGE TYPE
19   STATUS          STATUS
20   MAP_TO          MAP TO
23   VA_CD           VA CODE
59   SHORTNAME       SHORTNAME
 
 
Because several standardized files are being completely replaced, the 
pre-install routine will extract and save the values of the fields 
pointing to the replaced files. 
 
The complete WKLD SUFFIX CODES (#64.2) file is saved into 
^XTMP("LRNLT642") global for 90 days. The ^XTMP("LRNLT642") file can be 
used to assist those sites that may have mistakenly added terms to the 
(#64.2) file. Those local terms not included in the installed file should 
be formally requested by notifying the National Laboratory Test 
Coordinator using the form provided on the VistA laboratory Documentation 
Web Page. 
http://vista.domain.ext/clinicalspecialties/lab/
 
Forward your completed request form to the Exchange distribution group:
 VHAISD LAB NLT_LOINC
 
===========================
 
This patch will completely remove certain files, replace the files with a 
standardized copy and then re-point the saved field entries to the 
standardized copy. It is high desirable to determine that current fields 
and files are free of incorrect data. This will ensure that the patch 
installation will not introduce any new errors.
     Failure to ensure FileMan verification of fields option can be run 
without generating warnings will result in unresolved errors, which could 
have unpredictable results. The patch installation will not be affected 
by an invalid field. The patch will generate error message indicating 
those files/fields that could not be successfully re-pointed after the 
standardized have been installed.
 
*** Examples of a single file verify:
Select OPTION NAME: VA FileMan
 
          VA FileMan Version 22.0
 
Select VA FileMan Option: Utility Functions
 
Select Utility Functions Option: VERify Fields
 
MODIFY WHAT FILE: WKLD CODE// 60  LABORATORY TEST  (1059 entries)
VERIFY WHICH FIELD: ALL
DO YOU MEAN ALL THE FIELDS IN THE FILE? YES
 
DEVICE: HOME//
 
While the entire file should pass the verify fields check, the fields 
listed below are the critical entries that should not produce any 
warnings. If there are any warnings for these fields, they should be 
rectified before the patch is installed or the post install re-pointing 
procedure will not perform properly.
 
This is a list of files and fields that will be re-pointed after the LAB 
ELECTRONIC CODES (#64.061) is installed. These fields should be free of 
verify field warnings. Errors or warnings in other fields WILL NOT affect 
the post-install re-pointing process but should be addressed as soon a 
possible.
 
To ensure that there are not any existing pointer problems, files and 
fields need to be validated. Data and file validation is done with the FM 
Verify Fields option. Only those fields pointing to the replaced files 
and the WKLD CODE file are an issue.
 
 
File #     File Name               Field #  Field Name
======     =========               =======  ==========
60         LABORATORY TEST
60.01      SITE/SPECIMEN SUB-FIELD  95.3    LOINC CODE
 
61         TOPOGRAPHY FIELD
61         TOPOGRAPHY FIELD         .09     LEDI HL7
61         TOPOGRAPHY FIELD         .0961   TIME ASPECT
 
62.05      URGENCY
62.05      URGENCY                  4       LEDI HL7
 
62.4       AUTO INSTRUMENT
62.4       AUTO INSTRUMENT          .14     WKLD METHOD
 
62.8       LAB SHIPPING MANIFEST
62.801     SPECIMENS SUB-FIELD      1.14    PATIENT HEIGHT CODE
62.801     SPECIMENS SUB-FIELD      1.24    PATIENT WEIGHT CODE
62.801     SPECIMENS SUB-FIELD      2.14    COLLECTION VOLUME CODE
62.801     SPECIMENS SUB-FIELD      2.24    COLLECTION DURATION CODE
62.801     SPECIMENS SUB-FIELD      2.34    COLLECTION WEIGHT CODE
62.801     SPECIMENS SUB-FIELD      1.13    PATIENT HEIGHT UNITS
62.801     SPECIMENS SUB-FIELD      1.23    PATIENT WEIGHT UNITS
62.801     SPECIMENS SUB-FIELD      2.13    COLLECTION VOLUME UNITS
62.801     SPECIMENS SUB-FIELD      2.23    COLLECTION DURATION UNITS
62.801     SPECIMENS SUB-FIELD      2.33    COLLECTION WEIGHT UNITS
62.85      LAB SHIPPING EVENT       .05     EVENT CODE
 
62.9       LAB SHIPPING CONFIGURATION   
62.9001    TEST/PROFILE             1.15    PATIENT HEIGHT UNITS
62.9001    TEST/PROFILE             1.25    PATIENT WEIGHT UNITS
62.9001    TEST/PROFILE             2.15    COLLECTION VOLUME UNITS
62.9001    TEST/PROFILE             2.25    COLLECTION DURATION UNITS
62.9001    TEST/PROFILE             2.35    COLLECTION WEIGHT UNITS
62.9001    TEST/PROFILE             1.16    PATIENT HEIGHT CODE
62.9001    TEST/PROFILE             1.26    PATIENT WEIGHT CODE
62.9001    TEST/PROFILE             2.16    COLLECTION VOLUME CODE
62.9001    TEST/PROFILE             2.26    COLLECTION DURATION CODE
62.9001    TEST/PROFILE             2.36    COLLECTION WEIGHT CODE
 
64.2       WKLD SUFFIX CODE
64.2       WKLD SUFFIX CODE         1       WKLD SUFFIX CODE
64.2       WKLD SUFFIX CODE         4       BILLABLE PROCEDURE
64.2       WKLD SUFFIX CODE         7       COST
64.2       WKLD SUFFIX CODE         8       PRICE
64.2       WKLD SUFFIX CODE         9       SORTING GROUP
64.2       WKLD SUFFIX CODE         15      ACTIVATE WKLD CODE
 
64         WKLD CODE
64.02      TIME ASPECT SUB-FIELD    .01     TIME ASPECT
64.02      TIME ASPECT SUB-FIELD    1       UNITS
 
68.2       LOAD/WORK LIST
68.2       LOAD/WORK LIST           .14     WKLD METHOD
 
69.6       LAB PENDING ORDERS ENTRY
69.6       LAB PENDING ORDERS ENTRY  6       SPECIMEN STATUS
69.64      ORDERED TESTS SUB-FIELD   5       TEST STATUS
 
Resolving FM Verify Fields warnings instructions
 
The most common verify field errors are:
1. Fields not properly cross referenced. This can be resolved by 
re-indexing the file.
2. Fields failing input transform. This can be resolved by either editing 
the field and entering appropriate data; or deleting the existing data in 
the field.
 
Note: When performing FM Verify fields, an error will be produced in the 
TOPOGRAPHY FIELD((#61) file, SNOMED CODE (#2)field by the input transform 
logic error.
Example:
ENTRY#    NAME                          ERROR
1         RIGHT LUNG                    "28100" fails Input Transform
 ALREADY AN ENTRY
This input transform logic error will be corrected with the installation 
of this patch.
** NO PRE-INSTALL CORRECTIVE ACTION IS REQUIRED. **
 
 
When the Verify Field option is run on the various files, several 
different kinds of warnings can be generated. It isn't possible to 
describe a resolution method for the type of warning discovered using the 
FM Verify field option, but here are some techniques used during testing. 
If you require additional technical assistance, contact the EVS group.
 
Known problems:
 
WKLD CODE (#64)
========================
--UNIT FOR COUNT--   POINTER
 
ENTRY#    PROCEDURE                     ERROR
1504      Shell Vial Technique          No '68' in pointed-to File
 
This broken pointer will be correct with the install. No action required.
=======================
--RELEASE DATE--   DATE
 
1749      Misc Chem Test 5
1         86023;ICPT(                   Missing
 
1753      Misc Chem Test 9
1         80100;ICPT(                   Missing
 
Enter a release date to correct this problem.
 
==========================
 
--ACTIVATE WKLD CODE-
 
   SET OF CODES
(CHECKING CROSS-REFERENCE)
 
ENTRY#    PROCEDURE                     ERROR
100074    Lactic Acid~ACA IV            "1" not properly Cross-referenced
 
Re-index the file will correct this problem.
 
++++++++++++++++++
 
TOPOGRAPHY FIELD (#61) File
====================
LEDI HL7 (#.09) field
 
   POINTER
(CANNOT CHECK CROSS-REFERENCE)
 
ENTRY#    NAME                          ERROR
22        KIDNEY                        "1275" fails Input Transform
82        CILIARY GLAND                 "6417" fails Input Transform
 
Should either delete the entry if not using this specimen or enter a 
correct entry.
 
===========================
VERIFY WHICH FIELD: SNOMED CODE  
 
   FREE TEXT
(CHECKING CROSS-REFERENCE)
 
ENTRY#    NAME                          ERROR
8729      TISSUE                        Missing
8730      ORGANISM                      Missing
 
Enter missing data, if input transform failure is reported this will be 
corrected when patch is installed.
 
There is also a FM Verify field error 'fails Input Transform' in WKLD 
CODE (#64) file that will be corrected with the install of LR*5.2*302. 
The screen preventing the selection of LOINC codes with Del (delete) 
status will be removed. This will allow LEDI sites to coordinate 
transition from deprecated terms to active terms.
    The 'DEL' screen will be removed from the following 2 fields:
   DEFAULT LOINC CODE (#25) field.
   SPECIMEN (#20), sub-file TIME ASPECT (#30), LOINC CODE (#4) field.
NO PRE-INSTALL CORRECTIVE ACTION IS REQUIRED for these errors.
 
Other types of errors may require assistance from the EVS technical teams 
before proceeding.
 
PRE-INSTALL ROUTINE
Note: The pre-install routine will produce a listing of duplicate(s) 
contained in WKLD CODE (#64) file if any are present.
    Those duplicates listed with a proceeding '*' SHOULD be resolved 
before installation of the patch. However, the patch will install if the 
duplicates are present during installation.
    Those duplicates listed with a proceeding '+' will be deleted by the 
pre-install program. No action is required.
    Those duplicates that do not have a preceding character will not 
affect the installation.  Those entries that do not have a proceeding 
character are locally created NLT codes and are provided to indicate to 
the local user that multiples do exist. This information maybe useful 
when doing searches on the WKLD DATA (#64.1) file for a particular 
test(s).
 
Example of listing:
  Checking WKLD CODE file (#64) for duplicate names or numbers.
 
+Blood Products Administration^2633
+Blood Products Administration^3214
 
+CPK MB/CPK Tot^3702
+CPK MB/CPK Tot^3767
 
+Coagulation Factor VIII Inhib~BLOOD CENTER OF SE WISCONSIN^100873
Coagulation Factor VIII Inhib~BLOOD CENTER OF SE WISCONSIN^100874
 
*CPK MB/CPT Tot~BLOOD CENTER OF SE WISCONSIN^100973
*CPK MB/CPT Tot~BLOOD CENTER OF SE WISCONSIN^100974
 
+Hypersensitivity Pneumonitis^1557
+Hypersensitivity Pneumonitis^1600
 
+89026.0000 ^1600
+89026.0000 ^2828
                           End of duplicate listing.
 
  If '*' duplicates were listed they should be resolved before patch 
install.
 
               Those '+' will be removed during the post install.
=====================
 
 
Routines:
=====================
LRDAGE
This patch contains a NEW age calculation routine, LRDAGE. This routine 
is used to calculate the age of the patient based on when the specimen 
was collected instead of date of birth (DOB). For example, if the 
specimen was collected one year ago, the age will be a year less than 
today's age. The routine is particularly useful in pediatric patient's 
normal ranges. This age is used to determine the appropriate normal range 
based on collection date. This patch expands the age format to include 
day, month or year designation. This could affect the $SELECT statement 
evaluation of normal range. Sites are advised to review $SELECT statement 
in light of this age format. The format of the age is as follows:
 1hr - 30 days = 1dy - 30dy
 1 - 23 months = 1mo - 24mo
 &gt;23 month     = 2yr - 999yr
The default age of 99yr is return if a computation error occurs because 
of incorrect values passed to age API. Technical information for the API 
call is contained in the routine documentation section.
    The functionality of this routine is not implemented by the patch 
installation. However, sites requiring the ability to determine age to 
this degree, may wish to migrate their local M code in the EXECUTE CODE 
(#62.07) and DELTA CHECKS (#62.1) files to make use of this routine.
 
Routine Summary:
================
 
The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                             CHECK^XTSUMBLD results
 
Routine    Checksum             Checksum
Name       Before Patch         After Patch   Patch List
 =======    ============         ===========   ==========
LR302      N/A                  7036526       302 (Deleted by KIDS)
LR302A     N/A                  4415522       302
LR302P     N/A                  3800106       302
LR302PO    N/A                  9375744       302
LR302POA   N/A                  2988034       302
LRDAGE     1480375              1454485       279,302
 
 
 
ASSOCIATED NOIS:
 ===============
 MAR-1104-21653
    
 TEST SITES:
 ==========
Long Beach, CA VAMC
Durham, NC VAMC
San Diego, CA VAMC
Muskogee, OK VAMC
Cheyenne, WY
Hines, IL
Martinsburg, WV
Brockton, MA
Boston Health Care System
Cheyenne, WY
 
Required Builds:
==========================
LR*5.2*263
LR*5.2*274
LR*5.2*279
 
Installation Instructions:  
========================= 
 
The patch LR*5.2*302 KIDS build file named LR52_302.KID stored in the 
ASCII format can be obtained from the following Office of Information 
Field Offices (OIFOs) ANONYMOUS SOFTWARE directories
OIFO         FTP Address                Directory
Albany       ftp.fo-albany.domain.ext   anonymous.software 
Hines        ftp.fo-hines.domain.ext    anonymous.software
Salt Lake    ftp.fo-slc.domain.ext      anonymous.software
  
All users may remain on the system. Installation time is less than 30 
minutes.
 
Note: The patch should be installed during off peak hours.
 
No laboratory background jobs need to be stopped. No options need to be 
placed out of service.
 
LABORATORY USERS MUST NOT ACCESSION SPECIMENS OR ENTER/VERIFY RESULTS 
DURING THE INSTALLATION because several reference files are being deleted 
and replaced with this patch.
 
 
============================                           
 
From the Kernel Installation &amp; Distribution System (KIDS) menu 
 
         1. Use the 'Load a Distribution' option to load the 
            LR_52_302.KID file onto your system.
         2. The patch has now been loaded into a Transport global
            on your system. You now need to use KIDS to install
            the Transport global.
            On the KIDS menu, under the 'Installation' menu, use 
            the following options:
                Print Transport Global
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         3. Users may remain on the system, but installation 
            should be done at off peak hours.
         4. Installation time is less than 30 minutes during off 
            peak hours and less than 45 minutes during peak hours.
         5. Installation of this patch requires no additional 
            memory space.
         6. From the 'Installation Menu' of the KIDS menu, run the 
            option
            'Install Package(s)' Select the package 'LR*5.2*302' 
            and proceed with the install.
         7. When prompted 'Want KIDS to INHIBIT LOGONS during the
            install? YES//' respond NO.
         8. When prompted 'Want to DISABLE scheduled Options, Menu
            Options, and Protocols? YES//' respond NO.
 
 
================
Example of install:
 
 Select Installation Option: LOAD a Distribution
Enter a Host File: LR_52_302.KID
 
KIDS Distribution saved on Dec 09, 2004@04:27:46
Comment: NLT/LOINC v2.13 Update
 
This Distribution contains Transport Globals for the following Package(s):
   LR*5.2*302
 
OK to continue with Load? NO// YES
 
Distribution OK!
 
Want to Continue with Load? YES// 
Loading Distribution...
 
Build LR*5.2*302 has an Enviromental Check Routine
Want to RUN the Environment Check Routine? YES// 
 
   LR*5.2*302
Will first run the Environment Check Routine, LR302
 
 
          Checking WKLD CODE file (#64) for duplicate names or numbers
 
                           End of duplicate listing.
 
 If duplicates were listed they should be resolved before patch install  
 
                        --- Environment Check is Ok ---
 
                Sending install loaded alert to mail group G.LMI
 
 
Using VA FileMan menu "UTILITY FUNCTIONS",
 perform the option "VERIFY FIELDS",
 
                          MODIFY WHAT FILE: WKLD CODE
 
                            VERIFY WHICH FIELD: ALL
 
                  DO YOU MEAN ALL THE FIELDS IN THE FILE? YES
 
Ensure that this option runs CLEANLY before installation of this patch.
 
  
Use INSTALL NAME: LR*5.2*302 to install this Distribution.
 
 
Select Installation Option: VERify Checksums in Transport Global
Select INSTALL NAME:    LR*5.2*302   Loaded from Distribution 
12/9/04@01:53:23
     =&gt; NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
 
This Distribution was loaded on Dec 09, 2004@01:53:23 with header of 
   NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
   It consisted of the following Install(s):
     LR*5.2*302
DEVICE: HOME//   TELNET TO ALPHAS
 
 
   6 Routine checked, 0 failed.
 
 
Select Installation Option: INStall Package(s)
Select INSTALL NAME: LR*5.2*302 
     =&gt; NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
 
This Distribution was loaded on Dec 09, 2004@01:53:23 with header of 
   NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
   It consisted of the following Install(s):
     LR*5.2*302
Checking Install for Package LR*5.2*302
Will first run the Environment Check Routine, LR302
 
 
          Checking WKLD CODE file (#64) for duplicate names or numbers
 
                           End of duplicate listing.
 
If duplicates were listed they should be resolved before patch install  
 
                        --- Environment Check is Ok ---
 
                Sending install loaded alert to mail group G.LMI
 
 
 Using VA FileMan menu "UTILITY FUNCTIONS",
 perform the option "VERIFY FIELDS",
 
                          MODIFY WHAT FILE: WKLD CODE
 
                            VERIFY WHICH FIELD: ALL
 
                  DO YOU MEAN ALL THE FIELDS IN THE FILE? YES
 
Ensure that this option runs CLEANLY before installation of this patch.  
 
Install Questions for LR*5.2*302
 
Incoming Files:
 
   61        TOPOGRAPHY FIELD  (Partial Definition)
Note:  You already have the 'TOPOGRAPHY FIELD' File.
 
   64        WKLD CODE
Note:  You already have the 'WKLD CODE' File.
 
   64.061    LAB ELECTRONIC CODES  (including data)
Note:  You already have the 'LAB ELECTRONIC CODES' File.
I will OVERWRITE your data with mine.
 
   64.062    LAB ELECTRONIC SUBTYPES  (including data)
Note:  You already have the 'LAB ELECTRONIC SUBTYPES' File.
I will OVERWRITE your data with mine.
 
   64.2      WKLD SUFFIX CODES  (including data)
Note:  You already have the 'WKLD SUFFIX CODES' File.
I will OVERWRITE your data with mine.
 
   64.21     WKLD CODE LAB SECT  (including data)
Note:  You already have the 'WKLD CODE LAB SECT' File.
I will OVERWRITE your data with mine.
 
   64.22     WKLD ITEM FOR COUNT  (including data)
Note:  You already have the 'WKLD ITEM FOR COUNT' File.
I will OVERWRITE your data with mine.
 
   64.3      WKLD INSTRUMENT MANUFACTURER  (including data)
Note:  You already have the 'WKLD INSTRUMENT MANUFACTURER' File.
I will OVERWRITE your data with mine.
 
   64.81     LAB NLT/CPT CODES  (including data)
Note:  You already have the 'LAB NLT/CPT CODES' File.
I will OVERWRITE your data with mine.
 
   68.2      LOAD/WORK LIST
Note:  You already have the 'LOAD/WORK LIST' File.
 
   95.3      LAB LOINC  (including data)
Note:  You already have the 'LAB LOINC' File.
I will OVERWRITE your data with mine.
 
   95.31     LAB LOINC COMPONENT  (including data)
Note:  You already have the 'LAB LOINC COMPONENT' File.
I will OVERWRITE your data with mine.
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options,Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   TELNET TO ALPHAS
Complete                                   
LR*5.2*302                        
 
 Install Started for LR*5.2*302 : 
               Dec 09, 2004@01:57:39
 
Build Distribution Date: Dec 09, 2004
 
 Installing Routines:     
               Dec 09, 2004@01:57:39
 
 Running Pre-Install Routine: PRE^LR302 
                          ** Saving Pointer Values **
 
                             Saving File #60 data.
 
                             Saving File #61 data.
 
                            Saving File #62.05 data.
 
                            Saving File #62.4 data.
 
                            Saving File #62.8 data.
 
                            Saving File #62.85 data.
 
                            Saving File #62.9 data.
 
                            Saving File #64.2 data.
.......
                            Saving File #68.2 data.
 
                            Saving File #69.6 data.
.......................................................................
 
                          *** Preinstall completed ***
 
 Installing Data Dictionaries:        
               Dec 09, 2004@01:59:41
 
 Installing Data: 
               Dec 09, 2004@02:04:45
 
 Running Post-Install Routine: POST^LR302        
 
                    Updating DSS Feeder Key for AP NLT Codes
 
                       Update DSS AP Feeder Key Complete
                                               
 
                        Building List Of Added NLT CODEs
 
                       Sending message to LMI Mail Group.
 
                       List Of Added WKLD CODEs Complete
 
                    Processing data for File/Subfile #60.01
 
                      Processing data for File/Subfile #61
 
                    Processing data for File/Subfile #62.05
 
                     Processing data for File/Subfile #62.4
 
                    Processing data for File/Subfile #62.85
 
                     Processing data for File/Subfile #64.2
                  ............
                     Processing data for File/Subfile #68.2
 
                     Processing data for File/Subfile #69.6
.......................................................................
 
                    Processing data for File/Subfile #69.64
.......................................................................
 
                       Historical data restored                         
 
                 Sending install completion alert to mail group G.LMI
 
                                   
LR*5.2*302                                   
--------------------------------------------------
 Using VA FileMan menu "UTILITY FUNCTIONS",
 perform the option "VERIFY FIELDS", 
 
                          MODIFY WHAT FILE: WKLD CODE
 
                            VERIFY WHICH FIELD: ALL
 
                  DO YOU MEAN ALL THE FIELDS IN THE FILE? YES           
 
 
 Updating Routine file...      
 
 Updating KIDS files...          
 
 LR*5.2*302 Installed.                Dec 09, 2004@02:13:10
 
Install Completed
 
Loading of patch LR*5.2*302 completed on Dec 09, 2004@01:57:10
LIM: Review description for LR*5.2*302 use KIDS:Utilities: Build File 
Print
 
Installation of patch LR*5.2*302 completed on Dec 09, 2004@02:13
 
 
  POST INSTALLATION INSTRUCTIONS:
  =============================
Review installed LOINC codes to ensure that codes with the status of 
Deprecated (DEL) are not used in your current mapping of LOINC codes. In 
some cases, deprecated LOINC codes [LAB LOINC (#95.3) file, MAP TO (#21) 
field] will have the suggested replacement LOINC code populated.
Note:
If your site is a HOST LEDI site, changing of any LOINC or NLT codes 
should be coordinated the collection site to ensure that both sites agree 
in LOINC and NLT mappings.
 
LR*5.2*302 Technical Install Notes:
=========================
 
This patch is attempting to clean-up the following files:
File #    File Name                     Update Method
64.061    LAB ELECTRONIC CODES          Replaced
64.062    LAB ELECTRONIC SUBTYPES       Replaced
64.2      WKLD SUFFIX CODES             Replaced
64.3      WKLD INSTRUMENT MANUFACTURE   Replaced
64.81     LAB NLT/CPT CODES             Replaced
95.3      LAB LOINC                     Replaced
95.31     LAB LOINC COMPONENT           Replaced
 
*64       WKLD CODE                     Updated
 
 
 
The currently installed files are not compatible with the incoming LOINC 
V2.13. Therefore these files are being completely removed and a fresh 
version is being installed. When the new versions are installed certain 
pointers in other files could be broken or incorrect.
 
To address this problem, the pre-install routine will save the existing 
data in external format in the ^XTMP("LR302",FILE,IEN,FLD)=DATA
This file will be purged in 90 days.
All the fields that point to the replaced files will be saved before the 
old files are purged.
 
The post-install routine will:
1) Add any missing WKLD CODE to your system and create a mail message 
containing the added codes. If this process is successful the LAB NLT/CPT 
CODES (#64.81) should be empty of WKLD CODES.
 
2) Compare your previous WKLD SUFFIX CODES (#64.2) to the file installed 
by the patch. A MailMan message is created listing any locally added. 
These codes must be requested via the mail group indicated in the patch 
description. Codes should not be locally added to any of the NLT Package 
files.
 
3) Re-index WKLD CODE file
 
4) Re-point the fields stored in the ^XTMP("LR302",FILE,IEN,FLD)=DATA 
file. If errors occur during the re-pointing process the wording "ERROR" 
will appear during the post-install.
The error is stored in this format.
 
S ^XTMP("LR302","LRERR",LRCNT)=LRFILE_U_LRIEN_U_LRFLD_U_LRDATA
 
The file will be purged in 90 days.
You will have to manually enter the appropriate value.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;290</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-06-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance
====================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*290 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*290 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*290 have no effect on Blood
Bank software functionality, therefore RISK is none. 
 
=========================================
 
This patch adds support for Laboratory Point of Care (POC) interfaces.
It utilizes existing functionality provided by Laboratory Universal
Interface (UI) and Laboratory Electronic Data Interchange (LEDI) software.
It supports the transmission, processing and storing of POC test results
in the VistA Laboratory package. The ability of POC interfaces to subscribe
to VistA HL7 ADT messages for patient demographics and location information
is provided as needed.
 
 
NOTE: THIS PATCH WILL BE INSTALLED WITH LA*5.2*67
 
 
1. Laboratory orders created by this interface will have a CPRS Nature of
Order 'AUTO' assigned.
 
2. It creates a 'non-human' user 'LRLAB,POC' in NEW PERSON file (#200)
which is used to create the order and accession associated with the point
of care test result. This entry has been approved by the VA VistA Data Base
Administrator. Local site personnel should assign divisions to this user 
that corresponds to the accession areas used for POC results.
 
3. Options Summary list (supervisors') [LR SUP SUMMARY] and Summary list
(extended supervisors') [LRLISTE] have been modified to display the
performing user, performing laboratory, LOINC code and Equipment Instance
Identifier (EII) for each test result when the long or extended format is
chosen. The EII contains the vendor's make/model/serial number of the 
instrument/equipment that produced the test result. When the vendor's
instrument interface transmits this information, it will be stored with
the test results.
 
4. CPRS Lab Display of Recent Results will display performing laboratory
name and address of tests in accordance with College of American Pathology
(CAP) requirements. Routine LR7OGMG was modified to add performing
laboratory information to comments section of the CPRS display.
  
5. NOIS MAR-0105-20968 reported the CPRS Lab Worksheet did not display the
external value of 'set of codes' data types. Values that are set of codes
will be displayed using the external value of the set of codes. Routine
LR7OGG was modified to return external values of set of codes to CPRS.
 
 
ASSOCIATED E3R
--------------
 
 
ASSOCIATED NOIS/Remedy Ticket
-----------------------------
MAR-0105-20968/HD0000000071181
SBY-0501-32827/HD0000000069437 
 
 
TEST SITES
----------
 Madison VAMC
 New Jersey HCS
 Salt Lake City VAMC
 Shreveport VAMC
 Upstate New York System HCS
 
  
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR290            N/A            4831439        **290** (Deleted by KIDS)
   LR7OGG           11097271       10933227       **187,290**
   LR7OGMG          3973477        5478031        **187,230,286,290**
   LRDIQ            10128715       2599216        **86,153,263,290**
   LRGP2            6353513        6108916        **153,221,263,290**
   LRORDST          14420120       12502665       **100,107,121,153,202,290**
   LROW2            8572259        8727104        **121,290**
   LRUER            12281075       11948802       **201,290**
   LRVRPOC          N/A            10290202       **290**
   LRVRPOCU         N/A            8876916        **290**
   LRWLST           17313871       14863929       **46,65,100,121,153,202,
                                                  290**
   LRX              13923654       15315863       **65,153,201,217,290**
 
 List of preceding patches: 202, 217, 263, 286
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
  
INSTALLATION INSTRUCTIONS
-------------------------
See LABORATORY POINT OF CARE (POC) INTERFACE INSTALLATION AND USER GUIDE
    PATCH LA*5.2*67 AND PATCH LR*5.2*290  Version 5.2  JUNE 2005
 
Software and Documentation Retrieval Locations
============================================== 
 
NOTE: All sites are encouraged to use the File Transfer Protocol (FTP)
capability. Use the FTP address "download.vista.domain.ext" (without the
quotes) to connect to the first available FTP server where the files are
located.
 
 
VistA Point of Care (POC) Interface Patches LR*5.2*290 and LA*5.2*67
software and Installation and User Guide are available at the following
Office of Information Field Offices (OIFOs) ANONYMOUS.SOFTWARE directories:
 
 
OI FIELD OFFICE        FTP ADDRESS             DIRECTORY
ALBANY ftp.fo-albany.domain.ext        [ANONYMOUS.SOFTWARE]
HINES  ftp.fo-hines.domain.ext         [ANONYMOUS.SOFTWARE]
SALT LAKE CITY ftp.fo-slc.domain.ext   [ANONYMOUS.SOFTWARE]
 
 
Software and Documentation Retrieval Format
===========================================
  
VistA Laboratory Point of Care (POC) Interface Patches LR*5.2*290 and
LA*5.2*67 software and documentation files are exported in the following
retrieval formats:
 
 
File Names                      Contents                   Retrieval Formats
==========                      ========                   =================
 
LAB_POC.KID                     KIDS build                 ASCII
 
LAB_52_LR290_LA67_POC_IUG.pdf   Laboratory Point of Care   BINARY
                                (POC) Interface Patches
                                LR*5.2*290 and LA*5.2*67
                                Installation and User Guide
 
LAB _52_LR290_LA67_POC_IUG.doc  Laboratory Point of Care   BINARY
                                (POC) Interface Patches
                                LR*5.2*290 and LA*5.2*67
                                Installation and User Guide
 
LAB_52_POC_HL7_SPEC.doc         Laboratory HL7 Interface   BINARY
                                Specification for Point of
                                Care (POC)
 
LAB_52_POC_HL7_SPEC.pdf         Laboratory HL7 Interface   BINARY
                                Specification for Point of
                                Care (POC)
  
 
 
POST-INSTALLATION INSTRUCTIONS
------------------------------
See LABORATORY POINT OF CARE (POC) INTERFACE INSTALLATION AND USER GUIDE
    PATCH LA*5.2*67 AND PATCH LR*5.2*290  Version 5.2  JUNE 2005
 
 
INSTALLATION EXAMPLE
====================
  
See LABORATORY POINT OF CARE (POC) INTERFACE INSTALLATION AND USER GUIDE
    PATCH LA*5.2*67 AND PATCH LR*5.2*290  Version 5.2  JUNE 2005
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;257 SEQ #252</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-06-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance:
=====================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*257 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.

EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*257 does not alter
or modify any software design safeguards or safety critical elements
functions.

RISK ANALYSIS: Changes made by patch LR*5.2*257 have no effect on Blood Bank
software functionality, therefore RISK is none.

VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes made,
no specific validation requirements exist as a result of installation of this
patch.

This patch provides the ability to print an Antimicrobial Trend Report by
division.  There are three new additions to the LAB DATA (#63) file-
one new field for the "CH" subscript and two new fields for the "MI" subscript.
These fields will be used to capture the ordering location and institution
during accessioning.  In the MICROBIOLOGY (#63.05) sub-file of the LAB DATA 
(#63) file, the new fields are REQUESTING LOC/DIV (#63.05,.111) and
ACCESSIONING INSTITUTION (#63.05,.112).  In the CHEM, HEM, TOX, RIA, SER,
etc. (#63.04) sub-file of the LAB DATA (#63) file, the new field is
ACCESSIONING INSTITUTION (#63.04,.112).  In the CHEM, HEM, TOX, RIA, SER, etc.
(#63.04) sub-file of the LAB DATA (#63) file, the REQUESTING LOC/DIV
(#63.04,.111) field is modified to remove the screen on INSTITUTION file (#4)
since sites need to be able to point to entries in the INSTITUTION file (#4)
that are not VA facilities such as DoD and commercial/civilian facilities.

ALB-0600-50112/HD0000000069278:
Patch LR*5.2*257 also corrects two typographical errors. The query portion of
the Microbiology Trend Entry routine has two typographical errors. The word
misspelled as susceptability should be susceptibility. Also, the misspelled
word procede should be proceed.

MODIFIED OPTION
===============
NAME: LRMITS                      MENU TEXT: Microbiology Trend Report
  TYPE: run routine
  HELP FRAME: LRMITS OPTION       PACKAGE: LAB SERVICE
DESCRIPTION:  The antimicrobial trend report is used to compare counts of
organisms and patterns of antibiotic susceptibility.  Different types of
reports can be generated.  The types of reports are categorized by: organism,
specimen, collection sample, patient, physician, and location.  Specific
criteria can be applied to all report types.  Criteria include: specific types
of organisms, isolates collected after a specified time from admission, merge
criteria, antibiotic patterns, and detailed reports.  These reports can be
printed by division or selected divisions.
  ROUTINE: LRMITS



DATA DICTIONARY CHANGES:
========================

NEW FIELDS:
===========

In the MICROBIOLOGY (#63.05) sub-file of the LAB DATA (#63) file: 

63.05,.111      REQUESTING LOC/DIV   0;13         VARIABLE POINTER

                FILE  ORDER  PREFIX    LAYGO  MESSAGE
                   44   1    SC(          n   Enter Hospital Location 
                   4    2    DIC(4,       n   Select appropriate Institution 
                                         
                LAST EDITED:    AUG 04, 2004 
                DESCRIPTION:    Enter the hospital location or institution
                                ordering this test.  

63.05,.112    ACCESSIONING INSTITUTION 0;14 POINTER TO INSTITUTION FILE (#4)

              LAST EDITED:      AUG 04, 2004 
              DESCRIPTION:      This field contains the pointer to the
                                institution where the specimen was accessioned.
                                This field can be blank if LEDI or POC specimen 
                                is accessioned. The field will be set if an
                                actual user accepts the specimen.  

In the CHEM, HEM, TOX, RIA, SER, etc. (#63.04) sub-file of the LAB DATA (#63)
file:

63.04,.112    ACCESSIONING INSTITUTION 0;14 POINTER TO INSTITUTION FILE (#4)

              LAST EDITED:      AUG 04, 2004 
              DESCRIPTION:      This field contains the pointer to the
                                institution where the specimen was accessioned.
                                This field can be blank if LEDI or POC specimen 
                                is accessioned. The field will be set if an
                                actual user accepts the specimen.  

 
MODIFIED FIELD:
===============

In the CHEM, HEM, TOX, RIA, SER, etc. (#63.04) sub-file of the LAB DATA (#63)
file:

BEFORE:

63.04,.111      REQUESTING LOC/DIV   0;13         VARIABLE POINTER
 
                FILE  ORDER  PREFIX    LAYGO  MESSAGE
                   44   1    SC(          n   Hospital Location 
                   4    2    DIC(4,       n   Ordering Institution 
                SCREEN ON FILE 4: S DIC("S")="I $G(^DIC(4,Y,99)),$G(^DIC(4,Y,6)
                                )"

                LAST EDITED:    FEB 01, 1997 
                HELP-PROMPT:    Enter the hospital location or institution 
                                ordering this test. 
                DESCRIPTION:    This is the hospital location or institution
                                ordering this test.  

AFTER:

63.04,.111      REQUESTING LOC/DIV   0;13         VARIABLE POINTER

                FILE  ORDER  PREFIX    LAYGO  MESSAGE
                   44   1    SC(          n   Hospital Location 
                   4    2    DIC(4,       n   Ordering Institution 

                LAST EDITED:    FEB 01, 1997 
                HELP-PROMPT:    Enter the hospital location or institution 
                                ordering this test. 
                DESCRIPTION:    This is the hospital location or institution
                                ordering this test.  


Software Retrieval
==================
VistA Laboratory Multidivisional Antimicrobial Trend Report LR*5.2*257 is
distributed by Packman. 


Documentation Retrieval Locations:
==================================
NOTE: All sites are encouraged to use the File Transfer Protocol (FTP)
capability.  Use the FTP address "download.vista.domain.ext" (without the
quotes) to connect to the first available FTP server where the files are
located.

VistA Laboratory 5.2 User Manual and VistA Laboratory Planning and
Implementation Guide with change pages are available at the following
Office of Information Field Offices (OIFOs) ANONYMOUS.SOFTWARE directories:

  OI FIELD OFFICE          FTP ADDRESS               DIRECTORY
---------------------------------------------------------------
ALBANY                  ftp.fo-albany.domain.ext   [ANONYMOUS.SOFTWARE]
HINES                   ftp.fo-hines.domain.ext    [ANONYMOUS.SOFTWARE]
SALT LAKE CITY          ftp.fo-slc.domain.ext      [ANONYMOUS.SOFTWARE]

Documentation Retrieval Format
==============================
VistA Laboratory 5.2 User Manual and Vista Laboratory 5.2 Planning and
Implementation Guide with change pages are exported in the following
retrieval formats:

       File Names                Contents              Retrieval Formats
-------------------------------------------------------------------------
lab5_2um.doc                 Laboratory 5.2 User Manual    BINARY 


lab5_2pi.doc                 Laboratory 5.2 Planning and   BINARY
                             Implementation Guide


VistA Website Locations:
========================
The Laboratory 5.2 User Manual and Laboratory 5.2 Planning and Implementation
Guide with change pages are accessible at the following locations:

Laboratory Version 5.2 Home Page
---------------------------------
http://vista.domain.ext/ClinicalSpecialties/lab/

VistA Documentation Library (VDL)
---------------------------------
http://www.domain.ext/vdl/



Related NOIS/Remedy: 
====================
 FGH-0200-31523/HD0000000069224
 ALB-0600-50112/HD0000000069278


E3RS:
=====
 11438

Test Sites:
===========
 Durham, NC
 Gainesville, FL
 VA Boston Healthcare System


ROUTINE SUMMARY:
================
The following is a list of the routine(s) included in this patch.  The
second line of each of these routine(s) will look like:

   &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994

                          CHECK^XTSUMBLD results
Routine name    Before Patch          After Patch          Patch List
============    ============          ===========          ==========
LR257              NONE                 2442358               257(Deleted by
                                                                  KIDS) 
LRMITSE          6478419                8737276              96,257
LRMITSES         7787667                7819718              96,257
LRMITSPE         6091299                7314510              96,257
LRMITSPS         3052409                3271788               257
LRMITSR          11570196               11570170             96,257
LRMITSRH         2059425                2320614               257


INSTALLATION INSTRUCTIONS
=========================
  The install time for this patch is less than 5 minutes.  This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install:  non-peak requirement hours.

      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).

  1.  If any of the above routines are mapped, disable mapping for them.

  2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.

  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation ' menu.

  4.  Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.

  5.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global

  6.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*257'.  When prompted 'Want KIDS to
      INHIBIT LOGONS during the install? YES//', choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.  When prompted 'Want KIDS to Rebuild Menu Trees
      Upon Completion of Install? YES//"', choose 'NO'.

  7.  On a mapped system, rebuild your map set.

NOTE:  Routine LR257 will be deleted after successful patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;323 SEQ #253</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-09-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
During the verification of Micro Data, an undefined error has occurred at 
line APP+5^LRMIUT1. This patch corrects this defect.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;330 SEQ #254</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-09-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance
==================== 
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*330 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*330 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*330 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.
--------------------------------------------------------------------------
 
   
NOIS FAV-0105-71385 reported the inability to verify Laboratory Electronic
Data Interchange (LEDI) results when one or all of the lab results being
processed have 'comment' as the result. Functionality, released in patch
LR*5.2*286, to prevent editing of reference laboratory results using option
Enter/verify data (auto instrument) [LRVR] prevented user from releasing
LEDI results.
 
NOIS ASH-0105-31055 reported the inability to verify LEDI results when
one or all of the lab results being processed have 'canc' as the
result. Functionality, released in patch LR*5.2*286, to prevent
editing of reference laboratory results using option Enter/verify data
(auto instrument) [LRVR] prevented user from releasing LEDI results.
 
This patch allows users verifying reference laboratory results to
release results that consist only of 'comment' or 'canc' type results.
 
 
 
 ASSOCIATED E3R
 --------------
 None
 
 ASSOCIATED NOIS
 ---------------
 ASH-0105-31055/Remedy ticket HD0000000071185
 FAV-0105-71385/Remedy ticket HD0000000071204
 
 
 TEST SITES
 ----------
 
 Asheville VAMC (Medium site) 
 Boston HCS (Integrated/Large site)
 Fayetteville AR, VAMC (Medium site)
 Milwaukee VAMC (Large site)
 New Orleans VAMC (Large siet)
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR330            N/A            4831418        **330** (Deleted by KIDS)
   LRVR4            9645653        9819762        **14,42,121,153,221,263,
                                                  279,283,287,286,330**
 
 List of preceding patches: 286
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LR*5.2*330):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*330'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
     The install will automatically disable the following options:
 
       Accession order then immediately enter data [LR ACC THEN DATA]
       Batch data entry (chem, hem, tox, etc.) [LRSTUF]
       Bypass normal data entry [LRFAST]
       Enter/verify data (Load list) [LRVRW2]
       Enter/verify data (Work list) [LRVRW] 
       Enter/verify data (auto instrument) [LRVR]
       Fast Bypass Data Entry/Verify [LRFASTS]
       Group verify (EA, EL, EW) [LRGV]
       Special test accessioning [LRNONCOM]
       Group data review (verified &amp; EM) [LRGVP] 
 
  6.  On a mapped system, rebuild your map set.
 
 Note: Routine LR330 will be deleted after successful patch installation.
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option:
 
Select Kernel Installation &amp; Distribution System Option:  Installation
 
Select Installation Option:  Install Package(s)
Select INSTALL NAME:  LR*5.2*330  Loaded from Distribution  Loaded from
Distribution  1/24/05@13:44:22
     =&gt; LR*5.2*330
 
This Distribution was loaded on Jan 24, 2005@13:44:22 with header of
   LR*5.2*330
   It consisted of the following Install(s):
     LR*5.2*330
Checking Install for Package LR*5.2*330
Will first run the Environment Check Routine, LR330
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*330
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET
 
 
 Install Started for LR*5.2*330 :
               Jan 24, 2005@13:46:54
 
Build Distribution Date: Jan 24, 2005
 
 Installing Routines:
               Jan 24, 2005@13:46:54
 
 Running Pre-Install Routine: PRE^LR330
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Jan 24, 2005@13:46:54
 
                                   LR*5.2*330
 
 Running Post-Install Routine: POST^LR330
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*330 Installed.
               Jan 24, 2005@13:46:55
 
 Install Message sent #3905
 
 Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;336 SEQ #255</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-09-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will up date the LR reference to Person Class codes to conform 
with the new codes released in XU*8*377.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;340 SEQ #256</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-09-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch updates the retrieval of Lab Results to only return verified 
Results when called on by CPRS via the Orders tap. 
 
This patch removes unused Blood Bank functionality from the routine LR7OR1
in support of the VBECS (Vista Blood Establishment Computer Software) 
Blood Bank Modernization Project.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;322 SEQ #257</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-10-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The three problems addressed in this patch were originally described in
the following NOIS calls:
DAY-0204-42022 - EN+13~LRUPS undefined variable
BHS-0804-11324 - &lt;UNDEFINED&gt;B+2^LRAUDA ERROR
LON-0904-61172 - MAJOR SECTION REPORT, BOTH SCROLLING AND PRINTING
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;324 SEQ #258</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-10-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
STOP SNOMED CODING OLD AP REPORTS FROM SENDING ALERTS
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;339 SEQ #259</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-10-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
THIS IS A PATCH TO A PATCH (324) IT CORRECTS AN UNDEFINDED ERROR. THE 
PREVIOUS PATCHES ARE NOT REQUIRED SINCE THEY CAUSED ERRORS.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;341 SEQ #260</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-10-20 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch updates routine LRUMD to only include patients in the 
requested sorting group when printing the data by test list.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;347 SEQ #261</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-12-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a problem with Batch Data Entry where
executable code in a delta check is not executed.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;348 SEQ #262</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-12-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
THIS CORRECTS A CODE ERROR IN 340, THE STATEMENT WAS IF 'X WHICH ONLY 
WORKS WHEN X IS NUMERIC. IN THIS CASE IT WAS  ALPHA NUMERIC. THE 
STATEMENT WAS CHANGED TO IF X="". X IS EXAMPLE VARIABLE.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;344 SEQ #263</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-12-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects problems with the way reference ranges are
displayed in search options and in CPRS and also fixes a bug 
which generates a SYNTAX error in option LRSORA (Search for HI/Lo
Values). The patch also fixes a problem with the Microbiology
Trend Report where no data is printed when specific locations are
selected.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;351 SEQ #264</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-04-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects 3 reporting problems:  one with the Critical
Value Report, one with Workload Code List Report, and one with
the Print List of Non-Draw Orders.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;338 SEQ #265</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-04-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects report print problems with Reprint a WARD
Collect Order and with Sum of Accessions by Date - AP
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;353 SEQ #266</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-04-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Description:
============
This patch will add a new Kernel look-up screen to the Laboratory Site
file (#69.9) in support of Orders Data Standardization.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;349 SEQ #267</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-04-10 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
INCORRECT OOS (OCCASION OF SERVICE) LOCATION GOING TO PCE
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;291 SEQ #268</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-05-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
VISTA Laboratory Clinical Indicator Data Capture (Patch LR*5.2*291)
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;355 SEQ #269</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-06-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a SUBSCRIPT error causing the HAM report to error
out.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;357 SEQ #270</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-06-14 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects 2 seperate problems in 3 different Remedy tickets.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;342 SEQ #271</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a data integrity problem caused by an input
transform setting data at the wrong global node and removes a
menu option that is obsolete.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;358 SEQ #272</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects problems with the LEDI Turnaround Time Report and
the Worksheet Accession List.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;361 SEQ #273</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
ADDING NEW LAB TEST WITH DOUBLE QUOTES
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;343 SEQ #274</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Team Coordination
============================
VISTA Laboratory Package patch LR*5.2*343 contains changes to software 
controlled by VHA DIRECTIVE 2004-058, titled VISTA BLOOD BANK SOFTWARE. 
Changes include: 
 File #69.9 (Laboratory Site)
    Field #150.3 (CANCEL ON ADMIT) - Removed
    Field #150.4 (CANCEL ON DISCHARGE) - Removed
    Field #150.5 (CANCEL ON SPECIALTY TRANSFER) - Removed
 
All of the above changes have been reviewed by the VISTA Blood Bank 
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE 
control functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*343 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*343 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to 0 routines and 
1 file identified in Veterans Health Administration (VHA) Directive 
2004-058, group B listing. The changes have no effect on Blood Bank 
functionality or medical device control functions. There is no adverse 
potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: 
There are no validation requirements for this patch.
 
MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL FUNCTIONS:
There are no test case scenarios for this patch.
************************************************************************
 
Remove the LABORATORY package's rules for managing laboratory order 
auto-discontinuance on admission, transfer, or discharge events and let 
the existing rules in the OERR (ORDER ENTRY RESULTS REPORTING) package 
handle the order auto-discontinuance process.
 
The LABORATORY package's process that is used to decide if an order 
should be discontinued when a patient move event is triggered will be 
disabled.  This business rule is already being handled by the OERR 
package and the Lab's business rules do not perform all of the needed 
checks that the OERR package performs.  For example, the Lab's process 
does not check that a new movement is actually tied to the current 
admission.  An edit of a patient movement can result in erroneous auto 
discontinue of a patient's laboratory orders.  OERR also provides checks 
in the software to establish whether the patient event is new or an edit 
to an existing event.
 
The Lab's process has caused erroneous auto discontinuance of laboratory 
orders because it does not check if a new movement is actually tied to 
the patient's current admission.  In the case outlined by the Patient 
Safety Issue (PSI) report it appeared that a user deleted and re-entered 
a movement for a prior admission to make a correction.  Since it was a 
new movement the Lab code executed and the orders were discontinued.  
This problem would especially impact sites with patients that are 
transferred from the acute hospital to the nursing home.
 
 
 
Technical Description
=====================
When the DGPM MOVEMENT EVENTS of the PROTOCOL file (#101) is triggered 
the LR7O MOVEMENT EVENT protocol may be called (if it is an item of the 
DGPM MOVEMENT EVENTS protocol).  In this situation the business rule 
processing in the LABORATORY package fails to make all of the needed 
checks to properly determine if the order should be discontinued.  If 
Lab's logic discontinues the order there will be no order for OERR to 
apply its more detailed set of business rules against when the OERR code 
is called from the patient movement event.
 
Lab will no longer perform any package-level checks for order 
auto-discontinuance based on patient movements.  These checks will be 
performed by the OERR package.  This change is accomplished by:
 
Deletion of PROTOCOL file (#101) entries:
         LR7O MOVEMENT EVENT and LR7O MOVEMENT EVENT TASK
Deletion of routine LR7OEVNT
Deletion of the following Data Dictionary for LABORATORY SITE file 
(#69.9):
    CANCEL ON ADMIT field (#150.3)
    CANCEL ON DISCHARGE field (#150.4)
    CANCEL ON SPECIALTY TRANSFER field (#150.5)
 
 
 
New Service Request:
====================
#20050802 -- Remove Lab Package Options to DC Order on Patient Movement
 
 
Associated Remedy:
==================
HD0000000104211
 
 
Associated E3R:
===============
N/A
 
 
Associated PSI:
===============
PSI-05-068 
 
 
Test Sites
==========
DURHAM, NC -VAMC (Large site)
NORTHERN CALIFORNIA HCS (Large site) 
 
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
      &lt;tab&gt; ;; 5.2;LAB SERVICE;&lt;patch list&gt;;Sep 27, 1994
 
                  Checksum       Checksum
 Routine Name     Before Patch   After Patch    Patch List
     LR343        N/A            12851791       343
     LR7OEVNT     5021306        deleted by KIDS
 
     Routines deleted by KIDS: LR343,LR70EVNT
     List of preceding patches: n/a
     Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
PROTOCOLS
    LR7O MOVEMENT EVENT  (deleted)
    LR7O MOVEMENT EVENT TASK  (deleted)
 
 
DATA DICTIONARIES
    LABORATORY SITE file (#69.9)
        CANCEL ON ADMIT field (#150.3)  (deleted)
        CANCEL ON DISCHARGE field (#150.4)  (deleted)
        CANCEL ON SPECIALTY TRANSFER field (#150.5)  (deleted)
 
 
INSTALLATION INSTRUCTIONS
=========================
 
  The install time for this patch is approximately 6 minutes.
  Suggested time to install: non-peak requirement hours.
  This patch can be installed when Laboratory users are on the system.
 
 
                     I  M  P  O  R  T  A  N  T
                   =============================
                 THIS INSTALLATION MUST BE QUEUED
 
 
  NOTE: Kernel patches must be current on the target system to avoid
        problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
      option will load the KIDS patch onto your system.
 
  2.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  3.  Use the 'Verify Checksum in Transport Global' option and verify
      that all routines have the correct checksums.
 
  4.  On the KIDS menu, under the 'Installation' menu, use the following
      options:
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
 
  5.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*343*'
 
      If prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
      Install?" choose "NO".  Note: Responding "Yes" to the prompt for
      rebuilding menu trees can significantly increase install time.
 
      If prompted "Want KIDS to INHIBIT LOGONs during the install?"
      choose "NO".
 
      If prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//" choose "NO" unless the site has additional local
      laboratory options that should be disabled during install.
 
  6.  When prompted for the DEVICE, enter "Q" to queue the build.  If you
      do not queue the installation KIDS will abort the install.  When
      you try to restart the install you may encounter an &lt;UNDEF&gt; error
      due to a bug in KIDS.  If this happens you will need to use FileMan
      to modify the INSTALL file (#9.7) for entry LR*5.2*343 which 
      currently has the status of "Start of Install" and set its' STATUS 
      field to "Install Completed".  Reload the transport global and 
      install the patch again. 
 
  7.  Check your system for errors which may have occurred during the 
      time this patch was installed.  If the PROTOCOL DGPM MOVEMENT 
      EVENTS was called during this patch installation, system errors 
      (such as "Can't return to source" for routine LR7OEVNT) may have 
      been generated.  If so, those patient movements will have to be re-
      created. 
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option:  Install Package(s)
Select INSTALL NAME:    LR*5.2*343     Loaded from Distribution  
10/20/05@12:39:58
     =&gt; LR343 KIDS  ;Created on Oct 20, 2005@11:59:59
 
This Distribution was loaded on Oct 20, 2005@12:39:58 with header of 
   LR343 KIDS  ;Created on Oct 20, 2005@11:59:59
   It consisted of the following Install(s):
     LR*5.2*343
Checking Install for Package LR*5.2*343
Will first run the Environment Check Routine, LR343
 
                Environment is okay 
 
Install Questions for LR*5.2*343
 
Want KIDS to INHIBIT LOGONs during the install? NO// 
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// QUEUE TO PRINT ON
DEVICE: HOME// P-MAIN
 
Request Start Time: Oct 20, 2005@12:42:41//   (OCT 20, 2005@12:42:41)
Install Queued!
 
 
 
Sample Installation Output
==========================
 
Install Started for LR*5.2*343 : 
       Oct 20, 2005@12:42:42
 
Build Distribution Date: Oct 20, 2005
 
 Installing Routines:...
       Oct 20, 2005@12:42:42
 
 Running Pre-Install Routine: PRE^LR343.
 
       Pre install started at Oct 20, 2005@12:42:42
 
      Sent install started alert to mail group G.LMI
 
      Setting DISABLE and ACTION fields for Protocols
 
            No actions required for pre install
 
      Pre install completed at Oct 20, 2005@12:47:42
 
 Installing PACKAGE COMPONENTS: 
 
 Installing PROTOCOL...
               Oct 20, 2005@12:47:42
 
 Running Post-Install Routine: POST^LR343.
 
       Post install started at Oct 20, 2005@12:47:42
 
            File #69.9 field data update started
 
           File #69.9 field data deletion finished
 
  Post install completed at Oct 20, 2005@12:47:42
 
     Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*343 Installed. 
               Oct 20, 2005@12:47:42
 
 Install Message sent
 
 
 
Sample MailMan Message
======================
Pre install started at Oct 20, 2005@12:48:15
Sent install started alert to mail group G.LMI
Setting DISABLE and ACTION fields for Protocols
No actions required for pre install
Pre install completed at Oct 20, 2005@12:48:55
Post install started at Oct 20, 2005@12:53:59
File #69.9 field data update started
File #69.9 field data deletion finished
Post install completed at Oct 20, 2005@12:54:45
Sending install completion alert to mail group G.LMI
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;354 SEQ #275</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects 2 PROBLEMS WITH THE TURNAROUND TIME REPORT
(LR CAPTT).
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;359 SEQ #276</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;329 SEQ #277</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*329 does
not contain any changes to the VISTA BLOOD BANK Software as defined
by VHA DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*329 does
not alter or modify any software design safeguards or safety critical
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*329 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
 
1. Remedy ticket HD0000000088913 reported the Laboratory software was
creating Laboratory Unique Identifiers (UID) which used the prefix '00'
instead of the site's two character identifier assigned to each accession
area. This situation exists when the UIDs from old previously purged
accessions are still in the "C" cross-reference of the ACCESSION file
(#68), many from when the UID was first implemented in 1995.
 
One of the checks performed during UID creation is to check if the UID
being generated exists in the "C" cross-reference. If it does and it is not
for the accession being created then the software replaces the accession
area identifier the site has specified for the accession area and uses "00"
in its place to insure creation of a unique identifier.
 
Example: LRO(68,"C",1550180008,25,2950118,8)
Where: LRO = LRO global
        68 = ACCESSION file (#68)
       "C" = cross reference
 155018008 = UID
        25 = accession area
   2950118 = accession date (Jan 18 1995)
         8 = accession number portion

If the software wanted to assign the normally generated accession UID
1550180008 to accession area 25, accession date of Jan 18 2005, accession
number of 18 but found the UID already exist for 1995 accession for the
same day and number then UID generating software would replace 15 with 00
to create a UID 0050180008 to allow accessioning to continue. 

Note: The UID generating software will always produce an unique number.
No two accessions will ever have the same UID based on the "C" cross reference.
 
The routine LROC is modified to check for purged accessions and remove
purged accession's UID from the "C" and "D" cross reference of the
ACCESSION (#68) file. This will correct the problem of 10 year
overlapping accession UID. This routine is invoked by Purge old orders
&amp; accessions option [LROC].
 
Note: After installation of this patch the Laboratory software will
continue to create UIDs using the "00" prefix when an existing accession
is still currently on the system and using the UID. This is to assure that
the UID assigned to an accession is unique. The Laboratory software is
capable of handling UIDs correctly when the UID has a "00" prefix. There
is no inherent requirement that a specific UID conform exactly to its
related accession.
 
2. The check and purge of these cross-references will be tasked by the
post-install of this patch to cleanup any existing entries in file #68.
The post-install of this patch tasks a back-ground job to cleanup any
existing entries in file #68 that have been previously purged. After
this back-ground job has run to completion, the "C" and "D" should not
contain any UIDs related to purged accessions.
 
3. As part of developer review, the Purge old orders &amp; accessions option
[LROC] has been made 'TaskMan aware'. Stopping of this tasked process can
be accomplished using standard TaskMan utilities.
 
 
 ASSOCIATED E3R
 --------------
 None
 
 ASSOCIATED REMEDY
 ---------------
 HD0000000088913
  Duplicates:
  HD0000000096348
  HD0000000141232
  HD0000000141237
  HD0000000141258
  HD0000000141298
  HD0000000141977
  HD0000000142004
  HD0000000142663
  HD0000000143065
  HD0000000144052
  HD0000000145774
  HD0000000146357
  HD0000000147586
  HD0000000147794
  HD0000000148645
 

 TEST SITES
 ----------
 
 ALEXANDRIA, LA
 ALTOONA, PA    
 ANN ARBOR, MI  
 BAY PINES, FL  
 BLACK HILLS HCS
 BOSTON HCS     
 BRONX, NY      
 CENTRAL PLAINS HCS 
 CENTRAL TEXAS HCS  
 CLEVELAND, OH
 DAYTON, OH   
 DETROIT, MI  
 DUBLIN, GA   
 DURHAM, NC   
 FARGO, ND    
 FRESNO, CA   
 HAMPTON, VA  
 HINES, IL    
 HOUSTON, TX  
 LEXINGTON, KY
 LOMA LINDA, CA
 LONG BEACH, CA
 MADISON, WI   
 MANCHESTER, NH
 MARYLAND HCS  
 MILWAUKEE, WI 
 MINNEAPOLIS, MN
 MUSKOGEE, OK   
 NEW YORK HCS   
 NORTH CHICAGO, IL
 NORTHPORT, NY    
 OKLAHOMA CITY, OK
 PHILADELPHIA, PA 
 PROVIDENCE, RI   
 RICHMOND, VA     
 SAN FRANCISCO, CA
 SAN JUAN, PR     
 SHERIDAN, WY     
 SHREVEPORT, LA   
 SIOUX FALLS, SD  
 ST CLOUD, MN     
 TAMPA, FL        
 TENNESSEE VALLEY HCS
 UPSTATE NEW YORK HCS
 WEST PALM BEACH, FL 
 

 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR329            N/A            5595661        **329** (Deleted by KIDS)
   LROC             9241387        7783203        **121,295,329**
 
 List of preceding patches: 295
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  2.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  3.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LR*5.2*329):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  4.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*329'.

      When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' choose 'NO'. Responding 'Yes' to the prompt for 
      rebuilding menu trees can significantly increase install time.

      When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//
      choose 'NO'.
 
      When prompted 'Want to DISABLE Scheduled Options, Menu Options,
      and Protocols? YES//', choose 'NO'.
 
      During install KIDS will place the Purge old orders &amp; accessions
      option [LROC] out of order.
 
 Note: Routine LR329 will be deleted after successful patch installation.
 
 
INSTALLATION EXAMPLE
====================
 
Select Installation Option:
 
Select Kernel Installation &amp; Distribution System Option:  Installation
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*329  Loaded from Distribution  4/11/05@16:15:44
     =&gt; LR*5.2*329
 
This Distribution was loaded on Apr 11, 2005@16:15:44 with header of
   LR*5.2*329
   It consisted of the following Install(s):
     LR*5.2*329
Checking Install for Package LR*5.2*329
Will first run the Environment Check Routine, LR329
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*329
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// TELNET VIRTUAL
 
 
 Install Started for LR*5.2*329 :
               Apr 11, 2005@16:16:28
 
Build Distribution Date: Apr 11, 2005
 
 Installing Routines:...
               Apr 11, 2005@16:16:28
 
 Running Pre-Install Routine: PRE^LR329.
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION..
               Apr 11, 2005@16:16:28
 
 Running Post-Install Routine: POST^LR329.
 
                          *** Post install started ***
 
 *** Tasking check/cleanup "C" cross reference on ACCESSION file (#68) ***
 
                       *** Task #XXXX tasked to run ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file......
 
 Updating KIDS files.......
 
 LR*5.2*329 Installed.
               Apr 11, 2005@16:16:28
 
 Install Message sent #XXXX





</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;360 SEQ #278</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-11-22 22:23:22</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses several issues with accessioning. This patch will
prevent the re-accessioning of accessioned and the accessioned part of 
partly accessioned lab orders. It will not allow the input of order
numbers exceeding eight characters in length. It adds to chemistry and 
microbiology accessioning (both standard and batch) a warning message the 
patient the test is for has died and the patient's date of death.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;346 SEQ #279</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-11-22 23:16:35</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Blood Bank Clearance
 ====================
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*346 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*346 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*346 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.
----------------------------------------------------------------------------
 
As part of the VA/DoD Laboratory Data Sharing Interoperability (LDSI) Phase
2 project supporting the exchange of microbiology and anatomic pathology
laboratory test orders and results, enhancements have been made to the
Laboratory server LRLABSERVER to extract selected VistA Laboratory files
for SNOMED CT mapping.
 
1. The following are new LRLABSERVER server reports made available with
this patch:
 
a. SNOMED
   Send a message to: S.LRLABSERVER@domain name
             Subject: SNOMED
 
   The body of the message will be ignored. The following files are
   scanned and data is extracted and extract data in a format for input
   into Standards and Terminology Service (STS) mapping SNOMED tool:
 
   File #    File Name
   ------    ---------
   61        TOPOGRAPHY FIELD
   61.1      MORPHOLOGY FIELD
   61.2      ETIOLOGY FIELD
   61.3      FUNCTION FIELD
   61.4      DISEASE FIELD
   61.5      PROCEDURE FIELD
   61.6      OCCUPATION FIELD
   62        COLLECTION SAMPLE
 
   Results are returned to the person
   sending the mail message request. The extracted data is returned as an
   attached file in a delimited format using the "|" character as
   the field delimiter.
 
   Record legend for attached file:
    Station #-File #-IEN|Entry Name|SNOMED I|VUID|SNOMED CT|
    SNOMED CT TERM|Mapping Exception|Related Specimen|Related Specimen ID|
    Extract Ver|
 
    Note: the fields RELATED SPECIMEN &amp; RELATED SPECIMEN ID in the
          record are only valued when the record relates to an entry
          in COLLECTION SAMPLE file (#62) and indicates the related
          specimen in TOPOGRAPHY FIELD file (#61).
 
 
b. NLT/CPT
   Send a message to: S.LRLABSERVER@domain name
             Subject: NLT/CPT
 
   The body of the message will be ignored. The database is scanned
   for mapped NLT, LOINC and CPT data. Results are returned to the person
   sending the mail message request. The extracted data is returned as an
   attached file in a delimited format using the "|" character as the field
   delimiter.
 
   Record legend for attached file:
   Station #-NLT IEN-CPT IEN-Spec-Time Aspect|NLT Code|NLT Name|CPT Code|CPT
   Name|Specimen|Time Aspect|LOINC Code|LOINC Short Name|
 
 
2. The existing LRLABSERVER report RELMA has been modified to extract
additional information requested by VA Data Standardization service.
   a. The extract will now include an extract version number. This patch
      will set the version number to 1.1.
   b. Include site's Laboratory Test site notes.
   c. Include laboratory test's synonyms
   d. Include laboratory test's type
   e. Include laboratory test's default LOINC code.
   f. Include mappings to suffixed NLT codes when laboratory code is mapped
      to a generic NLT code and suffixed codes also exist.
 
The modified record layout of the extract is:
 
 Legend:
|           1                   |    2    |  3 |     4     |  5  |   6
|Station #-60 ien-Spec ien-Index|Test Name|Spec|Time Aspect|Units|LOINC
 
|  7  |    8       |     9             |     10    |   11    |   12
|NLT #|Battery Code|Battery Description|Lab Section|Subscript|Comment
 
|    13   |    14       |     15       |      16       |       17
|Data Type|Reference low|Reference high|Therapeutic low|Therapeutic high
 
|     18    |    19      |       20    |    21   |      22     |  23     |
|Use Ref Lab|Site Comment|Test Synonyms|Test Type|Default LOINC|Extract Ver|
 
 
3. Due to migration within Veterans Health Administration from Microsoft
Exchange 2000 to Exchange 2003 the Microsoft Exchange system dropped support
for 4 character Unix file permission which are part of the header used to
uuencode the file attachment. The extract changes the uuencode file header
from "begin 0664 "_filename to "begin 664 "_filename to enable successful
processing of the uuencoded file by Exchange.
 
 
 ASSOCIATED E3R
 --------------
 None
 
 ASSOCIATED REMEDY
 ---------------
 None
 
 
 TEST SITES
 ----------
 Biloxi VAMC
 Boston HCS VAMC
 El Paso VAMC
 Milwaukee VAMC
 San Antonio VAMC
 Upstate New York HCS
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR346            N/A            4832883        **346** (Deleted by KIDS)
   LRSRVR           5915085        5140630        **232,303,346**
   LRSRVR2          12542186       9040430        **303,346**
   LRSRVR2A         N/A            6229869        **346**
   LRSRVR3          13571036       13681273       **303,346**
   LRSRVR6          N/A            8991310        **346**
   LRSRVR7          N/A            7316475        **346**
 
 List of preceding patches: 303
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  2.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  3.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LR*5.2*346):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
   4.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*346'.
 
      When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
      Install? YES//' choose 'NO'. Responding 'Yes' to the prompt for
      rebuilding menu trees can significantly increase install time.
 
      When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//
      choose 'NO'.
 
      When prompted 'Want to DISABLE Scheduled Options, Menu Options,
      and Protocols? YES//', choose 'NO'.
 
      During install KIDS will place the LR LAB SERVER option [LRLABSERVER]
      out of order.
 
 Note: Routine LR346 will be deleted after successful patch installation.
 
 
INSTALLATION EXAMPLE
====================
 
Select Kernel Installation &amp; Distribution System Option: Installation
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*346 Loaded from Distribution  9/16/05@15:38:31
     =&gt; LR*5.2*346
 
This Distribution was loaded on Sep 16, 2005@15:38:31 with header of
   LR*5.2*346
   It consisted of the following Install(s):
     LR*5.2*346
Checking Install for Package LR*5.2*346
Will first run the Environment Check Routine, LR346
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*346
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET VIRTUAL
 
 
 
 Install Started for LR*5.2*346 :
               Sep 16, 2005@17:07:36
 
Build Distribution Date: Sep 16, 2005
 
 Installing Routines:
               Sep 16, 2005@17:07:36
 
 Running Pre-Install Routine: PRE^LR346
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Sep 16, 2005@17:07:36
 
 
 Running Post-Install Routine: POST^LR346
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*346 Installed.
               Sep 16, 2005@17:07:36
 
 Install Message sent #nnnnnn
 
Install Completed

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;328 SEQ #280</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-11-22 23:46:08</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*328 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*328 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*328 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes
made, no specific validation requirements exist as a result of installation
of this patch.
 
 
Nature of Problem:
 PSI-04-059 identified a patient safety issue identified during the
 testing phase of the Laboratory Electronic Data Interchange (LEDI III)
 software patches LA*5.2*64 and LR*5.2*286.
 
 Two test sites reported an undefined error related to the variable SEX
 which contains the patient's sex. During analysis of the reported error,
 it was determined, by the laboratory development team, that the variable
 that referenced the patient's sex was being killed between accessions when
 a laboratory order created two or more accessions.
 
 The problem occurs when laboratory users enter laboratory test results
 using the VistA Laboratory option "Accession order then immediately enter
 data [LR ACC THEN DATA]".  If the laboratory order being processed
 creates two or more accessions, the second and any subsequent accessions,
 may calculate age and/or sex based normals and abnormals incorrectly.
 
 We believe this to be a pre-existing problem; however, we cannot
 determine how long the problem has been occurring. It is unknown as to
 whether any specific incidents have occurred if any.  Also, but most
 importantly, no patients were harmed.
 
Solution:
 The LR*5.2*328 patch was developed which will set patient's demographics
 between processing of accessions when using the "Accession order then
 immediately enter data [LR ACC THEN DATA]" option.  This will ensure that
 the patient's age/sex is defined before calculating any age/sex based
 normals and determining abnormality flags.
 
 The routine LRFAST is modified to define the applicable patient 
 demographic values for sex, date of birth, and age when processing each
 accession associated with the order.
 
 
 ASSOCIATED E3R
 --------------
 None
 
 ASSOCIATED REMEDY
 ---------------
 None
 
 ASSOCIATED PSI
 ---------------
 PSI-04-059 PATIENT SAFETY ISSUE: Laboratory, 11/3/2004 5:20:06 PM
 
  
 TEST SITES
 ----------
 Durham VAMC 
 Manchester VAMC
 Milwaukee VAMC
 North Chicago VAMC
 
 
ROUTINE SUMMARY
===============
  The following routines are included in this patch.  The second line
  of each of these routines now looks like:
  &lt;tab&gt; ;;5.2;LAB SERVICE;&lt;patchlist&gt;;Sep 27, 1994
 
                    Checksum       Checksum
   Routine Name     Before Patch   After Patch    Patch List
   ------------     ------------   -----------    ------------
   LR328            N/A            4831454        **328** (Deleted by KIDS)
   LRFAST           19472230       19464995       **100,121,201,286,291,328**
 
 List of preceding patches: 291
 Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  If any of the above routines are mapped, disable mapping for them.
 
  2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  3.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  4.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LR*5.2*328):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  5.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*328'.  When prompted 'Want KIDS to
      INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
      'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES//', choose 'NO'.
 
      During install KIDS will place the "Accession order then immediately
      enter data option [LR ACC THEN DATA] out of order.
 
  6.  On a mapped system, rebuild your map set.
 
 Note: Routine LR328 will be deleted after successful patch installation.
 
 
INSTALLATION EXAMPLE
==================== 
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*328 Loaded from Distribution Loaded from
Distribution  4/21/05@16:56:33
     =&gt; LR*5.2*328
 
This Distribution was loaded on Apr 21, 2005@16:56:33 with header of
   LR*5.2*328
   It consisted of the following Install(s):
     LR*5.2*328
Checking Install for Package LR*5.2*328
Will first run the Environment Check Routine, LR328
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*328
 
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
 Install Started for LR*5.2*328 :
               Apr 21, 2005@16:58:02
 
Build Distribution Date: Apr 21, 2005
 
 Installing Routines:
               Apr 21, 2005@16:58:02
 
 Running Pre-Install Routine: PRE^LR328
 
                          *** Pre install started ***
 
                           *** No action required ***
 
                         *** Pre install completed ***
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Apr 21, 2005@16:58:02
 
 Running Post-Install Routine: POST^LR328
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*328 Installed.
               Apr 21, 2005@16:58:03
 
 Install Message sent #XXXX
 
Install Completed






</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;337 SEQ #281</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-06-29 19:23:27</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects 2 problems with "DELETE TEST" and a problem
with exiting the "INTERIM REPORT".  An issue is also addressed with
"ELECTRONIC CATALOG".
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;356 SEQ #282</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-04 22:35:28</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will correct a problem with the display of Reference, Critical
&amp; Therapeutic ranges in the Laboratory Test Description in the Lab Test 
Information option of the Tools menu in CPRS GUI by routine LR7OR4. It 
will correct a problem with the display of reference ranges with a 
patient's laboratory test data in both CPRS GUI and the Laboratory 
Package by routines LR7OGMC, LR7OGU, and LRRP1.
 
In the SITE/SPECIMEN SUB-FILE (60.01) the description for fields REFERENCE
 LOW (60.01,1), REFERENCE HIGH (60.01,2), CRITICAL LOW (60.01,3), CRITICAL
HIGH (60.01), THERAPEUTIC LOW (60.01,9.2), and THERAPEUTIC HIGH (60.01, 
9.3) has been changed.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;308 SEQ #283</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-04 23:49:33</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
=====================
Patch Description
================= 
Several updates and enhancements have been identified as requiring 
immediate action after the installation of patch LR*5.2*274, AP CPT 
Coding &amp; NLT Code Update.  This patch LR*5.2*308 includes updates
that have been identified in the NOIS's listed below.  
The following updates are included.  
 
1.  Currently:  If a Current Procedural Terminolgy (CPT) code is not
found or is marked inactive in the CPT file (#81), a general message,
"Nothing Selected" displays, or no message at all displays.  The CPT 
code is not selected and passed to PATIENT CARE ENCOUNTER (PCE).
 
Update:  If one or more CPT's are not found in the CPT file (#81), 
the following message displays and lists the CPT codes:
          "The following CPT Code(s) are not selected:
            Not found in #81: #####,#####,".
For one or more CPTs that are marked inactive in the CPT 
file (#81), the following message displays and lists the CPT codes:
          "The following CPT Code(s) are not selected: 
            CPT(s) inactive in #81: #####,#####".
All CPTs that are inactive or not found in file #81 will not be 
passed to PCE.
 
2.  Currently:  CPTs marked inactive in the WKLD CODE file (#64) 
can be selected and are passed to PCE.
 
Update:  If a selected CPT is marked inactive in file (#64), a 
search is made for another active CPT linked to the same workload code.  
If another active CPT is found, the active CPT replaces the inactive CPT
and is passed to PCE.  The following message will display if an active
replacement is found:
  "The following CPT Code(s) are not selected: 
    Inactive in #64\Active Replacement Found: ##### \ #####; ##### \
#####".
 
If no active replacement found, the selected CPT is not passed to 
PCE and is displayed in the following message:
          "The following CPT Code(s) are not selected: 
            CPT(s) inactive in #64: #####,#####".  
 
3.  Currently:  Inactive CPTs found in the WKLD CODE file (#64) 
can be entered and passed to PCE for non-AP accessions.  When an inactive
CPT is selected and passed to PCE, the entire order is marked invalid for
workload and no workload is passed, and a mail message is generated at the
site which states "No lab OOS location defined".
 
Update:  If a CPT is found inactive in file #64, a search will be 
made for another active replacement CPT linked to the same workload code.
If another active CPT is found, the active CPT replaces the inactive
CPT.  If no active replacement CPT is found, the original CPT is not
passed to PCE, and thus no misleading mail message is generated.
 
4. Currently:  Any subsequent CPT codes entered on an accession 
will replace or overlay the quantity previously passed to PCE.
Example:  CPT 88302 with quantity of 2 entered on day 1; PCE shows
quantity of 2.  On day 2, CPT 88302 with quantity of 1 entered; PCE shows
updated quantity of 1.  It should show 3.
 
Update:  All subsequent CPT code quantities entered for an 
accession will be added to existing quantities stored in PCE.
 
5. Currently:  If a selected CPT is not linked to a workload code 
in the WKLD CODE file (#64), the CPT is passed to PCE, and the message
"Storing in LMIP".  This message incorrectly identifies the CPT as 
having been stored in the WKLD CODE file (#64).
 
Update:  Selected CPT codes that are not linked to a workload code 
in the WKLD CODE file (#64) will not be passed to PCE, and the following
message will display:
          "The following CPT Code(s) are not selected: 
            Not linked to workload in #64: #####, #####".
 
6.  Currently:  If a selected CPT code is linked to multiple workload 
codes, the workload code with the lowest IEN is selected.  This cannot be 
changed; however, the problem has been reduced by increasing the number of 
allowed ES Display Order numbers that can be assigned to a specific 
CPT-workload code combination.  The limit has been increased from 100 to 
1000.  
 
7.  Currently:  When more than one accession is entered for a patient on 
the same date, at the same location, and the specimen collection date/time 
does not contain a unique time, then each accession for this patient will 
have the same encounter/visit number assigned when CPT codes are entered 
and passed to PCE.  
 
Update:  Within Anatomic Pathology (AP) Login, the "Date/time Specimen
taken:" prompt default has been changed from TODAY (date only) to NOW
(date and time).  This helps decrease the chance of having the same
encounter number assigned to more than one accession entered on the same
patient on the same date, at the same location.
 
8. A couple of minor cosmetic updates are included in this patch:
a.  The prompt "Releasing Pathologist:" has been changed to "Provider:" 
since the name entered at this prompt must be an active provider.  
b.  The pathologist or cytotechnologist name, if entered on the accession,
is included in the header information that displays at the time CPT coding 
is entered.
 
The updates described above are displayed in the following screen format.  
This screen format is used in the menu options listed below it:
 
Provider: PROVIDER, ONE//        PRO          PHYSICIAN
 
Select CPT codes:  88302
 
TEST, PATIENT1                        000-99-1234         DOB: Mar 05, 1955
     Collection Date: Jan 06, 2005@11:52
          Acc #: NSP 05 1                                   Loc: 5N
               Specimen: 
     Tissue Specimens: 
               TAIL
     Test(s);  SURGICAL PATH REPORTING/ SURGICAL PATHOLOGY LOG-IN/ 
     Pathologist: PHYSICIAN, ONE
 
                               Selected CPT Codes                           
    
     (1)  88302 LEVEL II - SURGICAL PATHOLOGY, GROSS AND MICROSCOP
          Surgical Pathology Level II  {88518.0000}
 
Menu Options:
       Lab CPT Billing [LRCAPES]
       Verify/release reports, anat path [LRAPR], 
               CPT Coding selection
       Provisional anatomic diagnoses [LRAPAUPAD]
       Autopsy protocol [LRAPAUDAP]
       Autopsy protocol &amp; SNOMED coding [LRAPAUDAB]
       Autopsy protocol &amp; ICD9CM coding [LRAPAUDAA]
       FS/Gross/Micro/Dx [LRAPDGM]
       FS/Gross/Micro/Dx/SNOMED Coding [LRAPDGS]
       FS/Gross/Micro/Dx/ICD9CM Coding [LRAPDGI]
 
9. A couple of general corrections are included in this patch.  For
certain $D statements which read, "'$DATA()#2", the modulo is incorrectly 
applied to the result of the "'$DATA()".  Instead, the NOT operator "'" 
should be applied to the evaluation of "$DATA()#2" to correctly read,
"'($DATA()#2)".  The following statements have been corrected:
 
a. In SETWKL+13^LRCAPES1, Q:'$D(^LAM(LRP,0))#2, has been changed to
   Q:'($D(^LAM(LRP,0))#2).
b. In EN5+4^LRCAPPH1, Q:'$D(^LRO(69,LRCDT,1,LRSN,2,LRTST,0))#2, has been
   changed to Q:'($D(^LRO(69,LRCDT,1,LRSN,2,LRTST,0))#2).
 
Data Dictionary Changes
=======================
VistA Laboratory AP CPT Code Corrections Patch LR*5.2*308 software release
contains the following data dictionary changes:
 
WKLD CODE file (#64)
------------------------
WKLD CODE file (#64), ES DISPLAY ORDER field (#26) has been modified 
to increase the quantity allowed from 100 to 1000.
 
======================
Associated E3Rs - None
---------------
 
Associated NOISs -
----------------  
 
 
CPH-0103-41645 / HD0000000069980
FGH-0103-31657 / HD0000000069982
MIN-0103-41656 / HD0000000069981
BHS-0103-12034 / HD0000000069988
UNY-0103-11749 / HD0000000069985
WBP-0103-21809 / HD0000000069986
SAM-0603-21566 / HD0000000070159
JAC-1103-70158 / HD0000000070386
ALT-0304-20022 / HD0000000070580
SBY-0304-31852 / HD0000000070614
BIL-0304-31578 / HD0000000070606
WRJ-0404-10360 / HD0000000070654
HVH-0404-11404 / HD0000000070684
CPH-0804-41938 / HD0000000070965
MIN-1204-40394 / HD0000000071122
HEH-0304-41954 / HD0000000070618
 
=====================
Test Sites:
===========
 
Boston HCS - VMS/CACHE (large integrated site)
Durham VAMC - VMS/CACHE (large site)
Iowa City VAMC - VMS/CACHE (large integrated site)
Long Beach VAMC - VMS/CACHE (large site)
 
================
Routine Summary:
================
 
The following list of the routine(s) included in this patch.  The
second line of each of these routine(s) will look like:
 
&lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27 1994
 
               CHECK^XTSUMBLD results
 
Routine      Before    After       Patch
Name         Patch     Patch       List
 
LR308       N/A       3577348    **308**  (Deleted by KIDS)
LRAPLG1     5113296   5107203    **72,121,248,308**
LRAPUTL     9752029   9713709    **259,308**
LRCAPES    13104305  13495108    **274,259,349,308**
LRCAPES1    8132160  13575476    **274,308**
LRCAPPH1   13504461  14078305    **127,136,138,158,263,264,274,291,359,308**
 
 
Software Retrieval
------------------
VistA Laboratory Anatomic Pathology Current Procedural Terminology 
Corrections Patch LR*5.2*308 software is distributed by Packman.
 
Documentation Retrieval
-----------------------
VistA Laboratory Anatomic Pathology (AP) Current Procedural 
Terminology(CPT)Corrections Patch LR*5.2*308 software User Guide
is available at the following Office of Information Field Offices (OIFOs) 
ANONYMOUS.SOFTWARE directories: 
 
OI Field Office    FTP Address                 Directory
---------------    -----------                 ---------
ALBANY             ftp.fo-albany.domain.ext    [ANONYMOUS.SOFTWARE]
HINES              ftp.fo-hines.domain.ext     [ANONYMOUS.SOFTWARE]
SALT LAKE CITY     ftp.fo-slc.domain.ext       [ANONYMOUS.SOFTWARE]
 
 
Documentation Retrieval Formats
-------------------------------
VistA Laboratory Anatomic Pathology (AP) Current Procedural 
Terminology(CPT)Corrections Patch LR*5.2*308 User Guide files are 
exported in the following retrieval formats:
 
File Name           Contents                          Retrieval Formats
---------           --------                          -----------------
LAB_52_308_UG.doc    VistA Laboratory Anatomic Pathology
                     (AP) Current Procedural Terminology
                     (CPT)Corrections Patch LR*5.2*308
                     User Guide                            BINARY
 
LAB_52_308_UG.pdf   VistA Laboratory Anatomic Pathology
                     (AP) Current Procedural Terminology
                     (CPT)Corrections Patch LR*5.2*308
                     User Guide                            BINARY
 
 
VistA Website Locations:
-----------------------
VistA Laboratory Anatomic Pathology (AP) Current Procedural 
Terminology(CPT)Corrections Patch LR*5.2*308 User Guide is accessible in 
MS Word (.doc) and Portable Document Format (.pdf) at the following 
VistA locations:
 
Laboratory Version 5.2 Home Page
--------------------------------
http://vista.domain.ext/ClinicalSpecialties/lab/
 
VistA Documentation Library (VDL)
---------------------------------
www.domain.ext/vdl/
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;362 SEQ #284</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-04 23:58:10</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses a number of minor issues in the Lab Package.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;317 SEQ #285</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-05 00:30:50</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Description:
===========
 
               ************************************
*************************************************************************
SPECIAL NOTE:  
Installation of this patch MUST be coordinated with Laboratory personnel.  
The Pre-Installation instructions within the Installation Section below, 
MUST be followed and completed before installation can begin.
*************************************************************************
               ************************************
 
BLOOD BANK CLEARANCE
====================
 
VISTA Laboratory Package patch LR*5.2*317 contains changes to 
software controlled by VHA DIRECTIVE 2004-053, titled VISTA BLOOD 
BANK SOFTWARE. Changes include: 
File     Sub-file     Field   Field Name                      Action
----     --------     -----   ----------                      ------
63       63.207       .03     RELEASE SUPP REPORT MODIFIED    New Field
63       63.324       .03     RELEASE SUPP REPORT MODIFIED    New Field
63       63.817       .03     RELEASE SUPP REPORT MODIFIED    New Field
63       63.907       .03     RELEASE SUPP REPORT MODIFIED    New Field
 
All of the above changes have been reviewed by the VISTA Blood Bank 
Developer and found to have no impact on the VISTA BLOOD BANK 
SOFTWARE control functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*317 have no effect on 
Blood Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*317 does 
not alter or modify any software design safeguards or safety 
critical elements functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to 0 
routines and 1 file identified in Veterans Health Administration 
(VHA) Directive 2004-053, group B listing. The changes have no 
effect on Blood Bank functionality or medical device control 
functions. There is no adverse potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: 
There are no validation requirements associated with this patch.
 
MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL FUNCTIONS:
There are no test case scenarios associated with this patch.
 
=================
 
VistA Laboratory Anatomic Pathology (AP) Modifications/Enhancements patch 
LR*5.2*317 addresses two patient safety issues (PSI) reported in PSI-04-025 
that arose from the release and implementation of the VistA Laboratory 
Anatomic Pathology Electronic Signature Patch LR*5.2*259.
 
The patient safety issues are described as follows:
 
1. Users that should not be allowed to modify an Anatomic Pathology SF515 or 
Autopsy Protocol released report are given access to the Modify released report 
[LRAPMRL] option in order to allow the user to add supplementary reports.
 
2. The original Anatomic Pathology SF515 or Autopsy Protocol report is not 
viewable in the Computer Patient Records System (CPRS) during the time a 
supplementary report is underway. Personnel are unable to view the report 
during this time.
 
The VistA Laboratory Anatomic Pathology Electronic Signature Patch 
LR*5.2*259 changed the location and the method by which supplementary 
reports are added. The Modify released report [LRAPMRL] option is used to add 
supplementary reports to the original report. Laboratory personnel allowed to 
add supplementary reports to Anatomic Pathology released reports must have 
access to the Modify released report [LRAPMRL] option. This access opened up 
the potential for errors in which the report could be accidentally modified 
when a supplementary report was added.
 
Patch LR*5.2*317 resolves this problem by removing the supplementary report 
addition functionality from the Modify released reports [LRAPMRL] option and 
placing the functionality back to the Supplementary Report, Anat Path 
[LRAPDSR] option for Cytology, Electron Microscopy, and Surgical Pathology 
released reports and the Autopsy supplementary report [LRAPAUSR] option for 
Autopsy released reports.
 
Another concern had to do with the addition of a supplementary report to a 
released Anatomic Pathology report, which unreleased the original report and 
made it unavailable for viewing in Computerized Patient Record System (CPRS).
The time span in which the original report remained unavailable for viewing by 
the Providers could be crucial. It was considered a major patient safety issue 
if a doctor, who was with a patient, was not able to view the report at that 
time.
 
Patch LR*5.2*317 resolves this problem by leaving the original report in 
released status during the time a supplementary report is being added. The 
original report remains available for viewing in CPRS during this time.
 
Enhancements to LAB DATA file (#63):
-------------
A new field, RELEASE SUPP REPORT MODIFIED (#.03), has been added to the 
SUPPLEMENTARY REPORT SUB-FILE for the anatomic pathology sections 
Cytopathology, Electron Microscopy, and Surgical Pathology; and to 
the AUTOPSY SUPPLEMENTARY REPORT for Autopsy.  The field is a flag, when 
set to '1', indicates a released supplementary report is being modified, 
and has not yet been released.
 
63.207,.03    RELEASE SUPP REPORT MODIFIED 0;3 SET
 
                                 '1' FOR YES; 
                                 '0' FOR NO; 
              LAST EDITED:      SEP 08, 2004 
              DESCRIPTION:      This flag will be set to '1' when a
                  released supplementary report is modified. It is
                  removed when the modified supplementary report is
                  released.  
 
63.817,.03    RELEASE SUPP REPORT MODIFIED 0;3 SET
 
                                 '1' FOR YES; 
                                 '0' FOR NO; 
               LAST EDITED:      SEP 08, 2004 
               DESCRIPTION:      This flag will be set to '1' when a 
                released supplementary report is modified. It is 
                removed when the modified supplementary report is
                released.  
 
63.907,.03    RELEASE SUPP REPORT MODIFIED 0;3 SET
 
                                 '1' FOR YES; 
                                 '0' FOR NO; 
               LAST EDITED:      SEP 08, 2004 
               DESCRIPTION:      This flag will be set to '1' when a 
                 released supplementary report is modified.  It is
                 removed when the modified supplementary report is
                 released.  
 
63.324,.03    RELEASE SUPP REPORT MODIFIED 0;3 SET
 
                                 '1' FOR YES; 
                                 '0' FOR NO; 
               LAST EDITED:      SEP 08, 2004 
               DESCRIPTION:      This flag will be set to '1' when a 
                released supplementary report is modified. It is        
                removed when the modified supplementary report is
                released. 
 
Modifications:
--------------
The following options have been modified. Please refer to the User 
Guide distributed with this patch for detailed information and examples.
 
Supplementary Report, Anat Path [LRAPDSR] option
Supplementary report release, anat path [LRAPRS] option
Autopsy supplementary report [LRAPAUSR] option
Modify released pathology report [LRAPMRL] option 
Print all reports on queue [LRAP PRINT ALL ON QUEUE] option
Print single report only [LRAP PRINT SINGLE] option
Print final path reports by accession # [LRAPFICH] option
 
 
This patch addresses the following E3R's:
========================================
N/A
 
 
This patch addresses the following NOIS / Remedy Ticket:
=======================================================
BRX-0704-11083 / HD0000000070862
CPH-0904-40215 / HD0000000070983
MIA-0604-31201 / HD0000000070788
PRO-0604-10213 / HD0000000070762
SLC-0604-50484 / HD0000000070766
SLC-0604-50594 / HD0000000070769
SLC-0604-51082 / H00000000070778
 
 
Overview of NOIS / Remedy Tickets:
=================================
 
BRX-0704-11083 / HD0000000070862
Problem:  Pathologists are complaining about changes in procedure done
by the Electronic Signature patch. When a supplemental report is added 
the system un-verifies the parent report. This unverified report becomes 
available for other Pathologists and transcriptionists to edit it. Before 
once a report was verified it could not be changed. The Chief Pathologist 
is very concerned with the legal and clinical ramifications of this change.
 
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
CPH-0904-40215 / HD0000000070983 - 
Problem:  Our pathologists are concerned that post patch 259, addition of 
supplemental reports (additional information) must be added under MM Modify 
option, thus un-releasing the original report, and necessitating the 
re-release of both original and supplemental reports.  They feel modified 
reports should be reserved for edition/correction of previous released 
reports. They feel this is a patient safety issue.  
The post 259 options [LRAPDSR] and [LRAPDSS] are redundant when they are 
operable only with un-released reports.  
 
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
MIA-0604-31201 / HD0000000070788 - 
Problem:  According to our lab folks in Anatomic path they used to go in to 
an option called Supplementary Report, Anat Path to make a correction to 
the original after it is released.  They don't want to go under the edit 
modify to reopen the report any ideas on how they can go into the 
supplementary to attach to the original accession report or something like 
that.  
 
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
PRO-0604-10213 / HD0000000070762 - 
Problem:  Our LAB Service Chief does not want IRM to install patch 
LR*5.2*259 for the following  Patient Safety, integrity, and additional 
keystrokes reasons.  For example the Surgical Pathology Reports, the new 
patch, takes the Supplemental report feature away (ie. For a special 
stain), it's replaced with a modified report feature, which allows you to 
make changes to the original report in addition to adding.  Also, while  
using the  modify report feature, while your in it, it makes the original 
report unavailable for the Providers to view.  He feels that this is a 
Major Patient Safety issue, that if a Doctor is with the patient, he won't 
be able to view the report.  
  
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
SLC-0604-50484 / HD0000000070766 - 
Problem:  I've just reviewed the NOIS MEM-0504-71296, and we are struggling 
with the same issues of supplementary reports that they are. (Post install 
of patch LR*5.2*259).  We currently do not have the electronic signature 
turned on.  The concern is, that once a report is unreleased, the 
previously released portion of the report is not viewable on CPRS, and the 
way we operate here is that the secretaries transcribe the report, and the 
pathologist signs them sometime later.  We have only had the patch 
installed for a couple of days, and the path lab has already received calls 
that reports have "disappeared" on CPRS ... are there any suggestions for a 
process change that could help with this?  
 
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
SLC-0604-50594 / HD0000000070769 - 
Problem:  Post installation of LA*5.2*259 we have encountered the usual 
problems with any software install that changes the daily routine of 
workflow, but there is a problem that we feel does affect patient care .  
We now have to "unrelease" a report prior to adding a supplementary report, 
the secretaries then transcribe the supplemental report, then the 
pathologists must review/correct and sign it prior to the secretaries 
re-releasing the report.  This leaves a window of several hours during 
which the original report is not viewable on the computer, we have already 
received calls about "disappearing" path reports.  Our pathologists feel 
that a supplemental report should truly be regarded as an addendum to the 
original report, and should not make the original report unviewable while 
the supplemental report is being processed.    
 
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
SLC-0604-51082 / H00000000070778 -
Problem:  We have found a problem with the electronic signature patch.  Our 
transcriptionist mistakenly selected the field to add a date to the 
supplementary report field (thru edit/modify), but didn't add text to the 
free text field.  He was unable to sign a supplementary report (the 
computer says it doesn't exist), but when he tries to release the original 
report, it says that the supplementary needs to be released first.  The lab 
figured out a way to release this, but it is an issue.  
 
Resolution: The resolution of this issue is contained in the section 
above that describes the resolution to patient safety issues #1 and #2.
 
 
TEST SITES
==========
Ann Arbor VAMC  - CACHE/VMS, large site
Boston HCS      - CACHE/VMS, large integrated site
Long Beach VAMC - CACHE/VMS, large site
Providence VAMC - CACHE/VMS, medium site
Salem VAMC      - CACHE/VMS, medium site
 
ROUTINE SUMMARY:
================
The following is a list of the routines included  in this patch.  
The second line of each of these routines look like:
 
   &lt;tab&gt; ;;5.2;LAB SERVICE;**&lt;patch list&gt;;Sep 27, 1994
 
Using old logic:
 
                       CHECK^XTSUMBLD results
   Routine        Before     After        
   Name           Patch      Patch                Patch List
   -----------    --------   ---------    ----------------------------
   LR317            N/A       6221288     **317** (DELETED BY KIDS)
   LR7OSAP        16576063   17166196     **121,187,230,256,259,317**
   LR7OSAP1        8012437    8222916     **121,227,230,259,317**
   LR7OSAP2       17315095   18146154     **230,256,259,317**
   LRAPAUSR        7980343    8097532     **1,173,248,259,317**
   LRAPBR1         8346961    8691424     **259,317**
   LRAPBR4         5636439    5950657     **259,317**
   LRAPD1          5673315    5050395     **41,91,248,259,317**
   LRAPDA         11977101   13331988     **72,73,91,121,248,259,295,317**
   LRAPDSR         4820936    5708731     **248,259,295,317**
   LRAPMRL         8314291    8358357     **259,295,317**
   LRAPMRL1        4140484    5097223     **259,317**
   LRAPR          12791716   12536700     **72,248,259,317**
   LRAPR1           N/A       5253992     **317**
   LRAPRES        10849835   10161024     **259,295,317**
   LRAPV           3996189    4248185     **72,201,259,317**
   LRSPRPT        12082607   12449414     **1,72,248,259,317**
 
 
Using new logic:
                       CHECK1^XTSUMBLD results
   Routine        Before     After        
   Name           Patch      Patch                Patch List
   -----------    --------   ---------    ----------------------------
   LR317            N/A       18182916     **317** (DELETED BY KIDS)
   LR7OSAP        34114559    37919526     **121,187,230,256,259,317**
   LR7OSAP1       24974232    26109314     **121,227,230,259,317**
   LR7OSAP2       52834321    59162352     **230,256,259,317**
   LRAPAUSR       34065623    34793694     **1,173,248,259,317**
   LRAPBR1        54673575    58834636     **259,317**
   LRAPBR4        30127062    32957954     **259,317**
   LRAPD1         24077474    22198195     **41,91,248,259,317**
   LRAPDA         64317056    76606340  **72,73,91,121,248,259,295,317**
   LRAPDSR        17788838    25438900     **248,259,295,317**
   LRAPMRL        66524711    21952067     **259,295,317**
   LRAPMRL1       15484610    21952067     **259,317**
   LRAPR          89817361    84430863     **72,248,259,317**
   LRAPR1           N/A       19317428     **317**
   LRAPRES       103360947    94733481     **259,295,317**
   LRAPV         13932043     15077938     **72,201,259,317**
   LRSPRPT       88845330     92562557     **1,72,248,259,317**
 
   NOTE:  LR317 will be deleted after successful patch installation.
 
 
SOFTWARE RETRIEVAL:
===================
  
Software Retrieval
------------------
VistA Laboratory Anatomic Pathology Modifications/Enhancements 
to Address PSI-04-025 Patch LR*5.2*317 software is distributed by 
Packman.
 
Documentation Retrieval
-----------------------
VistA Laboratory Anatomic Pathology (AP) Modifications/Enhancements 
to Address PSI-04-025 Patch LR*5.2*317 User Guide is available at the 
following Office of Information Field Offices (OIFOs) ANONYMOUS.SOFTWARE 
directories:
 
OI Field Office    FTP Address                 Directory
---------------    -----------                 ---------
ALBANY             ftp.fo-albany.domain.ext    [ANONYMOUS.SOFTWARE]
HINES              ftp.fo-hines.domain.ext     [ANONYMOUS.SOFTWARE]
SALT LAKE CITY     ftp.fo-slc.domain.ext       [ANONYMOUS.SOFTWARE]
 
 
Documentation Retrieval Formats
-------------------------------
VistA Laboratory Anatomic Pathology Supplementary Report Enhancements 
Patch LR*5.2*317 User Guide files are exported in the following retrieval 
formats:
 
File Name           Contents                        Retrieval Formats
---------           --------                        -----------------
LAB_52_317_UG.doc   VistA Laboratory Anatomic Pathology
                     (AP) Modifications/Enhancements 
                     to Address PSI-04-025 Patch 
                     LR*5.2*317 User Guide                   BINARY
 
 LAB_52_317_UG.pdf   VistA Laboratory Anatomic Pathology
                     (AP) Modifications/Enhancements
                      to Address PSI-04-025 Patch
                      LR*5.2*317 User Guide                  BINARY
 
VistA Website Locations:
-----------------------
VistA Laboratory Anatomic Pathology (AP) Modifications/Enhancements 
to Address PSI-04-025 Patch LR*5.2*317 User Guide is accessible in 
MS Word (.doc) and Portable Document Format (.pdf) at the following 
VistA locations:
 
Laboratory Version 5.2 Home Page
--------------------------------
http://vista.domain.ext/ClinicalSpecialties/lab/
 
VistA Documentation Library (VDL)
---------------------------------
www.domain.ext/vdl/
 
 
INSTALLATION INSTRUCTIONS
=========================
This patch can be installed with users on the system.  However, it is 
recommended that installation occur when there is no Anatomic Pathology
activity or activity is at a minimum.  This will prevent 'Cannot return to 
source routine' errors.  The Anatomic Pathology menu will be disabled 
automatically by this patch and re-enabled after installation.
 
Install Time - less than 5 minutes.
 
PRE-INSTALLATION INSTRUCTIONS
=============================
 
***************************************************************************
*** IT IS VERY IMPORTANT THAT YOU FOLLOW THE PRE-INSTALLATION           ***
*** INSTRUCTIONS BEFORE INSTALLING THE PATCH.                           ***
***                                                                     ***
*** All outstanding (unreleased) supplementary reports from July 23,    *** 
*** 2003, the date LR*5.2*259 Anatomic Pathology Electronic Signature   ***
*** patch was first installed in a production account, until the present***
*** MUST be released before installing this patch.  If there are        ***
*** unverified supplementary reports, THE PATCH WILL NOT INSTALL.       *** 
***                                                                     ***
*** The appropriate Laboratory personnel should check for unverified    ***
*** supplementary reports and make sure all are reviewed and released   ***
*** before proceeding with this installation.  The following option     ***
*** can be used to check for outstanding unreleased supplementary       ***
*** reports:  List of unverified pathology reports [LRAPV] option.      ***
*** Selection #2 will create a listing of unverified supplementary      ***
*** reports.                                                            ***
**************************************************************************
**************************************************************************
 
1.     LOAD TRANSPORT GLOBAL
       ---------------------------------------
       Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK   MESSAGE PackMan option.
 
2.     START UP KIDS
       Start up the Kernel Installation and distribution System 
       Menu [XPD MAIN]:
               Edits and Distribution ...
                        Utilities ...
                        Installation ...       
       Select Kernel Installation &amp; Distribution System Option:  INStallation
                                                                 ----
               1      Load a Distribution
               2      Verify Checksums in Transport Global
               3      Print Transport Global
               4      Compare Transport Global to Current System
               5      Backup a Transport Global
               6      Install Package(s)
                      Restart Install of Package(s)
                      Unload a Distribution
               DD     DD, 2nd Line Comparison
       
       Select Installation Option:                 
 
 
3.     Select Installation Option:
       -------------------------------
       NOTE:  The following are OPTIONAL - (When prompted for the 
       INSTALL NAME, enter LR*5.2*317):
       a.  Backup a Transport Global - This option will create a 
           backup message of any routines exported with this patch. 
          It will not backup any other changes such as DD's or templates.
       b.  Compare Transport Global to Current System - This option 
           will allow you to view all changes that will be made when this 
          patch is installed. It compares all components of this patch 
          (routines, DD's, templates, etc.).
       c.  Verify Checksums in Transport Global - This option will  
           allow you to ensure the integrity of the routines that are in 
           the transport global.
     
4.     Select Installation Option:  Install Package(s) 
                                    ------------------
       **This is the step to start the installation of this KIDS patch: 
   
       a.  Choose the Install Package(s) option to start the patch install.
          (When prompted for the INSTALL NAME, enter LR*5.2*317.)
       b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
           YES//' answer NO (unless otherwise indicated)
       c.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
           and Protocols? YES//' answer NO (unless otherwise indicated)
                 
5.   If you have any unreleased supplementary reports from July 23, 2003
       until the present, the install will abort.  To print the unreleased
       supplementary reports, you can print the install file.
       Here's an example:
 
Select Kernel Installation &amp; Distribution System Option: utilities
 
Select Utilities Option: install File Print
Select INSTALL NAME: lr*5.2*317   Loaded from Distribution  8/25/06@14:37:36       
 
DEVICE: HOME// ;;1000  UCX/TELNET
 
 
PACKAGE: LR*5.2*317     Aug 25, 2006 2:39 pm                         PAGE 1
                                             COMPLETED            ELAPSED
---------------------------------------------------------------------------
INSTALLED BY: IRM,PERSON
NATIONAL PACKAGE: LAB SERVICE
 
INSTALL STARTED: 
 
ROUTINES:                                                        
 
PRE-INIT CHECK POINTS:
XPD PREINSTALL STARTED                                           
XPD PREINSTALL COMPLETED                                         
 
FILES:
LAB DATA                                                         
 
POST-INIT CHECK POINTS:
XPD POSTINSTALL STARTED                                          
XPD POSTINSTALL COMPLETED                                        
 
MESSAGES:
 
           Sending transport global loaded alert to mail group G.LMI 
            
 
Unreleased supplemental report(s) from July 23,2003 until present- must 
be released before install.
 
 
                     Name: TEST,PATIENT  Accession: NSP 04 2 
                      
 
                    --- Install Environment Check FAILED 
---                    
 
LR*5.2*317 Build will not be installed
               Aug 25, 2006@14:38:55
 
 
Select Utilities Option: 
         
 
**NOTE: Routine LR317 will be deleted after successful patch installation.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;369 SEQ #286</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-05 00:38:07</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses several issues in the Lab Service
package.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;331 SEQ #287</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-05 00:45:45</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Blood Bank Clearance
====================
VISTA Laboratory Package patch LR*5.2*331 contains changes to software
controlled by VHA DIRECTIVE 2004-058, titled VISTA BLOOD BANK SOFTWARE.
Changes include: 
 
  The patch will remove the "AD" cross-reference from the ACCESSION
  field (#15) in the ACCESSION NUMBER sub-file (#68.02) in the
  ACCESSION file (#68).
  
  The IN COMMON ACCESSION field (#15.1) is added to the ACCESSION
  NUMBER sub-file (#68.02) of the ACCESSION file (#68).
 
  STANDARD DATA DICTIONARY #68.02 -- ACCESSION NUMBER SUB-FILE
  STORED IN ^LRO(68,D0,1,D1,1,
  
  DATA        NAME                  GLOBAL        DATA
  ELEMENT     TITLE                 LOCATION      TYPE
  -----------------------------------------------------------------------
  
  68.02,15    ACCESSION              .2;1 FREE TEXT
  
             PRINTABLE ACCESSION
             INPUT TRANSFORM:  K:X[""""!($A(X)=45) X I $D(X) K:$L(X)&gt;15!
                               ($L(X)&lt;7) X
             LAST EDITED:      MAR 03, 2005
             HELP-PROMPT:      ANSWER MUST BE ACCESSION, e.g., CH 0428 125
             DESCRIPTION:      The printable form of the Accession is
                                 stored here.
  
  
  68.02,15.1  IN COMMON ACCESSION    AD;1 FREE TEXT
  
             INPUT TRANSFORM:  K:$L(X)&gt;15!($L(X)&lt;7) X
             LAST EDITED:      MAR 03, 2005
             HELP-PROMPT:      Answer must be 7-15 characters in length
             DESCRIPTION:      When this accession area is 'in common'
                               with another accession area the printable
                               form of the 'in common' accession is stored
                               here.
  
  The LOG field (#.001) in the ACCESSION NUMBER sub-file (#68.02) of
  the ACCESSION file (#68) is modified to increase the upper limit
  of accession numbers from 9999 to 999999.
  
     STANDARD DATA DICTIONARY #68.02 -- ACCESSION NUMBER SUB-FILE
     STORED IN ^LRO(68,D0,1,D1,1,
  
     DATA         NAME                  GLOBAL        DATA
     ELEMENT      TITLE                 LOCATION      TYPE
     --------------------------------------------------------------------
  
     68.02,.001   LOG                                 NUMBER
  
          INPUT TRANSFORM: K:+X'=X!(X&gt;999999)!(X&lt;1)!(X?.E1"."1.N) X
          LAST EDITED:     MAR 14, 2005
          HELP-PROMPT:     Type a number between 1 and 999999, 0 Decimal
                           Digits
          DESCRIPTION:     The numeric part of the accession.
 
All of the above changes have been reviewed by the VISTA Blood Bank
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE
control functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*331 have no effect on Blood
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*331 does not
alter or modify any software design safeguards or safety critical elements
functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to 0 routines and 1
file identified in Veterans Health Administration (VHA) Directive 2004-058,
group B listing. The changes have no effect on Blood Bank functionality or
medical device control functions. There is no adverse potential to sites.
 
 
VALIDATION REQUIREMENTS BY OPTION: 
There are no validation requirements for this patch.
 
MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL FUNCTIONS:
There are no test case scenarios for this patch.
============================================================================
 
Patch Description:
==================
This patch addresses 3 issues in the Laboratory package pertaining to 
accessioning.
 
 
ASSOCIATED REMEDY TICKETS:
==========================
1.  HD0000000071160 - LOCKED ACCESSION AREA
 
2.  HD0000000093193 - &lt;UNDEFINED&gt;WN1A^LRWLST1
 
3.  HD0000000102626 - Error -  &lt;SUBSCRIPT&gt;GRID+21^LR7OGMG
    Duplicates:  HD0000000102632
                 HD0000000103751
                 HD0000000112457
                 HD0000000122951
                 HD0000000131510
                 HD0000000138475
                 HD0000000138900
                 HD0000000142655
                 HD0000000154545
                 HD0000000155087
                 HD0000000160742
                 HD0000000170863
                 HD0000000179768
                 HD0000000180175
 
 
PARTICIPATING TEST SITES:
=========================
ASHEVILLE, NC 
CENTRAL TEXAS HCS 
CLEVELAND, OH 
MARYLAND HCS
MILWAUKEE, WI 
NORTH CHICAGO, IL 
SALISBURY, NC 
VA GREATER LOS ANGELES HCS
 
 
REMEDY OVERVIEW:
================
 
1.1. HD0000000071160:
---------------------
A user reported encountering "FileMan DBS call failed during accessioning
in routine LRWLST1" MailMan bulletins during accessioning. The generation
of this bulletin occurs when Laboratory was making a duplicate FileMan DBS
call during accessioning that involved an accession area being 'in common'
with another accession area.  This duplicate call would occur when the
accession area has a lower internal entry number in ACCESSION file (#68)
than the accession area it is 'in common' with.
 
 
1.2. HD0000000071160:
----------------------
During internal software review, the following issues were identified:
 
  a. It was determined that the "AD" CROSS-REFERENCE on ACCESSION field
     (#15) in ACCESSION NUMBER sub-file (#68.02) of ACCESSION file (#68)
     was not setting the reference to the 'in common' accession correctly
     on the accession. The patch will remove this cross-reference from
     the data dictionary. See 2b. for storing 'in common' accession
     reference.
 
  b. Field IN COMMON ACCESSION (#15.1) in ACCESSION NUMBER sub-file
     (#68.02) of ACCESSION file (#68) is added to the data dictionary
     to store the reference to the 'in common' accession when this
     relationship exists.  Routine LRWLST11 will update this field when
     appropriate.
 
   STANDARD DATA DICTIONARY #68.02 -- ACCESSION NUMBER SUB-FILE
   STORED IN ^LRO(68,D0,1,D1,1,
 
   DATA        NAME                  GLOBAL        DATA
   ELEMENT     TITLE                 LOCATION      TYPE
   -----------------------------------------------------------------------
 
   68.02,15    ACCESSION              .2;1 FREE TEXT
 
              PRINTABLE ACCESSION
              INPUT TRANSFORM:  K:X[""""!($A(X)=45) X I $D(X) K:$L(X)&gt;15!
                                ($L(X)&lt;7) X
              LAST EDITED:      MAR 03, 2005
              HELP-PROMPT:      ANSWER MUST BE ACCESSION, e.g., CH 0428 125
              DESCRIPTION:      The printable form of the Accession is
                                stored here.
 
 
   68.02,15.1  IN COMMON ACCESSION    AD;1 FREE TEXT
 
              INPUT TRANSFORM:  K:$L(X)&gt;15!($L(X)&lt;7) X
              LAST EDITED:      MAR 03, 2005
              HELP-PROMPT:      Answer must be 7-15 characters in length
              DESCRIPTION:      When this accession area is 'in common'
                                with another accession area the printable
                                form of the 'in common' accession is stored
                                here.
 
   c. Field LOG (#.001) in ACCESSION NUMBER sub-file (#68.02) of ACCESSION
      file (#68) is modified to increase the upper limit of accession
      numbers from 9999 to 999999.
 
      STANDARD DATA DICTIONARY #68.02 -- ACCESSION NUMBER SUB-FILE
      STORED IN ^LRO(68,D0,1,D1,1,
 
      DATA         NAME                  GLOBAL        DATA
      ELEMENT      TITLE                 LOCATION      TYPE
      --------------------------------------------------------------------
 
      68.02,.001   LOG                                 NUMBER
 
           INPUT TRANSFORM: K:+X'=X!(X&gt;999999)!(X&lt;1)!(X?.E1"."1.N) X
           LAST EDITED:     MAR 14, 2005
           HELP-PROMPT:     Type a number between 1 and 999999, 0 Decimal
                            Digits
           DESCRIPTION:     The numeric part of the accession.
 
 
   d. The functionality to allow the user to force an accession to a
      specific number could cause a 'stack overflow' error due to how the
      M NEW command was implemented. Coding changes to LRWLST1 will only
      NEW certain variables once.
 
   e. Direct READs in routine LRWLST1 have been replaced with FileMan
      supported DIR reader API calls.
 
 
2. HD0000000093193:
-------------------
A user reported an &lt;UNDEFINED&gt;WN1A^LRWLST1 error when accessioning. This
would occur when attempting to force an accession number for an accession
area that did not have any accessions for the current accession day.
Routine LRWLST1 will now handle displaying a default accession number 1
when there are no existing accessions for the current accession day.
 
 
3. HD0000000102626:
-------------------
A user reported a &lt;SUBSCRIPT&gt;GRID+21^LR7OGMG error when using the CPRS Lab
Reports tab to display recent laboratory results.  This would occur when
there are three or more tests on an accession, at least two of the tests
were performed at different laboratories and a third test had a 'pending'
result and therefore no performing laboratory designated.  The software
was attempting to determine the performing laboratory for the pending
test. Routine LR7OGMG will now ignore tests that do not have a performing
laboratory when constructing the list of performing laboratories
associated with an accession's test results.
     
  
INSTALLATION INSTRUCTIONS
-------------------------
  The install time for this patch is less than 5 minute. This patch
  can be installed when Laboratory users are on the system.
  Suggested time to install: non-peak requirement hours.
 
 
NOTE: Kernel patches must be current on the target system to avoid
      problems loading and/or installing this patch.
 
      Patch installation needs to be coordinated with the Laboratory
      Information Manager (LIM/ADPAC).
 
 
  1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
 
  2.  On the 'Kernel Installation &amp; Distribution System' Menu (KIDS),
      select the 'Installation' menu.
 
  3.  From this menu, you may then elect to use the following options
      (when prompted for the INSTALL NAME, enter LR*5.2*331):
        a. Print Transport Global
        b. Backup a Transport Global
        c. Compare Transport Global to Current System
        d. Verify Checksums in Transport Global
 
      Use the 'Verify Checksum in Transport Global' option and verify that
      all routines have the correct checksums.
 
  4.  Use the 'Install Package(s)' option under the 'Installation' menu
      and select the package 'LR*5.2*331'.
    
      When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
      Install? YES//' choose 'NO'. Responding 'Yes' to the prompt for
      rebuilding menu trees can significantly increase install time.
 
      When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES// choose 'NO'. 
 
      When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', choose 'NO'.
 
     The install will automatically disable the following options:
 
       Accession order then immediately enter data [LR ACC THEN DATA]
       Batch data entry (chem, hem, tox, etc.) [LRSTUF]
       Bypass normal data entry [LRFAST]
       Fast Bypass Data Entry/Verify [LRFASTS]
       Special test accessioning [LRNONCOM]
       Merge Accessions [LRACC MERGE]
       Add tests to a given accession [LRADD TO ACC]
       Add tests to an already existing order number. [LRADD TO ORDER]
       Lab add test(s) to an existing order [LRADDTST]
       Delete entire order or individual tests [LRCENDEL]
       Remove an accession [LRDELOG]
       Referral Patient Multi-purpose Accession [LRLEDI]
       Accessioning, standard (Microbiology) [LRMICROLOGIN]
       Accessioning tests ordered by ward order entry [LROE]
       Lab test order [LROW]
       Fast lab test order (IMMEDIATE COLLECT) [LROW IMMED COLLECT]
       Fast lab test order (ROUTINE) [LROW ROUTINE]
       Fast lab test order (SEND PATIENT) [LROW SEND PAT]
       Fast lab test order (WARD COLLECT) [LROW WARD COL]
       Receipt of routine lab collection from wards [LRPHEXCPT]
       Itemized routine lab collection [LRPHITEM]
       Manually accession QC, Environmental, etc. [LRQCLOG]
       Multipurpose accessioning [LRQUICK]
       Delete test from an accession [LRTSTOUT]
 
 
 Note: Routine LR331 will be deleted after successful patch installation. 
 
  
INSTALLATION EXAMPLE
====================
 
Select Installation Option:
 
Select Kernel Installation &amp; Distribution System Option:  Installation
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME: LR*5.2*331 Loaded from Distribution  Loaded from
Distribution  3/10/05@16:26:40
     =&gt; LR*5.2*331 
 
This Distribution was loaded on Mar 10, 2005@16:26:40 with header of
   LR*5.2*331 
   It consisted of the following Install(s):
     LR*5.2*331
Checking Install for Package LR*5.2*331
Will first run the Environment Check Routine, LR331
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*331
 
Incoming Files:
 
 
   68        ACCESSION  (Partial Definition)
Note:  You already have the 'ACCESSION' File.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
 
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//  TELNET
 
 
 Install Started for LR*5.2*331 :
               Mar 10, 2005@16:27:01
 
Build Distribution Date: Mar 10, 2005
 
 Installing Routines:
               Mar 10, 2005@16:27:01
 
 Running Pre-Install Routine: PRE^LR331
 
                          *** Pre install started ***
 
                   Deleting Field #15 in file #68, ACCESSION
 
              Field will be installed as part of KIDS installation
 
                         *** Pre install completed ***
 
 Installing Data Dictionaries:
               Mar 10, 2005@16:27:01
 
 Installing PACKAGE COMPONENTS:
 
 Installing OPTION
               Mar 10, 2005@16:27:01
 
 Running Post-Install Routine: POST^LR331
 
                          *** Post install started ***
 
                           *** No action required ***
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*331 Installed.
               Mar 10, 2005@16:27:01
 
 Install Message sent #xxxx
 
Install Completed
 
ROUTINE SUMMARY:
================
The following routines are included in this patch.  The second line of
each of these routines now looks like:
 
  &lt;tab&gt; ;;5.2;LAB SERVICE;**[patchlist]**;Sep 27, 1994
 
                 Checksum       Checksum
Routine Name     Before Patch   After Patch    Patch List
------------     ------------   -----------    ------------
LR331             N/A            5261822       331  (Deleted by KIDS)
LR7OGMG          5478031        5490638        187,230,286,290,331
LRWLST1          12664045       11171614       48,65,121,153,261,286,331
LRWLST11         16883055       15996378       121,128,153,202,286,331

</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;368 SEQ #289</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-09-05 01:25:23</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects an improperly formatted FileMan call.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;364 SEQ #290</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-12-12 22:22:27</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a problem with 2 CPRS displays which show a 
collection time that is not correct. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;363 SEQ #291</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-12-12 23:00:23</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a problem whereby a partial AP report is
sent to TIU.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;373 SEQ #292</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2008-02-03 22:33:51</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a general purpose lab patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;377 SEQ #293</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2008-02-03 22:38:47</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch adds a new routine LREGFR2 to support a new constant value of 
175 for the eGFR formula. It details the creation of a new delta check 
EGFR2 to call the new routine and how to edit the existing Creatinine 
record in the LABORATORY TEST file (file # 60) to use the new delta check.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;378 SEQ #294</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2008-05-26 15:14:09</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 
 
This patch corrects a problem with the Labserver reports
whereby the reports are held up because the subject line 
in the MailMan message is too long (greater than 65 characters).
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;375 SEQ #295</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2008-05-26 15:45:40</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch corrects a problem related to "in common" accession
areas when tests with unique accession numbers are involved.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;379 SEQ #296</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2008-05-26 19:37:23</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 
 
This patch corrects a problem whereby a &lt;SUBSCRIPT&gt; error occurs
in routine LA7ADL because of an inability to get a lock for setting
data into file 68 (Accession file) in routine LRWLST1.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;365</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-21 15:49:38</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*365 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*365 does
not alter or modify any software design safeguards or safety critical
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*365 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
made, no specific validation requirements exist as a result of 
installation of this patch.
 
This patch is being distributed in the OR*3*243 CPRS v27 build.
 
VistA Laboratory Anatomic Pathology (AP) Alerts and Clinical Patient 
Record System (CPRS) Report Changes Patch LR*5.2*365 software 
release addresses 7 Patient Safety Issues (PSIs). Individual reports 
are displayed as one continuous scrolling display. A single row of 
the equal (=) sign is used to separate one report from the next. 
Additionally, the text- "Next SURGICAL PATHOLOGY Specimen..." is 
also used to separate reports. However, with multiple reports and 
the use of single dashed lines in each report, it can be difficult 
to distinguish the separation between AP reports. A new API has been 
created (EN^LR7OSAP4) for retrieving a detailed report for an 
individual Anatomic Pathology Specimen. This helps resolve the PSI 
by allowing a package interface, like CPRS, to present each 
accession and related specimens to the user and then display the 
related report for the accession/specimens.
 
Patches OR*3*210 and LR*5.2*311 implemented informational alerts 
generated for AP pathology results. Recipients of VA view alerts for 
Anatomic Pathology complained that clicking on the alert did not 
open up or display the report to them in the same manner as other 
lab alerts are displayed. Once the recipients click on the alert, it 
is gone from view. If they did not make a note as to who the patient 
was, they can not get the alert back. Providers can easily erase the 
alerts without recording the patient's name. A potential malignancy 
report could be missed. Problem was identified from complaints of 
surgeons and oncologists/hematologists. To correct this issue the 
new action alert is provided to display AP reports. The Anatomic 
Pathology informational alerts are now modified into action alerts 
that upon processing will direct the user to the associated report 
in the Clinical Reports section under the Reports tab of the CPRS 
GUI or to a List manager display of the associated report results. 
 
This patch provides action alerts for Anatomic Pathology tests 
including Electron Microscopy (EM), Surgical Pathology (SP), 
Cytology (CY), and Autopsy (AU) results. These action alerts are 
sent automatically to the Ordering Provider, Primary Physician, or 
Primary Care Provider at the time the report is released. If 
requested, alerts may be sent to additional person(s) and 
mail group(s). These additional alerts are also action alerts. This 
functionality is now the same whether electronic signature (ES) is 
turned ON or OFF. Before this patch, additional alerts could not be 
requested with electronic signature (ES) turned OFF.
 
This patch provides the new Send an AP Alert [LRAP ALERT] option 
that is available on the Verify/release menu, anat path [LRAPVR] 
which allows a pathologist to send an action alert to a provider, 
other individuals, or mail group(s) after the report has been 
released. Before this software release if the user did not answer 
YES to the prompt to send an alert after a report was released, an 
alert could not be sent unless the AP report was reopened and 
re-released.
 
1) PSI-05-027 and PSI-07-135 identified a patient safety issue using the
CPRS Graphic User Interface (GUI) Lab Tab, Laboratory Results- Anatomic
Pathology (AP).  The individual reports are displayed as one continuous
scrolling display.  A single row of equal (=) signs is used to separate
one report from the next.  Additionally, the text- "Next SURGICAL
PATHOLOGY Specimen..." is also used to separate reports.  However, with
multiple reports and the use of single dashed lines in each report, it
can be difficult to distinguish the separation between AP reports.
 
Resolution:
A new API has been created (EN^LR7OSAP4) for retrieving a detailed report 
for an individual Anatomic Pathology Specimen.  This resolves the 
PSI by allowing a package interface, like CPRS, to present each specimen 
to the user and then get the report on the specimen.
 
2) PSI-06-068, PSI-07-014, PSI-05-001, PSI-06-134, and PSI-07-031
identified a patient safety issue with the Anatomic Pathology notification
alerts. Patches OR*3*210 and LR*5.2*311 implemented informational alerts
generated for pathology results.  Recipients of VA view alerts for 
Anatomic Pathology have complained that clicking on the alert does not
open up or display the report to them in the same manner as other lab
alerts do (CH subscripted).  Once they click on the alert, it's gone from
view.  If they didn't make a note as to who the patient was, they can't
get it back.  It would be helpful to have an action alert for these
results. Providers can easily erase them without recording the patient's
name.  A potential malignancy report could be missed. Problem was
identified from complaints of surgeons and oncologists/hematologists.
 
Resolution:
The Anatomic Pathology informational alerts are now modified into action
alerts that upon processing will direct the user to the associated report
in the Clinical Reports section under the Reports tab of the CPRS GUI or 
to a List manager display of the associated report results.
 
This patch provides action alerts for Anatomic Pathology reports including
Electron Microscopy (EM), Surgical Pathology (SP), Cytology (CY), and 
Autopsy (AU) reports.  These action alerts are sent automatically to the
ordering provider and the primary care physician (PCP) at the time the
report is released.  If requested, alerts may be sent to additional
person(s).  These additional alerts are also action alerts.  This
functionality is now the same whether electronic signature (ES) is 
turned ON or OFF.  Before this patch, additional alerts could not be
requested with electronic signature (ES) turned OFF.
 
The Supplementary report release, anat path [LRAPRS] option now sends 
action alerts automatically to the ordering provider and the PCP at the
time the supplementary report is released.  If requested, alerts may be
sent to additional person(s).  These additional alerts are also action
alerts.  These alerts are sent whether electronic signature is turned ON
or OFF.
 
 Modified options:
 ================
  NAME: LRAPR
  MENU TEXT: Verify/release reports, anat path
  TYPE: run routine
  LOCK: LRVERIFY
  DESCRIPTION:   This option is used to verify/release pathology reports.
 The user is prompted for the accession number of the report to be
 released.  If electronic signature is not activated, the user is asked if
 the report is to be released, yes or no. If electronic signature has been
 activated, the option is used to electronically sign and store pathology
 reports.  It also allows CPT coding to be performed regardless of the
 release status of the chosen report.  Another feature is the ability to
 print SNOMED codes for the given accession/report.  Action alerts are
 sent automatically to the ordering provider and the primary physician or
 PCP at the time the report is released. If requested, alerts may be sent
 to additional person(s) and/or mail group(s). These additional alerts are
 also action alerts.
  ROUTINE: LRAPR  
 
  NAME: LRAPRS
  MENU TEXT: Supplementary report release, anat path
  TYPE: run routine
  DESCRIPTION:   Releases supplementary reports for Surgical Pathology,
 Cytopathology, Electron Microscopy, or Autopsy.  If all supplementary 
 reports that exist for the chosen accession have already been released or
 if no supplementary reports exist for the accession, the user will be
 notified.  If electronic signature is not activated, the user is asked if
 the report is to be released, yes or no.  If electronic signature has
 been activated, the option is used to sign and store the supplementary
 report. Action alerts are sent automatically to the ordering provider and
 the primary physician or PCP at the time the supplementary reports are
 released.  If requested, alerts may be sent to additional person(s)
 and/or mail group(s). These additional alerts are also action alerts.
 These alerts are sent whether electronic signature is on or off.
  ROUTINE: EN^LRAPR
 
3) This patch provides a new option, Send an AP Alert [LRAP ALERT] 
available on the Verify/release menu, anat path [LRAPVR] menu which
allows a pathologist to send an action alert to a provider or other
person(s) or mail group(s) after the case has been released.  The use
of this option requires the LRVERIFY key.  Before, if they did not answer
YES to the prompt to send an alert after a report was released, an alert
could not be sent unless the case was reopened and re-released.
 
 
 New Option:
 ===========
  NAME: LRAP ALERT                      MENU TEXT: Send an AP Alert
  TYPE: run routine
  LOCK: LRVERIFY
  DESCRIPTION:   This option allows a pathologist to send an action alert 
 to a provider or other person(s) or mail group(s) after the case has been
 released.  
  ROUTINE: LRAPALRT  
 
The following option was modified to include the new option, Send an AP 
Alert [LRAP ALERT] on the Verify/release menu, anat path [LRAPVR] menu.
 
 Modified Option:
 ================
  NAME: LRAPVR
  MENU TEXT: Verify/release menu, anat path
  TYPE: menu
  DESCRIPTION:   Anatomic pathology verify and release option menu.  
 ITEM: LRAPR                             SYNONYM: RR
  DISPLAY ORDER: 1
 ITEM: LRAPV                             SYNONYM: LU
  DISPLAY ORDER: 3
 ITEM: LRAPRS                            SYNONYM: RS
  DISPLAY ORDER: 2
 ITEM: LRCAPES                           SYNONYM: CPT
  DISPLAY ORDER: 4
 ITEM: LRAP ALERT                        SYNONYM: SA
 
 Associated E3R:
 ===============
 19879
 18132
 19040
 19516
 19106
 
 
 
 Associated Remedy:
 ==================
 HD0000000087038
 HD0000000145148
 HD0000000175194
 HD0000000071165
 HD0000000175887
 
 Duplicate Remedy:
 =================
 HD0000000200282
 HD0000000161040
 HD0000000117241
 HD0000000131803
 HD0000000159885
 
 Associated PSI:
 ===============
 PSI-05-027
 PSI-07-135
 PSI-05-001
 PSI-06-134
 PSI-06-068
 PSI-07-031
 PSI-07-014
 
 
 Test Sites:
 ===========
 
Charleston, SC - Large
Cleveland, OH - Large
Heartland-East HCS - Large/Integrated
Hudson Valley HCS - Medium/Integrated
Loma Linda, CA - Large
Northern California HCS - Large
Palo Alto HCS - Large/Integrated
Philadelphia, PA - Large
Puget Sound HCS - Large/Integrated
San Diego, CA - Large
Tampa, FL - Large
 
 
Software Retrieval
==================
VistA Laboratory AP Alerts and CPRS Report Changes Patch LR*5.2*365
software is distributed by PackMan.
 
Documentation Retrieval
=======================
VistA AP Alerts and CPRS Report Changes Patch LR*5.2*365 
User Guide is available at the following Office of Information Field
Offices (OIFOs) ANONYMOUS.SOFTWARE directories:
 
OI Field Office     FTP Address                 Directory
---------------     -----------                 ---------
ALBANY              ftp.fo-albany.domain.ext    [ANONYMOUS.SOFTWARE]
HINES               ftp.fo-hines.domain.ext     [ANONYMOUS.SOFTWARE]
SALT LAKE CITY      ftp.fo-slc.domain.ext       [ANONYMOUS.SOFTWARE]
 
 
Documentation Retrieval Formats
===============================
VistA AP Alerts and CPRS Report Changes Patch LR*5.2*365 User 
Guide files are exported in the following retrieval formats:
 
File Name          Contents                       Retrieval Formats
---------          --------                       -----------------
LAB_LR_52_365_UG.doc AP Alerts and CPRS Report Changes  
                     Patch LR*5.2*365 User Guide      BINARY
 
LAB_LR_52_365_UG.pdf AP Alerts and CPRS Report Changes
                     Patch LR*5.2*365 User Guide      BINARY
 
VistA Website Locations:
========================
VistA AP Alerts and CPRS Report Changes Patch LR*5.2*365 User Guide is
accessible in MS Word (.doc) and Portable Document Format 
(.pdf) at the following VistA locations:
 
Laboratory Version 5.2 Home Page
--------------------------------
http://vista.domain.ext/ClinicalSpecialties/lab/
 
VistA Documentation Library (VDL)
---------------------------------
www.domain.ext/vdl/
 
 
Installation Instructions:
==========================
This patch is being distributed in the OR*3.0*243 CPRS v27 build.
 
This patch may be installed with users on the system; however, it should
be installed at a non-peak time to minimize disruption to the users.
Installation of this patch should take less than 1 minute.
 
1.  Use the INSTALL/CHECK MESSAGE option on the PackMan Menu.  
  
2.  From the Kernel Installation and Distribution System (KIDS) Menu, 
    select the Installation menu.  
 
3.  From the Installation menu, you may select to use the following 
    options (when prompted for INSTALL NAME, enter LR*5.2*365): 
 
    a.  Backup a Transport Global 
    b.  Compare Transport Global to Current System
    c.  Print Transport Global 
    d.  Verify Checksums in Transport Global
 
4.  Use the Install Package(s) option and select the package LR*5.2*365.
 
5.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of 
    Install? YES//', respond YES.  Responding "Yes" to this prompt can
    significantly increase install time.
 
6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
    respond NO.
 
7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//', respond NO.
 
 Note: Routine LR365 will be deleted after successful patch installation.
 
Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.2;LAB SERVICE;**[Patch List]**;Sep 27, 1994
 
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.
 
Routine Name: LR365
    Before:       n/a   After:  B3322693  **365**
Routine Name: LR7OSAP2
    Before: B59162352   After: B59966352  **230,256,259,317,365**
Routine Name: LR7OSAP4
    Before:       n/a   After:  B2801060  **365**
Routine Name: LRAPALRT
    Before:       n/a   After:  B3310137  **365**
Routine Name: LRAPDA
    Before: B76606340   After: B81540087  
**72,73,91,121,248,259,295,317,365**
Routine Name: LRAPR
    Before: B84430863   After: B88035016  **72,248,259,317,365**
Routine Name: LRAPRES1
    Before: B43595923   After: B43214564  **259,336,369,365**
Routine Name: LRWOMEN
    Before:  B1458269   After:  B1173687  **231,248,311,324,365**
 
Routine list of preceding patches: 317, 324, 369
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;384 SEQ #298</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-21 16:02:05</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a general purpose lab patch that addresses 2 issues.
It corrects a formatting issue in the option Search for Criticals
(LRSORC).  It also resolves an issue in LR7OSUM1 where 2 identical
values are compared and they are evaluated as different because
one of the values has a trailing or leading 0.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;381 SEQ #299</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-22 12:39:30</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
 
This patch resolves an &lt;UNDEF&gt; scenario in the Short Accession List.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;372 SEQ #300</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-22 13:04:44</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch LR*5.2*356 made changes to the way Laboratory Test results are 
displayed on the Labs Tab of CPRS GUI.
 
This patch will make further modifications to the reports on the Labs Tab 
and Coversheet of CPRS GUI.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;386 SEQ #301</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-22 13:04:55</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 3 issues.
It corrects a problem with the DSS Lab Results Extract whereby results
that are greater than 10 characters long cause the record to be omitted
from the extract.  It also addresses a merge problem whereby "ghost"
tests are added to a merged patient because of a failure to cleanup
after the previous merge attempt.  The third issue that is addressed 
allows for a result that is supposed to be numeric to be entered with
2 decimal points. This should not be allowed.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;385</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-22 15:23:06</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;388 SEQ #303</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-23 10:57:25</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 3 issues.
It corrects a problem with the inability to enter antibiotic 
concentrations,
addresses a problem in file #64.1 (Workload Data) whereby incorrect data
gets stored in the file when the order date is different from the 
collection
date, and also addresses a problem whereby the draw time designator of
RANDOM is not displayed on the patient report.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;352 SEQ #304</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-23 13:44:16</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;387 SEQ #308</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-06-09 12:02:02</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will allow the Computerized Patient Record System (CPRS) to 
retrieve data for the Cumulative report from the pre-existing VBECS API's.
 
===========================
 
NEW OPTIONS:
 
N/A
 
===========================
 
REQUIRED PATCHES:
 
LR*5.2*292
 
===========================
 
NEW PROTOCOLS:
 
N/A
 
===========================
 
BLOOD BANK CLEARANCE
 
VISTA Laboratory Package patch LR*5.2*387 contains changes to software 
controlled by VHA DIRECTIVE 2004-058, titled VISTA BLOOD BANK SOFTWARE. 
Changes include: 
  Routine: LR7OSBR
  Routine: LR7OSBR1
 
All of the above changes have been reviewed by the VISTA Blood Bank 
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE 
control functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*387 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*387 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to 2 routines and 
0 files identified in Veterans Health Administration (VHA) Directive 
2004-058, group B listing. The changes have no effect on Blood Bank 
functionality or medical device control functions. There is no adverse 
potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: 
There are no validation requirements or options to be validated.
 
MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL FUNCTIONS:
There are no validation scenarios necessary with this patch.
 
===========================
 
ASSOCIATED NOIS:
 
N/A
 
===========================
 
ASSOCIATED E3R:
 
N/A
  
===========================
 
TEST SITES:
CENTRAL TEXAS HCS
HEARTLAND-EAST HCS
NORTH CHICAGO, IL
OKLAHOMA CITY, OK
PHILADELPHIA, PA
SAN DIEGO, CA 
 
 
Installation Sequence 
======================
The files listed below represent the patches that have either been 
released or will be part of the controlled phased release.  The first 5 
patches have been released and already installed.  Patches starting with 
number 6 and are prefixed with an (*)
will need to follow the sequence listed below when your phased 
installation occurs.
 
  1. OR*3.0*243 (released 8/20/08)
  2. XT*7.3*116 (released ????
  3. SR*3.0*168 (released ???
  4. ECX*3*102  (released 8/25/08)
  5. LR*5.2*387 (released ???
  6. *LR*5.2*335
  7. *LR*5.2*367
  8. *VBECS Bundle (consisting of VBECS 1.0 and LR*5.2*325)
  9. *VBEC*1.0*1
 10. *OR*3.0*212
 
Documentation Retrieval:
 
Documentation is available for the entire VBECS package on the 
ANONYMOUS.SOFTWRE directory at one of the following Office of Information 
(OI) Field Offices.  Sites may retrieve documentation in either the 
".PDF" or "DOC" format in one of the following ways:
 
1.      The preferred method is to FTP the files from :
Download.vista.domain.ext
 
2.      Sites may also elect to retrieve documentation directly from a 
specific server as follows:
       Albany                  ftp.fo-albany.domain.ext
       Hines                   ftp.fo-hines.domain.ext
       Salt Lake City          ftp.fo-slc.domain.ext
 
NOTE:  The documentation files listed below will be listed in each of the 
VBECS and LR patches that are part of the VBECS package and associate 
patches, they only need to be downloaded once.
 
File Name                                   Retrieval format:  Binary
===========                                 ==========================
 
Known Defects and Anomalies.doc
Known Defects and Anomalies.pdf
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.doc
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.pdf
VistA Blood Establishment Computer Software (VBECS) Version 1.4.0.0 User 
Guide Version.doc
VistA Blood Establishment Computer Software (VBECS) Version 1.4.0.0 User 
Guide Version.pdf
 
 
Installation Instructions:
==========================
This patch may be loaded with users on the system.  You may wish to 
install it during non-peak hours.  Installation will take less than 2 
minutes.
 
 1.  Use the INSTALL/CHECK MESSAGE option on the Packman menu.  [Note: 
     TEXT PRINT/DISPLAY option in the PackMan menu will display the 
     patch text only.]
 
 2.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
 
 3.  From this menu, you may elect to use the following options (when
     prompted for the INSTALL NAME, enter LR*5.2*387).
 
     (a)  Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
 
     (b)  Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the
          patch is installed.  It compares all components of the patch
          (routines, DDs, templates, etc.).
 
     (c)  Verify Checksums in Transport Global - this option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
 
     (d)  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
 
 4.  Use the Install Package(s) option and select the package LR*5.2*387.
 
 5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
 
 6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;335</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-06-09 15:33:12</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
LR*5.2*335 is being exported as part of the VBECS package release. The 
installation of this patch will be controlled by a phase release. An 
Implementation Manager will be assigned to your site and will contact 
your POC for VBECS and will provide your site with the location of the 
KIDS Host Files prior to your scheduled installation date installation 
Sequence.
 
Select elements of VistA data must be transferred to the VBECS Blood Bank 
system prior to its initial operation. This will preserve patient related 
clinically and historically relevant information. This patch will install 
the software necessary to prepare the data for extraction from the VistA 
database, and extract the data to text files for transfer to the VBECS 
system. Some of the VistA data will be standardized to nationally 
recognized Blood Bank definitions during the extraction. Logical checks 
in the software will ensure data integrity. Once the data on the VistA 
side have been evaluated and converted to the new database, specific 
VistA Blood Bank options will be deactivated (placed out of order) so 
that the legacy database cannot be altered. These options are listed 
below under "The following options are placed out of order." More details 
can be found in the "Blood Bank Pre-Implementation Data Validation, 
Mapping, and Conversion ADPAC Guide" document. The inadvertent or 
unintentional deactivation of these options could cause a disruption in 
Blood Bank operations. 
 
Please read and follow the instructions in the "Blood Bank 
Pre-Implementation Data Validation, Mapping, and Conversion Installation 
and User Guide" before proceeding with the installation.
 
 
BLOOD BANK CLEARANCE: 1/6/2009
VISTA Laboratory Package patch LR*5.2*335 contains changes to software 
controlled by VHA DIRECTIVE 2004-058, titled VISTA BLOOD BANK SOFTWARE.
Changes include:
Access is restricted on the following files:
File #    File Name              Field #     Field Name
=====     =========              =======     ==========
62.55     AGGLUTINATION STRENGTH     .01     NAME
62.55     AGGLUTINATION STRENGTH       1     WILL STAND FOR
63.01     BLOOD BANK                 .01     DATE/TIME SPECIMEN TAKEN
63.01     BLOOD BANK                 .03     DATE REPORT COMPLETED
63.01     BLOOD BANK                 .04     ENTERING PERSON
63.01     BLOOD BANK                 .05     SPECIMEN
63.01     BLOOD BANK                .055     COLLECTION SAMPLE
63.01     BLOOD BANK                 .06     ACCESSION NUMBER
63.01     BLOOD BANK                 .07     PHYSICIAN
63.01     BLOOD BANK                 .08     WARD
63.01     BLOOD BANK                 .09     PHLEBOTOMIST
63.01     BLOOD BANK                  .1     DATE/TIME RECEIVED
63.01     BLOOD BANK                 .12     ACCESSION LINK
63.01     BLOOD BANK                 .99     SPECIMEN COMMENT
63.01     BLOOD BANK                 2.1     DIRECT AHG(POLYSPECIFIC)
63.01     BLOOD BANK                 2.2     DIRECT AHG(5 min incub)
63.01     BLOOD BANK                 2.3     DIRECT AHG CC
63.01     BLOOD BANK                 2.4     ANTI-IgG
63.01     BLOOD BANK                 2.5     ANTI-IgG CC
63.01     BLOOD BANK                 2.6     ANTI-COMPLEMENT
63.01     BLOOD BANK                 2.7     ANTI-COMPLEMENT (5 min incub)
63.01     BLOOD BANK                 2.8     ANTI-COMPLEMENT CC
63.01     BLOOD BANK                 2.9     DIRECT AHG INTERPRETATION
63.01     BLOOD BANK                2.91     DIRECT AHG TEST COMMENT
63.01     BLOOD BANK                   3     ELUATE ANTIBODY
63.01     BLOOD BANK                   4     SCREEN CELL METHOD
63.01     BLOOD BANK                   6     ANTIBODY SCREEN 
INTERPRETATION
63.01     BLOOD BANK                 6.1     RBC ANTIGEN PRESENT
63.01     BLOOD BANK                 6.2     RBC ANTIGEN ABSENT
63.01     BLOOD BANK                 6.3     HLA ANTIGEN PRESENT
63.01     BLOOD BANK                 6.4     HLA ANTIGEN ABSENT
63.01     BLOOD BANK                   7     SERUM ANTIBODY
63.01     BLOOD BANK                   8     ANTIBODY SCREEN COMMENT
63.01     BLOOD BANK                   9     RBC TYPING METHOD
63.01     BLOOD BANK                  10     ABO INTERPRETATION
63.01     BLOOD BANK                10.2     ABO TYPING TECH
63.01     BLOOD BANK                10.3     ABO TESTING COMMENT
63.01     BLOOD BANK                  11     RH  INTERPRETATION
63.01     BLOOD BANK                11.2     RH TYPING TECH
63.01     BLOOD BANK                11.3     RH TESTING COMMENT
63.01     BLOOD BANK                 121     PT CELLS+ANTI D (sal)
63.01     BLOOD BANK                 122     PT CELLS+RH CTRL (sal)
63.01     BLOOD BANK                 123     PT CELLS(sal)+ANTI D(hp IS)
63.01     BLOOD BANK                 124     PT CELLS(ser)+ANTI D(hp IS)
63.01     BLOOD BANK                 125     PT CELLS+ANTI D (hp 37)
63.01     BLOOD BANK                 126     PT CELLS+ANTI D (hp AHG)
63.01     BLOOD BANK                 127     PT CELLS+ANTI D SLIDE (hp)
63.01     BLOOD BANK                 128     PT CELLS(sal)+RH CTRL (hp IS)
63.01     BLOOD BANK                 129     PT CELLS(ser)+RH CTRL(hp IS)
63.01     BLOOD BANK               129.1     PT CELLS+RH CTRL (hp 37)
63.01     BLOOD BANK              129.11     PT CELLS+RH CTRL (hp AHG)
63.01     BLOOD BANK              129.12     PT CELLS+RH CTRL SLIDE (hp)
63.01     BLOOD BANK                 131     INTERPRETATION OF RH TESTING
63.01     BLOOD BANK                 132     RH TEST COMMENT
63.01     BLOOD BANK                 133     PT Cells(sal)+Anti D(mod) IS
63.01     BLOOD BANK                 134     PT Cells(ser)+Anti D(mod) IS
63.01     BLOOD BANK                 135     PT Cells+Anti D(mod) 37
63.01     BLOOD BANK                 136     PT Cells+Anti D(mod) AHG
63.01     BLOOD BANK                 138     PT Cells(sal)+RH Ctrl(sal) IS
63.01     BLOOD BANK                 139     PT Cells(ser)+RH Ctrl(sal) IS
63.01     BLOOD BANK               139.1     PT Cells+RH Ctrl(sal) 37
63.01     BLOOD BANK              139.11     PT Cells+RH Ctrl(sal) AHG
63.01     BLOOD BANK                 141     PT CELLS(ser)+ANTI A IS
63.01     BLOOD BANK                 142     PT CELLS(sal)+ANTI A IS
63.01     BLOOD BANK                 143     PT CELLS+ANTI A SLIDE
63.01     BLOOD BANK                 144     PT CELLS(ser)+ANTI B IS
63.01     BLOOD BANK                 145     PT CELLS(sal)+ANTI B IS
63.01     BLOOD BANK                 146     PT CELLS+ANTI B SLIDE
63.01     BLOOD BANK                 147     PT CELLS(ser)+ANTI A,B IS
63.01     BLOOD BANK                 148     PT CELLS(ser)+ANTI A,B (RT)
63.01     BLOOD BANK                 149     PT CELLS(sal)+ANTI A,B (IS)
63.01     BLOOD BANK               149.1     PT CELLS(sal)+ANTI A,B (RT)
63.01     BLOOD BANK              149.11     PT CELLS+ANTI A,B SLIDE
63.01     BLOOD BANK              149.12     PT SERUM+A1 CELLS
63.01     BLOOD BANK              149.13     PT SERUM+B CELLS
63.01     BLOOD BANK                 151     INTERPRETATION OF ABO TESTING
63.01     BLOOD BANK                 152     ABO TESTING COMMENT
63.01     BLOOD BANK                 153     INTERPRETATION ABO 
GROUP(cell)
63.01     BLOOD BANK                 154     INTERPRETATION ABO GROUP(ser)
63.011    RBC ANTIGEN PRESENT        .01     RBC ANTIGEN PRESENT
63.011    RBC ANTIGEN PRESENT        .02     COMMENT
63.0112   RBC ANTIGEN ABSENT         .01     RBC ANTIGEN ABSENT
63.0112   RBC ANTIGEN ABSENT         .02     COMMENT
63.0114   HLA ANTIGEN ABSENT         .01     HLA ANTIGEN ABSENT
63.0114   HLA ANTIGEN ABSENT         .02     COMMENT
63.012    ELUATE ANTIBODY            .01     ELUATE ANTIBODY
63.013    HLA ANTIGEN PRESENT        .01     HLA ANTIGEN PRESENT
63.013    HLA ANTIGEN PRESENT        .02     COMMENT
63.014    SCREEN CELL METHOD         .01     SCREEN CELL METHOD
63.014    SCREEN CELL METHOD         .02     TECHNIQUE
63.014    SCREEN CELL METHOD           1     SCREEN CELL
63.015    SCREEN CELL                .01     SCREEN CELL
63.015    SCREEN CELL                .02     SOURCE
63.015    SCREEN CELL                .03     INTERPRETATION
63.015    SCREEN CELL                .04     IS
63.015    SCREEN CELL                .05     37 C
63.015    SCREEN CELL                .06     AHG
63.015    SCREEN CELL                .07     CONTROL CELL
63.015    SCREEN CELL                .08     ROOM TEMP
63.015    SCREEN CELL                .09     12-18 C
63.015    SCREEN CELL                 .1     4 C
63.018    RBC TYPING METHOD          .01     RBC TYPING METHOD
63.018    RBC TYPING METHOD          .02     TECHNIQUE
63.018    RBC TYPING METHOD            1     ANTISERUM
63.019    ANTISERUM                  .01     ANTISERUM
63.019    ANTISERUM                  .02     LOT #
63.019    ANTISERUM                  .03     INTERPRETATION
63.019    ANTISERUM                  .04     IS
63.019    ANTISERUM                  .05     37 C
63.019    ANTISERUM                  .06     AHG
63.019    ANTISERUM                  .07     CONTROL CELL
63.019    ANTISERUM                  .08     ROOM TEMP
63.019    ANTISERUM                  .09     12-18 C
63.019    ANTISERUM                   .1     4 C
63.199    SPECIMEN COMMENT           .01     SPECIMEN COMMENT
63.46     SERUM ANTIBODY             .01     SERUM ANTIBODY
63.46     SERUM ANTIBODY             .02     ANTIBODY COMMENT
63.48     ANTIBODY SCREEN COMMENT    .01     ANTIBODY SCREEN COMMENT
65.50     Entire File
66.20     Entire File
66.50     Entire File
66.90     Entire File
 
The following options are placed out of order:
Option Name   Option Text
=======================================================================
LRBLAD        Print data change audits
LRBLAR        Remove data change audits
LRBLDA        Donor collection/deferral edit
LRBLDAWARD    Acknowledge donor award by deletion
LRBLDC        Donor collection/processing
LRBLDCP       Collection disposition/component preparation
LRBLDCU       Cumulative donations and awards
LRBLDCX       Edit donor consent
LRBLDD        Donor demographics
LRBLDDAT      ABO/Rh testing of donor units
LRBLDEDIT     Blood donor group/type edit
LRBLDEF       Permanent deferral/special comments
LRBLDK        Remove ex-donors
LRBLDLG       Donor registration
LRBLDLT       Enter/edit donor letters
LRBLDMV       Move a blood donation
LRBLDO        Old blood donor records
LRBLDPH       Donor phenotyping
LRBLDR        Donor history, physical and consent form
LRBLDRR       Test review/Component labeling/release
LRBLDT        Lab tests(not ABO/Rh) on donor units
LRBLDUC       Donor unit ABO/Rh recheck
LRBLIDN       Disposition -not transfused
LRBLIDR       Disposition -relocation
LRBLILA       Unit CAUTION tag labels
LRBLILR       Log-in regular (invoices)
LRBLILS       Enter blood inventory typing charges
LRBLISH       Shipping invoices for blood components
LRBLIUC       Unit ABO/Rh confirmation
LRBLIUP       Unit phenotyping
LRBLIUR       Units release to stock (cancel) by patient
LRBLIW        Inventory ABO/Rh testing worksheet
LRBLJM        Edit pooled blood product
LRBLJTR       Transfer unit to new division
LRBLPC        Request/select/xmatch blood components
LRBLPCS       Blood component requests
LRBLPED       Pediatric unit preparation
LRBLPEDIT     Patient ABO/Rh edit
LRBLPER       Previous records
LRBLPET       Enter test data
LRBLPH        Patient Medication List
LRBLPIC       Select units for patients
LRBLPLOGIN    Specimen log-in
LRBLPOST      File 81 conversion
LRBLPSI       Special instructions
LRBLPT        Blood transfusion results
LRBLPTXR      Unknown unit transfusion reaction
LRBLPX        Enter crossmatch results
LRBLRIN       Supplier invoices (inventory)
LRBLRIS       Special typing charges (inventory)
LRBLRIT       Supplier transactions (inventory)
LRBLSEB       Edit blood product file
LRBLSEC       Edit unit - patient fields
LRBLSED       Edit unit disposition fields
LRBLSEE       Free autologous/directed donor units
LRBLSEF       Edit blood bank descriptions file
LRBLSEH       Edit donor history questions
LRBLSEL       Edit unit log-in
LRBLSER       Remove units with final disposition
LRBLSET       Tests for inclusion in transfusion report
LRBLSEU       Edit blood bank utility file
LRBLSF        Edit number of lines in a label
LRBLSI        Blood bank inventory edit options
LRBLSLL       Edit lab letter file
LRBLSMS       Maximum surgical blood order edit
LRBLSNO       Edit Corresponding Antigen/Antibody
LRBLSP        Blood bank patient edit options
LRBLSPP       Edit previous transfusion record
LRBLSRI       Remove inappropriate transfusion requests
LRBLSRQ       Edit Blood Component Request File
LRBLSSP       Edit blood bank site parameters
LRBLST        Tests for display on patient look-up
LRBLTTW       Test worklist
LRBLTX        Tests for transfusion follow-up
LRBLVAL       Blood bank validation documentation
 
RISK ANALYSIS: The changes made by patch LR*5.2*335 affect Blood Bank 
software functionality, however the RISK is considered to be low.
  Inappropriate use of the "Disable VistA Blood Bank components"
  [VBEC BB COMPONENTS DISABLE] option can disable the VistA 5.2
  Blood Bank system.  This risk is minimal since the "Enable VistA
  Blood Bank components" [VBEC BB COMPONENTS ENABLE] option can be
  used to restore full operations.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*335 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to 0 routines and 
4 files identified in Veterans Health Administration (VHA) Directive 
2004-058, group B listing. The changes have no effect on medical device 
control functions.
  This is the final step prior to the transfer of Blood Bank operations
  to the VBECS system. All future impact will be dealt with through VBECS
  development
 
VALIDATION REQUIREMENTS BY OPTION:
  No VistA Blood Bank 5.2 options are released with this patch.
  However, the options listed above should be tested to ensure that
  they have been disabled after the completion of the data conversion.
   
 
FILES CREATED DURING THE INSTALLATION OF THIS PATCH:
FILE #      NAME
======      ====
6000        VBECS SITE PARAMETERS
6001        VBECS DATA INTEGRITY/CONVERSION STATISTICS
6003        VISTA BLOOD BANK RESTRICTED OPTIONS LIST
6005        VBECS MATCHING TABLE
6007        STANDARD VBECS DATA
6009        VBECS FILE &amp; FIELD LEVEL SECURITY
 
MAIL GROUPS CREATED DURING THE INSTALLATION OF THIS PATCH
MAIL GROUP:
===========
VBECS DATA CONVERSION
 
ROUTINES INSTALLED DURING THE INSTALLATION OF THIS PATCH:
ROUTINE:
========
VBECDC00
VBECDC01
VBECDC02
VBECDC19
VBECDCDC
VBECDCHX
VBECDCM
VBECDCM0
VBECDCM1
VBECDCM2
VBECDCMP
VBECDCNM
VBECDCR
VBECDCSP
VBECDCST
VBECDCU
VBECDCU1
VBECDCU2
VBECDCX
VBECDCX1
 
OPTIONS CREATED DURING THE INSTALLATION OF THIS PATCH:
Option Name                    Option Text
===========                    ===========
VBEC ANTIBODY/ANTIGEN UTIL.    Utilities that manipulate Antibody/Antigen 
data
VBEC BB COMPONENTS DISABLE     Disable VistA Blood Bank components
VBEC BB COMPONENTS ENABLE      Enable VistA Blood Bank components
VBEC CONVERSION UTILITIES      Utilities used for the data conversion
VBEC DATA CONV. TO HOST FILES  Convert VistA Blood Bank data to host files
VBEC DATA CONVERSION STATS     Display data conversion statistics
VBEC DATA VALIDATION           Run Legacy VistA Blood Bank Data Validation
VBEC DELETE ANTIBODY/ANTIGEN   Delete Antibody/Antigen temporary matching 
files 
VBEC DELETE CONV. STATS        Delete data conversion and anomaly check 
histories
VBEC DELETE EXTRACTED DATA     Delete all Blood Bank Data in Temporary 
Globals
VBEC DELETE SYSTEM LEVEL FILES Delete Blood Bank Data in System Level 
Files
VBEC DELETE TRANS. REACTION    Delete Transfusion Reaction temporary 
match files
VBEC INVALID DATA REPORT       Invalid Blood Bank Data Report
VBEC MAIN MENU                 VBECS Data Matching/Conversion Menu
VBEC MATCH ANTIBODY/ANTIGEN    Match VistA antibody/antigen data
VBEC MATCH TRANSFUS REACTION   Match VistA transfusion reaction data
VBEC POST-CONVERSION UTILITIES Utilities used after the data conversion 
has run
VBEC PRE-CONVERSION UTILITIES  Utilities used prior to the data conversion
VBEC PRINT SQL/VISTA MATCHES   Matched Blood Bank data report
VBEC SITE PARAMETER ENTER/EDIT Enter/Edit Site Parameter Data 
VBEC STANDARD ANTIBODIES       Standard Antigens and Antibodies Print
VBEC STANDARD TRANS. REACTIONS Standard Transfusion Reactions Print
VBEC TRANS. REACTION UTILITIES Utilities that manipulate Trans. Reaction 
data
VBEC UNDO ANTIBODY/ANTIGEN     Undo all antibody/antigen matches
VBEC UNDO SINGLE MATCHING      Unmatch a single matched VistA record 
VBEC UNDO TRANS. REACTIONS     Undo all transfusion reaction matches
VBEC UNMATCHED VISTA DATA RPT  Unmatched VistA Blood Bank Data Report
VBEC UPDATE ANTIBODY/ANTIGEN   Update antibody/antigen records in 
matching file
VBEC UPDATE TRANS. REACT. REC  Update trans. reaction records in matching 
file
 
Associated Remedy Tickets:  None
==========================
 
Test Site(s):
==============
 HEARTLAND-EAST HCS
 PHILADELPHIA, PA
 SAN DIEGO, CA
 
Installation Sequence 
======================
The files listed below represent the patches will be part of the 
controlled phased release.  Follow the sequence listed below when your 
phased installation occurs.
 
  1. LR*5.2*335
  2. LR*5.2*367
  3. VBECS Bundle (consisting of VBEC*1*0 and LR*5.2*325)
  4. VBEC*1.0*1
  5. OR*3.0*212
 
COMPONENT SUMMARY:
==================
This patch installs ROUTINES, FILES, OPTIONS and a MAIL GROUP. For full 
details about the components being imported with this patch, please see 
the Blood Bank Pre-Implementation Data Validation, Mapping, and 
Conversion Technical Manual
 
Documentation Retrieval:
========================
Although this is a controlled, phased released, the user &amp; technical 
documentation will be available to all sites when the patch is officially 
released and the phased implementations start. This will allow sites the 
opportunity to retrieve the documents before their phased installation 
date
 
Documentation is available for the VBECS package on the 
ANONYMOUS.SOFTWARE directory at one of the following Office of 
Information (OI) Field Offices. Sites may retrieve documentation either 
the ".PDF" or "DOC" format in one of the following ways:
 
The preferred method is to FTP the files from:
Download.vista.domain.ext
 
This transmits files from the first available FTP server. Sites may also 
elect to retrieve documentation directly from a specific server as 
follows:
       Albany                  ftp.fo-albany.domain.ext
       Hines                   ftp.fo-hines.domain.ext
       Salt Lake City          ftp.fo-slc.domain.ext
 
NOTE:  The documentation files listed below will be listed in each of the 
VBECS and LR patches that are part of the VBECS package and associate 
patches, they only need to be downloaded once.
 
File Name                                   Retrieval format:  Binary
===========                                 ==========================
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
ADPAC Guide.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
ADPAC Guide.pdf
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Installation and User Guide.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Installation and User Guide.pdf
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Technical Manual.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Technical Manual.pdf
VBECS Data Conversion Recommended Validation Method.xls
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.doc
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.pdf
VBECS Implementation Process.xls
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 User Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 User Guide.pdf
Known Defects and Anomalies.doc
Known Defects and Anomalies.pdf
 
  Installation Information:
  ==========================
 
This patch is exported as part of the VBECS Blood Bank System and allows 
the conversion of limited existing Blood Bank data from VistA to VBECS. 
Please refer to the "Blood Bank Pre-Implementation Data Validation, 
Mapping, and Conversion Installation and User Guide" for installation 
information. The files listed below may be obtained via FTP. The 
installation of VBECS and its related patches are being handled as a 
controlled release. The implementation manager will contact you with the 
location of the KIDS Host Files prior to your scheduled installation 
date. The documentation files will be available for download in advance 
of installation through the anonymous download site as shown below.
 
  Installation Files: 
  ===================
The following files are exported for LR*5.2*335:
   LR_52_335.KID
 
   VBECSBATCH.COM
 
LR_52_335.KID and VBECSBATCH.COM files will be made available by the 
Implementation Manager prior to your site's implementation schedule along 
with instruction to retrieve.
 
Installation Instructions:
==========================
This patch may be loaded with users on the system.
Installation will take less than 5 minutes.
 
    1) Use the 'LOAD A DISTRIBUTION' option on the KIDS Installation
       menu. The Host File name is LR_52_335.KID. Answer YES to the
       question: "Want to Continue with Load? YES//"
    2) From the Kernel Installation and Distribution System Menu,
       select the Installation menu.
    3) From this menu, you may elect to use the following options
       (when prompted for the INSTALL NAME, enter LR*5.2*335).
       a) Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch. It will NOT
          backup any other changes such as DDs or templates.
       b) Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch
          is installed. It compares all components of the patch
          (routines, DDs, templates, etc.).
       c) Verify Checksums in Transport Global - this option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
       d) Print Transport Global - this option will allow you to view the
          components of the KIDS build.
    4) Use the Install Package(s) option and select the package
       LR*5.2*335.
    5) When prompted "Enter the Coordinator for Mail Group 'VBECS DATA
       CONVERSION':" Enter the name of the person who will manage the
       VBECS DATA CONVERSION mailgroup.
    6) When prompted  'Want KIDS to Rebuild Menu Trees Upon Completion
       of Install? YES//  respond YES 
    7) When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
       YES//', respond NO.
    8) When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond NO.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;367</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-06-09 15:33:51</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The installation of LR*5.2*367 will be controlled by phase release to 
support the new blood bank software Vista Blood Establishment Computer 
System, VBECS. An Implementation Manager will be assigned to your site 
and will contact your POC for VBECS and will provide your site with the 
location of the KIDS Host Files prior to your scheduled installation date.
 
This patch will allow the VistA Blood Establishment Computer System 
(VBECS) to use HL7 order update messages to complete orders created 
through the Blood Bank Accession Area.  The functionality will complete 
the accession for the specified test and the associated Computerized 
Patient Record System (CPRS) order
 
ROUTINE: LR7OVB
========
 
OPTIONS: None
========
 
PROTOCOL: LR7O VBECS RECEIVE
=========
 
BLOOD BANK CLEARANCE
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*367 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*367 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*367 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
made, no specific validation requirements exist as a result of 
installation of this patch.
 
 
ASSOCIATED Remedy Tickets: None
==========================
 
ASSOCIATED NSR/E3R: None
===================
 
XINDEX Warnings:
================
XINDEX displays the following warning. The referenced routine (^ORMVBEC) 
will be installed with patch OR*3*212. This patch is part of the 
controlled release of VBECS and will be installed as part of the VBECS 
system installation.
 
LR7OVB   * *  105 Lines,  4318 Bytes, Checksum: B19945746
   COMPLETE+38  F - Reference to routine '^ORMVBEC'. That isn't in this 
UCI.
 
--- Routine Detail ---
*****   ERRORS &amp; WARNINGS IN LR7OVB   *****
   COMPLETE+38  F - Reference to routine '^ORMVBEC'. That isn't in this 
UCI.
 
*****   INDEX OF LR7OVB   *****
 
TEST SITES:
===========
HEARTLAND-EAST HCS
PHILADELPHIA, PA
SAN DIEGO, CA
 
REQUIRED BUILDS: None
================
 
Installation Information:
==========================
 
This patch LR*5.2*367 is being exported as part of the VBECS package 
release. This installation of these patches will be controlled by phase 
release. An Implementation Manager will be assigned to your site and will 
contact your POC for VBECS and will provide your site with the location 
of the KIDS Host Files prior to your scheduled installation date 
Installation Sequence
 
Installation Sequence 
======================
The files listed below represent the patches will be part of the 
controlled phased release.  Follow the sequence listed below when your 
phased installation occurs.
 
  1. LR*5.2*335
  2. LR*5.2*367
  3. VBECS Bundle (consisting of VBEC*1*0 and LR*5.2*325)
  4. VBEC*1.0*1
  5. OR*3.0*212 
 
Documentation Retrieval:
========================
Although this is a controlled, phased released, the user &amp; technical 
documentation will be available to all sites when the patch is officially 
released and the phased implementations start.  This will allow sites the 
opportunity to retrieve the documents before their phased installation 
date
 
 
Documentation is available for the entire VBECS package on the 
ANONYMOUS.SOFTWRE directory at one of the following Office of Information 
(OI) Field Offices.  Sites may retrieve documentation either the ".PDF" 
or "DOC" format in one of the following ways:
 
The preferred method is to FTP the files from :
        download.vista.domain.ext
 
This transmits files from the first available FTP server.  Sites may also 
elect to retrieve documentation directly from a 
specific server as follows:
       Albany                  ftp.fo-albany.domain.ext
       Hines                   ftp.fo-hines.domain.ext
       Salt Lake City          ftp.fo-slc.domain.ext
 
NOTE:  The documentation files listed below will be listed in each of the 
VBECS and LR patches that are part of the VBECS package and associate 
patches, they only need to be downloaded once.
 
File Name:                                  Retrieval format:  Binary
==========                                  ==========================
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
ADPAC Guide.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
ADPAC Guide.pdf
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Installation and User Guide.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Installation and User Guide.pdf
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Technical Manual.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Technical Manual.pdf
VBECS Data Conversion Recommended Validation Method.xls
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.doc
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.pdf
VBECS Implementation Process.xls
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 User Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 User Guide.pdf
Known Defects and Anomalies.doc
Known Defects and Anomalies.pdf
 
Installation Files: 
===================
 
LR_52_367.KID
 
 
The host file LR_52_367 will be made available by the Implementation 
Manager prior to your site's implementation schedule along with 
instruction to retrieve.
 
Installation Instructions:
==========================
This patch may be loaded with users on the system.
Installation will take less than 5 minutes.
 
The installation of VBECS and its related patches are being handled as a 
controlled release. The implementation manager will contact you with the 
location of the KIDS Host Files prior to your scheduled installation date.
 
    1) Use the 'LOAD A DISTRIBUTION' option on the KIDS Installation
       menu. The Host File name is LR_52_367.KID .  Answer YES to the
       question: "Want to Continue with Load? YES//"
    2) From the Kernel Installation and Distribution System Menu,
       select the Installation menu.
 
    3) From this menu, you may elect to use the following options
       (when prompted for the INSTALL NAME, enter LR*5.2*367).
       a) Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
       b) Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch
          (routines, DDs, templates, etc.).
       c) Verify Checksums in Transport Global - this option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
       d) Print Transport Global - this option will allow you to view the
          components of the KIDS build.
    4) Use the Install Package(s) option and select the package
       LR*5.2*367.
    5) When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
       YES//', respond NO.
    6) When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond NO.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;325</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-06-09 15:34:57</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
LR*5.2*325 is being exported as part of the VBECS_BUNDLE_1.KID package 
release.  The installation of this bundle will be controlled by phase 
release.  An Implementation Manager will be assigned to your site and 
will contact your POC for VBECS and will provide your site with the 
location of the KIDS Host Files prior to your scheduled installation date 
Installation Sequence.  The VBECS BUNDLE is a host file that consists of 
both VBEC*1*0 and LR*5.2*325.  Installation of the VBECS BUNDLE will 
automatically install both VBEC*1*0 and LR*5.2*325
 
ROUTINES:
=========
LR325 
LRCAPBB 
LRCAPBV 
LRCAPBV1 
 
Options:  None
========
 
 
Protocols: None
========== 
 
Remote Procedures: None
===============
 
 
Files: None
======
 
Associated ICRs: None
=============== 
 
 
Associated Remedy:  None
==================
 
 
Associated NSR/E3R: None
==============
 
 
Installation Sequence
=====================
 
The files listed below represent the patches will be part of the 
controlled phased release.  Follow the sequence listed below when your 
phased installation occurs.
 
  1. LR*5.2*335
  2. LR*5.2*367
  3. VBECS Bundle (consisting of VBEC*1*0 and LR*5.2*325)
  4. VBEC*1.0*1
  5. OR*3.0*212
 
Documentation Retrieval:
 
Although the software installation will be phased, the documentation will 
be available for the entire VBECS package on the ANONYMOUS.SOFTWRE 
directory or at one of the following Office of Information (OI) Field 
Offices. Sites may retrieve documentation either the ".PDF" or "DOC" 
format in one of the following ways:
 
1.      The preferred method is to FTP the files from : 
Download.vista.domain.ext
 
2.      Sites may also elect to retrieve documentation directly from a 
specific server as follows:
       Albany                  ftp.fo-albany.domain.ext
       Hines                   ftp.fo-hines.domain.ext
       Salt Lake City          ftp.fo-slc.domain.ext
 
NOTE: The documentation files listed below will be listed in each of the 
VBECS patches that are part of the VBECS package and associate patches, 
they only need to be downloaded once.
 
File Name                                   Retrieval format:  Binary
=========                                   =========================
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
ADPAC Guide.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
ADPAC Guide.pdf
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Installation and User Guide.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Installation and User Guide.pdf
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Technical Manual.doc
Blood Bank Pre-Implementation Data Validation, Mapping, and Conversion 
Technical Manual.pdf
VBECS Data Conversion Recommended Validation Method.xls
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.doc
VBECS Application Interfacing Support Software Installation and User 
Configuration Guide.pdf
VBECS Implementation Process.xls
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Installation 
Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 Technical 
Manual-Security Guide.pdf
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 User Guide.doc
VistA Blood Establishment Computer Software (VBECS) 1.4.0.0 User Guide.pdf
Known Defects and Anomalies.doc
Known Defects and Anomalies.pdf
 
Installation Instructions:
==========================
This patch is exported as part of VBECS_BUNDLE_1.KID.  Please refer to 
VBEC*1*0 install instructions for installation sequence information. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;309 SEQ #309</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-06-17 16:50:42</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
BLOOD BANK
==========
 
VISTA Laboratory Package patch LR*5.2*309 contains changes to 
software controlled by VHA DIRECTIVE 2004-058, titled VISTA 
BLOOD BANK SOFTWARE. Changes include: 
  
 File          Field               Action
   
63.09,20      DESCRIPTION         Delete
 
All of the above changes have been reviewed by the VISTA Blood Bank
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE
control functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*309 have no effect on Blood
Bank software functionality, therefore RISK is none.
  
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*309 does not
alter or modify any software design safeguards or safety critical 
elements functions.
  
POTENTIAL IMPACT ON SITES: This patch contains changes to 0 routines
and 1 files identified in Veterans Health Administration (VHA) Directive
2004-058, group B listing. The changes have no effect on Blood Bank
functionality or medical device control functions. There is no adverse
potential to sites.
 
VALIDATION REQUIREMENTS BY OPTION: 
  
There are no Validation requirements or options to be validated
in this patch.
  
MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL 
FUNCTIONS:
  
There are no Test Case Scenarios associated with this patch.
   
DESCRIPTION: 
============ 
This patch removes one field, the DESCRIPTION field (#20), in the
LAB DATA file (#63) CYTOPATHOLOGY sub-file (#63.09), and a reference to
this field in routine ^LRAUAW.
 
Although it is highly unlikely that data exists in the DESCRIPTION 
field (#20), the patch also checks for data that may have been entered in
the field.  Any data that is found is moved to the ^XTMP("LR309")
global and stored for 180 days before it is purged. If data is found,
the installation routine also generates and sends a mail message to the
holders of security keys LRLIASON and LRAPSUPER to be used as a source
document to determine how the data should be handled if at all.
The message contains the LR*5.2*309 Data Report which lists the data 
found, the accession number, the patient's name, social security number
and gender.
 
DATA DICTIONARY CHANGES: 
======================== 
 The following is a list of the Data Dictionary entry in LAB DATA file 
(#63) that will be deleted by this patch:
  
63.09,20      DESCRIPTION            WP;0    WORD-PROCESSING #63.91
 
              DESCRIPTION:
                                Word processing field for description
  
 
MODIFICATION OF THE LRAUAW ROUTINE:
===================================
Patch LR*5.2*309 also makes changes to the LRAUAW routine to remove a
reference to the DESCRIPTION field (#20) of the CYTOPATHOLOGY sub-file
(#63.09) in the LAB DATA file (#63).  The change will be transparent to
the user.
 
NEW SERVICE REQUEST (NSR): 
========================== 
N/A. 
  
ASSOCIATED E3R: 
=============== 
N/A.                                                                     
 
ASSOCIATED NOIS: 
================ 
N/A. 
  
ASSOCIATED REMEDY TICKETS: 
========================== 
 HD0000000093288 
  
TEST SITES: 
=========== 
   Altoona, PA - small
   Wilmington, DE - medium
   Biloxi, MS - large
 
  
SOFTWARE RETRIEVAL: 
==================== 
 This patch is distributed by KIDS as a Packman message. 
  
INSTALLATION INSTRUCTIONS: 
========================== 
This patch can be installed with users on the system.  It is recommended 
to disable the Anatomic Pathology [LRAP] option at the "DISABLE Scheduled
Options, Menu Options, and Protocols?" prompt.
  
Install Time - less than 5 minutes. 
  
1. Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu. This 
   option will load the KIDS patch onto your system.
  
2. On the 'Kernel Installation &amp; Distribution System' Menu (KIDS), select 
   the 'Installation' menu.
  
3. Use the 'Verify Checksum in Transport Global' option and verify that 
   all routines have the correct checksums.
  
4. On the KIDS menu, under the 'Installation' menu, use the following 
   options: 
        Print Transport Global 
        Compare Transport Global to Current System 
        Backup a Transport Global 
  
5. Use the 'Install Package(s)' option under the 'Installation' menu and 
   select the package 'LR*5.2*309'.
 
6. When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES// 
   choose 'NO'.
 
7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
   Protocols? YES//', disable the Anatomic Pathology [LRAP] option. 
 
  
  
INSTALLATION EXAMPLE: 
===================== 
 
Example #1 without data:
========================   
Select Installation Option: install Package(s)
Select INSTALL NAME: LR*5.2*309       Loaded from Distribution  
8/5/08@14:25:46
     =&gt; LR*5.2*309
 
This Distribution was loaded on Aug 05, 2008@14:25:46 with header of 
   LR*5.2*309
   It consisted of the following Install(s):
     LR*5.2*309
Checking Install for Package LR*5.2*309
Will first run the Environment Check Routine, LR309
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*309
 
 
 
Want KIDS to INHIBIT LOGONs during the install? NO// 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
 
Enter options you wish to mark as 'Out Of Order': LRAP
     1   LRAP       Anatomic pathology
     2   LRAP ADD       Add patient(s) to report print queue
     3   LRAP ALERT       Send an AP Alert
     4   LRAP DELETE       Delete report print queue
     5   LRAP ESIG SWITCH       Turn Electronic Signature On/Off
Press &lt;RETURN&gt; to see more, '^' to exit this list, OR
CHOOSE 1-5: 1  LRAP     Anatomic pathology
 
Enter options you wish to mark as 'Out Of Order': 
 
Enter protocols you wish to mark as 'Out Of Order': 
 
Delay Install (Minutes):  (0-60): 0// 
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// ;;1000  UCX/TELNET
 
 
 Install Started for LR*5.2*309 : 
               Aug 05, 2008@14:26:27
 
Build Distribution Date: Aug 01, 2008
 
 Installing Routines:
               Aug 05, 2008@14:26:27
 
 Running Post-Install Routine: POST^LR309
 
                          *** Post install started ***
 
Searching for data in DESCRIPTION field (#20) in CYTOPATHOLOGY sub-file 
(#63.09) in LAB DATA file (#63).
 
                                   
LR*5.2*309                                   
--------------------------------------------------------------------------
                                Search finished
 
                    No Data found in ^LR(D0,"CY",D1,"WP",0)
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*309 Installed. 
               Aug 05, 2008@14:26:27
 
 
--------------------------------------------------------------------------
          +------------------------------------------------------------+
  100%    |             25             50             75               |
Complete  +------------------------------------------------------------+
 
 
Install Completed
 
Example #2 with data:
=====================
 
Select Installation Option: install Package(s)
Select INSTALL NAME:    LR*5.2*309     Loaded from Distribution  
8/5/08@10:06:42
     =&gt; LR*5.2*309
 
This Distribution was loaded on Aug 05, 2008@10:06:42 with header of 
   LR*5.2*309
   It consisted of the following Install(s):
     LR*5.2*309
Checking Install for Package LR*5.2*309
Will first run the Environment Check Routine, LR309
 
 
               Sending install started alert to mail group G.LMI
 
                        --- Environment Check is Ok ---
 
Install Questions for LR*5.2*309
 
 
 
Want KIDS to INHIBIT LOGONs during the install? NO// 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
 
Enter options you wish to mark as 'Out Of Order': LRAP
     1   LRAP       Anatomic pathology
     2   LRAP ADD       Add patient(s) to report print queue
     3   LRAP ALERT       Send an AP Alert
     4   LRAP DELETE       Delete report print queue
     5   LRAP ESIG SWITCH       Turn Electronic Signature On/Off
Press &lt;RETURN&gt; to see more, '^' to exit this list, OR
CHOOSE 1-5: 1  LRAP     Anatomic pathology
 
Enter options you wish to mark as 'Out Of Order': 
 
Enter protocols you wish to mark as 'Out Of Order': 
 
Delay Install (Minutes):  (0-60): 0// 
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME// ;;1000  UCX/TELNET
 
 
 Install Started for LR*5.2*309 : 
               Aug 05, 2008@10:07:55
 
Build Distribution Date: Aug 01, 2008
 
 Installing Routines:
               Aug 05, 2008@10:07:55
 
 Running Post-Install Routine: POST^LR309
 
                          *** Post install started ***
 
Searching for data in DESCRIPTION field (#20) in CYTOPATHOLOGY sub-file 
(#63.09) in LAB DATA file (#63).
 
                                Search finished
 
             Data entries have been found in ^LR(D0,"CY",D1,"WP",0)
 
The data found is sent in a mail message to all users
who hold the security keys LRLIASON and LRAPSUPER. 
The data will automatically be purged from the
^XTMP("LR309", global in 180 days. 
 
 
                                   
LR*5.2*309                                   
--------------------------------------------------------------------------
 
Data deleted from DESCRIPTION field (#20) in CYTOPATHOLOGY sub-file 
(#63.09) in LAB DATA file (#63).
 
                         *** Post install completed ***
 
              Sending install completion alert to mail group G.LMI
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*309 Installed. 
               Aug 05, 2008@10:07:56
 
 
--------------------------------------------------------------------------
          +------------------------------------------------------------+
  100%    |             25             50             75               |
Complete  +------------------------------------------------------------+
 
 
Install Completed
 
Routine Information:
====================
                                        
 
The second line of each of these routines now looks like:
 ;;5.2;LAB SERVICE;**[Patch List]**;Sep 27, 1994;Build 21
 
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.
 
Routine Name: LR309
    Before:       n/a   After: B56461511  **309**
Routine Name: LRAUAW
    Before:  B5818727   After:  B5111264  **72,115,121,309**
 
Routine list of preceding patches: 121
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;394 SEQ #310</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-06-23 10:36:24</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;392 SEQ #311</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-09-14 13:59:02</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 2 issues.
 
   1. When printing an autopsy report through option "Entries by dates,
      patient and accession number", an &lt;UNDEFINED&gt; error occurs.
 
   2. There are 3 indicators for DRAW TIMES related to antibiotics: PEAK,
      TROUGH, and RANDOM.  The designator "RANDOM" does not appear on
      a report under the LABS tab in CPRS GUI, as do the designators 
      "PEAK" and "TROUGH".
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;315 SEQ #312</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-09-28 11:32:21</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
BLOOD BANK Clearance:
=====================
VISTA Laboratory Package patch LR*5.2*315 contains changes to software 
controlled by VHA DIRECTIVE 2004-058, titled VISTA BLOOD BANK SOFTWARE. 
Changes include: 
 Routines:
 ---------
 LRBLJPP1
 LRBLPC1
 LRBLPCSS
 LRBLS
 
All of the above changes have been reviewed by the VISTA Blood Bank 
Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE 
control functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*315 have limited effect on 
Blood Bank software functionality, therefore RISK is low.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*315 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
POTENTIAL IMPACT ON SITES: This patch contains changes to 4 routines and 
0 files identified in Veterans Health Administration (VHA) Directive 
2004-058, group A listing.
 
VALIDATION REQUIREMENTS BY OPTION: 
---
OPTION: (EF-MS) Maximum surgical blood order edit  [LRBLSMS]
 
 NORMAL:
 
 1.  Enter a valid entry from the Current Procedure Terminology
     File (#81) at the "Select OPERATION" prompt.
 2.  Verify that the text displayed is the correct text for the
     procedure selected.
 3.  Press "Enter" at the "Selection OK ? YES//" prompt
 4.  Verify that the "Select BLOOD COMPONENT REQUEST:" prompt is 
displayed.
 5.  Enter "^" at the "Select BLOOD COMPONENT REQUEST:" prompt and "Enter"
     at the "Select OPERATION:" prompt to exit.
  
   **EXPECTED OUTCOME:
       The correct text is displayed for the procedure selected.
 
 EXCEPTIONAL:
 N/A for coding changes made
 
 BOUNDARY:
 This scenario applies to all sites.
 
 STRESS:
 Repeat this scenario for 3 different procedures.
---
OPTION: (UR-TX) Transfusion follow-up tests  [LRBLTXA]
 
 NORMAL:
 
 1.  Enter a valid start date at the "Start with Date TODAY//" prompt.
 2.  Press "Enter" at the "Go to Date TODAY//" prompt.
 4.  Verify that the descriptive text listed for the ICD 9 codes is 
accurate.
 
  
   **EXPECTED OUTCOME:
       The correct text is displayed for the ICD 9 code displayed.
 
 EXCEPTIONAL:
 N/A for coding changes made
 
 BOUNDARY:
 This scenario applies to all sites.
 
 STRESS:
 N/A.
---
 
MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL FUNCTIONS:
There are no test case scenarios for this patch.
 
 
Description:
============
1). This patch corrects the following problem which can occur when an 
Anatomic Pathology (AP) report is released:
PROBLEM (HVH-0804-11491/HD0000000070948): When an AP report is released 
containing 3 sequential characters defined in the BLANK CHARACTER STRING 
field (#1.06), of the TIU PARAMETERS file (#8925.99), the Text 
Integration Utility (TIU) electronic signature fails without giving 
notification to the user.  The AP report is successfully created and 
stored in TIU, but is marked in TIU as an unsigned document, which in 
turn, may generate an alert in Computerized Patient Record System (CPRS).
 
RESOLUTION: This patch adds a new parameter to the code that 
calls the TIU API, NEW^TIUPNAPI. This TIU API is called at the time the 
AP report is released; it creates and stores the AP report in the TIU 
DOCUMENT file (#8925).
 
 Old call: D NEW^TIUPNAPI(.LRTIUPTR,DFN,DUZ,LRNTIME,LRTITLE,,,,DUZ)
 New call: 
D NEW^TIUPNAPI(.LRTIUPTR,DFN,DUZ,LRNTIME,LRTITLE,,,,DUZ,,1)
where 1 is the new parameter.
 
When the new parameter is set to 1 the following functionality is 
evoked:
 
a. Triggers the TIU API to abort creation and storage of the AP 
Report in TIU if the electronic signature fails. 
 
b. An error message provides detailed information on the aborted 
storage of the AP Report in TIU when an electronic signature fails.  The 
error message is:
 
     *** Report is being processed for storage in TIU.  One moment please.
***    
 
 
    *** Signature in TIU failed. ***
 
 
Possible causes:
 
1. Report contains 3 sequential characters matching those defined
in the BLANK CHARACTER STRING field (#1.06), TIU PARAMETERS file 
(#8925.99)
which are @@@.
 
To correct this situation use a data entry option to remove
these characters from this report.
 
2.  There is some other TIU document setup problem.
 
Report this situation to the Laboratory ADP Coordinator.
 
 
     *** Report storage in TIU failed. ***
 
 
2). The patch updates routine: LREPI3 and LREPI5 to point to the correct
    ICD9 code for LEGIONNAIRES' DISEASE. Changed from 482.80 to 482.84
 
3). API Updates:
    ------------ 
    a. The ICD DIAGNOSIS file (#80) has unsupported fields: (#3) DIAGNOSIS
       and (#10) DESCRIPTION. The following APIs have been provided
       to retrieve these fields:
       $$ICDDX^ICDCODE and $$ICDD^ICDCODE.
       The Lab Service routines affected are as follows:
       LR7OB63C, LR7OB63D, LR7OSAP1, LRAPCUM1, LRAPQAT1, LRAPT3, LRAUSICD,
       LRBEBA, LRBEBA2, LRBLJPP1, LRBLPC1, LREPI1A, LREPI3, LRSPRPT1,
       LRSPSICD and LRPXAPIU.
 
    b. The ICD OPERATION/PROCEDURE file (#80.1) has unsupported fields:
       (#4) OPERATION/PROCEDURE and (#10) DESCRIPTION. The following API
       has been provided to retrieve these fields:
       $$ICDOP^ICDCODE
       The Lab Service routines affected are as follows:
       LRBLPC1, LRBLJPP1 and LRAPQAT1.
 
    c. The CPT file (#81) has an unsupported field: (#2) SHORT NAME.
       The following APIs have been provided to retrieve the field:
       $$CPT^ICPTCOD and $$CPTD^ICPTCOD.
       The Lab Service routines affected are as follows:
       LRBEECPT, LRBLPCSS and LRBLS.
 
 
Associated E3R:
===============
N/A
 
Associated NOIS / Remedy Ticket:
================================
HVH-0804-11491 / HD0000000070948
 
     Duplicates:
     UNY-0904-11549 / HD0000000071019
     MUS-1004-71347 / HD0000000071048
     N/A            / HD0000000098477
     N/A            / HD0000000226508
     N/A            / HD0OOOOOO275681
 
Test Sites:
===========
Canandaigua Health Care System (HCS)- Large/Integrated
Durham VAMC- Large
Lexington VAMC - Medium
Wilmington VAMROC - Medium 
 
 
Software Retrieval
==================
AP Report Causes Unsigned CPRS Alert and New CPT APIs patch LR*5.2*315 
software is distributed by Packman.
 
Documentation Retrieval
=======================
Veterans Health Information Systems and Architecture (VistA) Laboratory
Anatomic Pathology (AP) Report Causes Unsigned Computerized Patient Record
System (CPRS) Alert and New Current Procedural Terminology (CPT) 
Application Programming Interface (APIs) Patch LR*5.2*315 User Guide is
available at the following Office of Information Field Offices (OIFOs)
ANONYMOUS.SOFTWARE directories:
 
OI Field Office     FTP Address                 Directory
---------------     -----------                 ---------
ALBANY              ftp.fo-albany.domain.ext    [ANONYMOUS.SOFTWARE]
HINES               ftp.fo-hines.domain.ext     [ANONYMOUS.SOFTWARE]
SALT LAKE CITY      ftp.fo-slc.domain.ext       [ANONYMOUS.SOFTWARE]
 
 
Documentation Retrieval Formats
===============================
VistA Laboratory AP Report Causes Unsigned CPRS Alert and New CPT APIs
Patch LR*5.2*315 User Guide files are exported in the following retrieval
formats:
 
File Name          Contents                       Retrieval Formats
---------          --------                       -----------------
LAB_52_315_UG.doc  VistA Laboratory AP Report     BINARY
                   Causes Unsigned CPRS Alert
                   and New CPT APIs Patch 
                   LR*5.2*315 User Guide      
 
LAB_52_315_UG.pdf  VistA Laboratory AP Report     BINARY
                   Causes Unsigned CPRS Alert
                   and New CPT APIs Patch 
                   LR*5.2*315 User Guide      
 
 
VistA Website Locations:
========================
VistA Laboratory AP Report Causes Unsigned CPRS Alert and New CPT APIs
Patch LR*5.2*315 User Guide is accessible in MS Word (.DOC) format and
Portable Document Format (.PDF) at the following VistA locations:
 
Laboratory Version 5.2 Home Page
--------------------------------
http://vista.domain.ext/ClinicalSpecialties/lab/
 
VistA Documentation Library (VDL)
---------------------------------
www.domain.ext/vdl/
 
Installation Instructions:
==========================
This patch may be loaded with users on the system.  You may wish to
install it during non-peak hours.  Installation will take less than 1 
minute.  It is recommended to disable the Anatomic Pathology [LRAP] option
at the "DISABLE Scheduled Options, Menu Options, and Protocols?" prompt.
 
1.  Use the INSTALL/CHECK MESSAGE option on the Packman Menu.  
  
2.  From the Kernel Installation and Distribution System (KIDS) Menu, 
    select the Installation menu.  
 
3.  From the Installation menu, you may select to use the following 
    options (when prompted for INSTALL NAME, enter LR*5.2*315): 
 
    a.  Backup a Transport Global 
    b.  Compare Transport Global to Current System
    c.  Print Transport Global 
    d.  Verify Checksums in Transport Global
 
4.  Use the Install Package(s) option and select the package LR*5.2*315.
 
5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? NO//',
    respond NO.
 
6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//', Anatomic Pathology [LRAP] option.
 
 Note: Routine LR315 will be deleted after successful patch installation.
 
Installation Example:
=====================
 
Select Installation Option: 6  Install Package(s)
Select INSTALL NAME:    LR*5.2*315     Loaded from Distribution  
10/18/08@16:48:47
      =&gt; LR*5.2*315
 
 This Distribution was loaded on Oct 18, 2008@16:48:47 with header of
    LR*5.2*315
    It consisted of the following Install(s):
      LR*5.2*315
 Checking Install for Package LR*5.2*315
 Will first run the Environment Check Routine, LR315
 
  
                Sending install started alert to mail group G.LMI
  
  
                         --- Environment Check is Ok ---
  
 
 Install Questions for LR*5.2*315
 
 
 
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//
 
 Enter options you wish to mark as 'Out Of Order': LRAP
      1   LRAP       Anatomic pathology
      2   LRAP ADD       Add patient(s) to report print queue
      3   LRAP DELETE       Delete report print queue
      4   LRAP ESIG SWITCH       Turn Electronic Signature On/Off
      5   LRAP PRINT ALL ON QUEUE       Print all reports on queue
 Press &lt;RETURN&gt; to see more, '^' to exit this list, OR
 CHOOSE 1-5: 1  LRAP     Anatomic pathology
 
 Enter options you wish to mark as 'Out Of Order': 
 
 Enter protocols you wish to mark as 'Out Of Order': 
 
 Delay Install (Minutes):  (0-60): 0// 
 
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
 
 DEVICE: HOME// ;;1000  UCX/TELNET
 
  
  Install Started for LR*5.2*315 : 
                Oct 18, 2008@16:49:53
  
 Build Distribution Date: Oct 18, 2008
  
  Installing Routines:
                Oct 18, 2008@16:49:53
  
  Running Pre-Install Routine: PRE^LR315
  
                           *** Pre install started ***
  
  
                                    
LR*5.2*315                                 
  
 -------------------------------------------------------------------
 
                          *** Pre install completed ***
  
  
  Running Post-Install Routine: POST^LR315
  
                           *** Post install started ***
  
  
                          *** Post install completed ***
  
  
               Sending install completion alert to mail group G.LMI
  
  
  Updating Routine file...
  
  Updating KIDS files...
  
  LR*5.2*315 Installed. 
                Oct 18, 2008@16:49:53
  
  Install Message sent #87004
--------------------------------------------------------------------------
          +------------------------------------------------------------+
  100%    |             25             50             75               |
Complete  +------------------------------------------------------------+
 
 
Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;398 SEQ #313</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-10-01 16:20:16</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
This patch will modify routine LRPHLIST (collection label print)
to allow the print job to be queued to a printer through TASKMAN.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;395 SEQ #314</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-11-02 17:08:46</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 3 issues.
It corrects a problem with the inability to enter antibiotic 
concentrations,
addresses a problem in file #64.1 (Workload Data) whereby incorrect data
gets stored in the file when the order date is different from the 
collection
date, and also addresses a problem whereby the draw time designator of
RANDOM is not displayed on the patient report.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;397 SEQ #315</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-01-05 16:59:24</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 3 issues.
 
   1.  Turnaround time report for AP yields incorrect calculation of days
        sometimes when holiday occurs mid-week.
 
   2.  Alerts are being sent for patients from REFERRAL file (#67).
 
   3.  Modifying released pathology reports leads to incorrectly
        stored data.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;396 SEQ #316</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-01-05 17:00:12</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
This patch is a VM general purpose lab patch that addresses 3 issues.
It corrects a problem with the inability to enter antibiotic 
concentrations,
addresses a problem with the WorkLoad Report whereby data from yearly
accession areas is not picked up,  and modifies a comment that is
automatically generated when a test is cancelled after a result has been
entered.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;399 SEQ #317</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-07-08 11:49:52</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 2 issues.
 
   1.  The DSS Laboratory Extract gets a &lt;SYNTAX&gt; error when FileMan
       attempts to set an entry into the LAB DSS LAR EXTRACT FILE
       (# 64.036) when the entry has a text test result containing
       a semi-colon (;).
 
   2.  A &lt;SUBSCRIPT&gt; error occurs when a user enters an "^" at the
       RESULT NLT CODE prompt in option LR LOINC UNMAP/DELETE DEFAULT.
       The error also occurs when there is no RESULT NLT CODE on file
       and the user &lt;returns&gt; through this prompt.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;402 SEQ #318</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-10-20 12:32:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM general purpose lab patch that addresses 2 issues.
 
   1.  The option MODIFY AN EXISTING DATA NAME allows for the modification
       of the input parameters for data elements that are not DATA NAMEs,
       leading to, in some cases, a corrupted database.
 
   2.  The option LRENTER (Enter/verify/modify data (manual)) sometimes
       prompts the user to select an accession area twice.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;403 SEQ #319</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-12-14 14:26:30</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;401</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2011-03-09 15:13:29</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch contains changes to the VBECS Blood Bank package. Refer to the 
patch listed in the Forum patch module for more details.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;407 SEQ #321</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2011-05-09 16:18:49</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM lab patch that addresses 2 LOINC mapping issues.
 
   1.  When exiting the option "Map Lab Tests to LOINC Codes" after no
       matches are found related to an affirmative response to the
       prompt "Do you want to see possible LOINC code matches?", an
       &lt;UNDEFINED&gt; error results.
 
   2.  The option to map a default LOINC code and the option to unmap a
       default LOINC code use the same routines.  Sometimes the code gets
       confused and prompts one to "unmap" when one is in the "map" 
       option.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;406 SEQ #322</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2011-05-11 10:24:36</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses Patient Safety Issue PSPO #1384 which involves
critical lab test result alerts.  When a lab test result is verified
and that result lies outside the normal boundaries defined for the
test, alerts are generated that are sent to the physicians who are
responsible for the patient's care.  In some cases these alerts are
not being generated.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;408 SEQ #323</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2011-07-18 14:53:12</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;410 SEQ #324</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2011-10-27 10:47:15</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM lab patch that addresses a minor DD change, a change
to 2 menu options, and a modification to the DSS extract for LAB.
 
   1.  The DELETE cross-reference code for field #10 (Cancelled By) of
       the TEST multiple of the SPECIMEN subfile (#69.03) of the LAB
       ORDERS file (#69) has faulty syntax which leads to a &lt;SUBSCRIPT&gt;
       error when a deletion of an entry in the CANCELLED BY field
       occurs.
 
   2.  The option descriptions for option LR WKLD REQUEST and option LR
       WKLD SERVICE are reversed.
 
   3.  During extraction of lab data for the Decision Support Software
       (DSS) it was discovered that some lab test names included a tilde
       character (~) or an exclamation point (!) which caused the record
       parser to incorrectly identify the end of the record and thus
       skip pertinent data.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;405 SEQ #325</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-01-09 11:53:34</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
BLOOD BANK STATEMENT
====================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*405 does not
contain any changes to the VISTA BLOOD BANK Software as defined by VHA
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*405 does not
alter or modify any software design safeguards or safety critical
elements functions.
BLOOD BANK STATEMENT
====================
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*405 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*405 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*405 have no effect on Blood 
Bank software functionality, therefore RISK is none.
 
VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
made, no specific validation requirements exist as a result of 
installation of this patch.
 
Howdy Computerized Phlebotomy Login Process (Howdy) is an automated 
laboratory check-in application used in Veterans Health Information 
Systems and Technology Architecture (VistA) Laboratory system to 
provide phlebotomy labs with the ability to:
 
1. Read the Veteran Information Card (VIC) and instruct the patient 
   to wait until called to the phlebotomy area.
2. Search the VistA database for any phlebotomy orders pending on
   the patient.
3. Process lab orders and print specimen labels.
4. Verify that the correct lab specimens are drawn from the correct 
   patient.
5. Calculate and provide timeliness reports for Phlebotomy Lab 
   performance.
6. Provide barcode technology for patient identification and 
   positive specimen identification.
7. Capture accurate collection and lab receipt times that allows the 
   laboratory users to track outpatient lab samples from collection to 
   verification.
8. Assist in accomplishing the VA strategic plan, which specifies 
   that 90% of laboratory specimens will be collected utilizing barcode 
   technology.
 
The Howdy bar code technology allows the lab personnel to use scanners to 
verify a veteran's identity and to track drawn sample(s) until the 
results are entered into the VistA Laboratory system.
 
Howdy addresses privacy issues. The scanning of the VIC feature eliminates
a hand-written log book for sign in, where the patient's name and SSN can
be viewed.
 
This patch addresses the following Remedy Ticket(s):
===================================================
N/A
 
This patch addresses the following Electronic Error &amp; Enhancement Report 
(E3R):
========================================================================
E3R Entry #:    15882   20037   19545
                19477   19221   19091
                18805    1270    6247
                 8772    8807    9239
                 9496    9808   12301
                12981   13485   13638
                13714   13865   14981
                15124   15186   15249
                15632   15715   16053
                17038   17126   17923
 
This patch addresses the following Patient Safety Issues (PSIs):
===============================================================
N/A
 
Data Dictionary Changes:
=======================
This patch installs the following two new files:
 
HOWDY SITE FILE (#69.86): This file is used to run the Howdy software
and to reflect the site's business rules.
 
FILE #   FIELD #    FIELD NAME                 NEW/MODIFIED item(s)
-------- ---------  -----------------          --------------------
69.86   .01         NAME                                NEW
        2           LAB TEST (TO EXCLUDE)               NEW
        4           COLLECTION SAMPLE (TO EXCLUDE)      NEW
        6           SITE SPECIMEN (TO EXCLUDE)          NEW
        8           COLLECTION TYPES (TO EXCLUDE)       NEW
        10          PRINTERS                            NEW
        11          ORDER LABEL ROUTINE                 NEW
        12          FW ORDER LABELS                     NEW
        16          EXCLUDE CLINICS                     NEW
        18          CHECK FOR FUTURE ORDERS             NEW
        20          CHECK FOR PAST ORDERS               NEW
        25          ORDER LABEL TESTS                   NEW
        30          EXCLUDE URGENCY                     NEW
        32          GREETING                            NEW
        40          WELCOME TO                          NEW
        42          YOUR HOST IS                        NEW
        44          HOST TITLE                          NEW
        45          SPACER LABEL PRINTER                NEW
        50          ATLERNATIVE LABEL ROUTINE           NEW
        51          NUMBER OF SCAN RE-TRY               NEW
        52          DELETE SAME DAY DUPLICATES          NEW
        54          BINGO BOARD DEVICE                  NEW
 
HOWDY SPECIMEN TIMES BY UID FILE(#69.87): This file is used to capture and
retain the specimen demographics.
 
FILE #   FIELD #    FIELD NAME                 NEW/MODIFIED item(s)
-------- ---------  -----------------          --------------------
69.87   .01         SPECIMEN UID                        NEW
        2           INITIAL SCAN TIME                   NEW
        4           TIME LABELS PRINTED                 NEW
        6           COLLECTOR                           NEW
        8           COLLECTION TIME                     NEW
        10          LAB ARRIVAL TIME                    NEW
        12          RECEIVER                            NEW
 
 
The following is a list of menu options included in this patch:
==============================================================
 
Option Name                      Type                New/Modified
-----------                      ----                ------------
HOWDY BCE MAIN MENU             menu                    NEW
HOWDY MAIN MENU                 menu                    NEW
LRHY BCE LABEL PRINT            action                  NEW      
LRHY PATIENT CARD SCAN          run routine             NEW    
LRHY PATIENT CARD SCAN (BCE)    run routine             NEW        
LRHY PATIENT WAIT TIME          run routine             NEW      
LRHY PHLEBOTOMY LOG             run routine             NEW        
LRHY SCAN SPECIMENS INTO LAB    action                  NEW  
LRHY SITE FILE EDIT             run routine             NEW  
LRHY TRACK COLLECTION           run routine             NEW
 
Summary of new entries in the Options (File #19):
================================================
1.  LRHY PATIENT CARD SCAN 
This option initiates the Howdy process using the greeting from Howdy site
file &amp; prints labels.
 
2.  LRHY PHLEBOTOMY LOG
This is the log used to track the collector's phlebotomy performance 
times.
 
3.  LRHY SCAN SPECIMENS INTO LAB
This option allows the Receiver to scan collected specimen labels to 
capture Lab Receipt Time.
 
4.  LRHY TRACK COLLECTION 
This option is used to display patient specimen collection demographics.
 
5.  LRHY PATIENT WAIT TIME
This option displays how long a Patient waits to have a sample drawn.
     
6.  LRHY SITE FILE EDIT
This option enables the Keyholder to edit the Howdy site file.
 
7.  LRHY BCE PT CARD SCAN
This option enables Howdy to scan the Patient's VIC card when the Patient
arrives at the phlebotomy area.
 
8.  LRHY PRINT BCE PPID LABEL 
Bar Code Expansion (BCE) Compatible - This is the option the collector
uses when verifying Positive Patient Identification (PPID) at time of
collection.  Each collecting station will have a dedicated PC, scanner and
bar code label printer.  Howdy will recognize this person as the collector
and date and time of collection.  The collector will scan the patient's
VIC card, armband or can type their SSN on their keyboard.  The patient's
demographics appear on the screen with the current accessioned orders.  
The collector then verifies each specimen in the presence of the patient
to assure PPID.  The labels then print and specimens are labeled
accordingly.
 
9.  HOWDY MAIN MENU
This option provides access to the traditional Howdy Main Menu.  
 
10. HOWDY BCE MAIN MENU
This option provides access to the Howdy BCE Main Menu.
  
Documentation Retrieval:
=======================
Documentation describing the functionality introduced by this patch is 
available in the [ANONYMOUS.SOFTWARE] directories at the following
Internet addresses:
  
 Preferred or Specific Server     Internet address
 ----------------------------     -------------------------
 First available ftp server       download.vista.domain.ext  &lt;-- preferred
 Albany                           ftp.fo-albany.domain.ext
 Hines                            ftp.fo-hines.domain.ext
 Salt Lake City                   ftp.fo-slc.domain.ext
  
 Below is a list of the documentation files related to this patch and 
 available via the FTP sites listed above.
  
 Document File Description          File Name           FTP Mode
 -------------------------------    -------------       --------------
 Howdy Computerized Login Process   LR_52_405_UM.PDF    binary
 User Manual   
 Howdy Computerized Login Process   LR_52_405_TM.PDF    binary
 Technical Manual       
 Howdy Computerized Login Process   LR_52_405_IG.PDF    binary
 Installation Guide
 Howdy Computerized Login Process   LR_52_405_RN.PDF    binary
 Release Notes
  
 After this patch is released, the updated manuals may also be retrieved 
 from the Internet at http://www.domain.ext/vdl
                 
 Test Sites:
 ==========
 To be determined.
 
 VISTA Software Application Requirements:
 =======================================
 Prior to installing VistA Howdy Computerized Phlebotomy Login 
 Process, the following required software applications must be installed:
 
 Software Applications          Versions:
 ---------------------          --------
 Kernel                           8.0
 VistA Laboratory                 5.2
 VA FileMan                      22.0
 VA Mailman                       7.1 or greater
 Kernel Toolkit                   7.3
    
 INSTALLATION INSTRUCTIONS:
 =========================
 The install time for this patch should take less than 5 minutes.  It is 
 best if this patch is installed outside of normal working hours.
  
 NOTE:  MailMan and Kernel patches must be current on the target system 
 to avoid problems loading and installing this patch.
  
  1. Use the 'INSTALL/CHECK MESSAGE' option of your PackMan menu to load 
the KIDS distribution onto your system.
   
  2. On the 'Kernel Installation &amp; Distribution System' Menu (KIDS), 
select the 'Installation' menu.
   
     From this menu you may choose the following options prior to 
installing this patch:
  
     - Backup a Transport Global - this option creates a backup message 
of any routines exported with the patch. It does NOT backup any other
changes, such as data dictionaries or templates.
  
     - Compare Transport Global to Current System - this option allows 
you to view all changes that are made when the patch is installed. It
compares all components of the patch (routines, DDs, templates, etc.).
 
     -  Verify Checksums in Transport Global - this option allows you to 
ensure the integrity of the routine that is in the transport global.
   
  3. Use the 'Install Package(s)' option under the 'Installation' menu.
  
     When prompted for INSTALL NAME, enter: LR*5.2*405.
 
     Install Questions for LR*5.2*405:
 
     When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of 
     Install? NO//", respond NO.  Responding "Yes" to the prompt for
     rebuilding menu trees can significantly increase install time.
 
     When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//",
     respond NO.
 
     When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? NO//", respond NO.
 
  4. Verify that the installation of the patch completed correctly by 
using the Kernel Installation &amp; Distribution System [XPD MAIN]
options:
 
        KIDS 'Utilities...' [XPD UTILITY] option 'Install File Print' [XPD
        PRINT INSTALL FILE] and selecting this patch (LR*5.2*405).
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;413 SEQ #326</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-02-27 14:30:30</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses 3 issues related to the
Anatomic Pathology area of the Lab package.
 
1.       When using option LRAPMOD (Print path modifications) an 
&lt;UNDEFINED&gt; error is encountered.
 
 
2.       Any date in the EXPIRATION DATE FIELD (#3) of the PERSON CLASS
multiple (#200.05) of the NEW PERSON file (#200) for a provider
will create a situation whereby that provider will not be able to
verify/electronically sign Anatomic Pathology reports.  This happens
even if the date is a future date.
 
3.       If more than one Special Studies is included in an Anatomic 
Pathology report, the text of the subsequent Special Studies 
is not stored properly in the TIU document and thus doesn't display
in CPRS.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;411 SEQ #327</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-08-29 10:32:32</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses 3 issues in the Lab package.
 
1.       When trying to accession an order user gets the message "TEST 
NAME does not have an appropriate accession area. Order xxxxx IS 
NOT ACCESSIONED."
 
2.       The option GROUP DATA REVIEW (LRGVP) does not always show the
proper report routing location.
 
3.       &lt;UNDEFINED&gt; error occurs when trying to delete old user-defined
patient/test lists. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;415 SEQ #329</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-08-29 12:22:41</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses a problem in the Lab package
related to accessioning with in-common accession areas. When an
"in-common" accession area is added to an existing accession area, it
is possible that data in file #68 (ACCESSION) will be overlaid and 2
patients will have the same accession number.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;419 SEQ #328</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-08-29 12:22:51</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses Patient Safety issue PSPO #2070.
A lab test ordered through CPRS (Computerized Patient Record System) can
be placed on an order for the wrong patient in file #69(LAB ORDER ENTRY).
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;382</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-09-24 15:25:28</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 Description
 ===========
 
 External Commercial Off the Shelf (COTS) applications and Vista 
 applications that interface with the Laboratory application may
 additionally require patient information contained in ADT HL7
 messages. This patch contains the components necessary to transmit
 patient information, within ADT HL7 messages, to two different receiving
 systems: a third party COTS system and the Vista Blood Establishment 
 Computer System (VBECS). VBECS must be installed prior to installing 
 this patch.
 
 Included in this patch is one routine, LRADT, that builds the ADT HL7 
 messages, one HL LOGICAL LINK file (#870) entry named LRADT, two HL7 
 APPLICATION PARAMETER file (#771) entries named LRADT and LRADT TRIGGER, 
 and the following PROTOCOL file (#101) entries:
  
  LRADT TRIGGER, LRADT-GMRA TRIGGER
  LRADT-A01 SERVER, LRADT-A01 CLIENT, VBECS-A01 CLIENT
  LRADT-A02 SERVER, LRADT-A02 CLIENT, VBECS-A02 CLIENT
  LRADT-A03 SERVER, LRADT-A03 CLIENT, VBECS-A03 CLIENT
  LRADT-A04 SERVER, LRADT-A04 CLIENT, VBECS-A04 CLIENT
  LRADT-A08 SERVER, LRADT-A08 CLIENT 
  LRADT-A11 SERVER, LRADT-A11 CLIENT, VBECS-A11 CLIENT
  LRADT-A12 SERVER, LRADT-A12 CLIENT, VBECS-A12 CLIENT
  LRADT-A13 SERVER, LRADT-A13 CLIENT, VBECS-A13 CLIENT
 
 The LRADT TRIGGER protocol is associated with existing VAFC ADT
 event protocols. The LRADT-GMRA TRIGGER protocol is associated with GMRA 
 protocols triggered when patient allergies are signed or marked 
 entered in error.
 
 Each TRIGGER protocol invokes routine LRADT to build the appropriate ADT 
 message, which then transmits the message using the CLIENT/SERVER
 protocol pair associated with the ADT event.
 
 
 Test Sites
 ==========
 
 
 Installation Instructions
 =========================
 
 1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
    option will load the KIDS package onto your system.
 
 2. From the Kernel Installation &amp; Distribution System menu, select
    the Installation menu.
 
 3. From this menu, select the option Load a Distribution.  When prompted
    for a file name, type in the directory where you have stored the host
    file, followed by the file name.
 
 4. From this menu, you may select to use the following options
    (when prompted for INSTALL NAME, enter LR*5.2*382. 
 
 a. Compare Transport Global to Current System - this option will
     allow you to view all changes that will be made when the patch
     is installed. It compares all components of the patch (routines,
     DDs, templates, etc.).
  b. Verify Checksums in Transport Global - this option will ensure
     the integrity of the routines that are in the transport global.
 
 5. Use the Install Package(s) option and at the INSTALL NAME prompt,
    enter LR*5.2*382.
 
 6. When prompted to enter a coordinator for the LRADT INTERFACE ADMIN
    mail group, enter the person or persons who will be responsible for
    these mail groups.
                                                      
 7. At the prompt "TCP/IP address, enter the address of the system that
    will be receiving the ADT messages created by LAB ADT interface.
  
 8. At the prompt "Port", enter the port associated with the TCP/IP 
     address of the third party system that will be receiving the ADT 
     messages created by the LAB ADT interface.
 
 9. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
    respond NO.
 
 10. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//" respond NO.
  
 
 Example Installation:
 =====================
 
Select Installation Option: INSTall Package(s)
Select INSTALL NAME: LR*5.2*382       Loaded from Distribution  
5/27/08@23:06:14
     =&gt; PATCH 382         ;Created on May 27, 2008@11:25:30
 
This Distribution was loaded on May 27, 2008@23:06:14 with header of 
   PATCH 382 MAY 275  ;Created on May 27, 2008@11:25:30
   It consisted of the following Install(s):
     LR*5.2*382
Checking Install for Package LR*5.2*382
 
Install Questions for LR*5.2*382
 
 
Incoming Mail Groups:
 
Enter the Coordinator for Mail Group 'LRADT INTERFACE ADMIN': 
 
Enter TCP/IP address of LRADT LOGICAL LINK: 0.0.0.0
Enter TCP Port of LRADT LOGICAL LINK:  (1-9999999): 1234
 
Want KIDS to INHIBIT LOGONs during the install? NO// 
Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO// 
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   UCX TELNET SESSION
 
 Install Started for LR*5.2*382 : 
               May 27, 2008@23:06:32
 
Build Distribution Date: May 27, 2008
 
 Installing Routines:
               May 27, 2008@23:06:32
 
 Installing PACKAGE COMPONENTS: 
 
 Installing MAIL GROUP
                                   
LR*5.2*382                                   
--------------------------------------------------------------------------
 
 
 Installing HL LOGICAL LINK
 
 Installing HL7 APPLICATION PARAMETER
 
 Installing PROTOCOL
               May 27, 2008@23:06:32
 
 Running Post-Install Routine: EN^LR382
 
 Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*382 Installed. 
               May 27, 2008@23:06:33
 
 Install Message sent #10850169
--------------------------------------------------------------------------
 
          +------------------------------------------------------------+
  100%    |             25             50             75               |
Complete  +------------------------------------------------------------+
 
 
Install Completed
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;412</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-09-24 15:25:57</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being released in conjunction with VBEC*1*27. Install patch 
VBEC*1*27 to install the routines associated with this patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;334</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-09-24 15:42:53</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
BLOOD BANK CLEARANCE
====================
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*334 does not 
contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
 
EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*334 does not 
alter or modify any software design safeguards or safety critical 
elements functions.
 
RISK ANALYSIS: Changes made by patch LR*5.2*334 have no effect on Blood 
Bank software functionality, therefore RISK is none.
VALIDATION REQUIREMENT BY OPTION: Because of the nature of the changes 
made, no specific validation requirements exist as a result of 
installation of this patch.
====================== 
 
ENHANCEMENTS:
 
Map Lab Tests to LOINC Codes [LR LOINC MAP]
This option has been modified to permit the use of suffixed WKLD CODE 
in the NATIONAL VA LAB CODE (#64) field, of the LABORATORY TEST (#60) 
file. This modified option is located on the LOINC Main Menu [LRLOINC] 
menu
 
Print LOINC Code Status [LR LOINC STATUS PRINT]
This patch will provide an option to list LOINC deprecated terms. The 
option will also provide a list of currently mapped/linked laboratory 
tests that are linked to LOINC deprecated terms. This new option is 
located on the LOINC Mapping Utility Menu [LR LOINC UTILITY] menu. 
 
 
This patch will support "Veterans Health Administration Unique 
Identifiers (VUID) standard. This patch will provide the necessary LAB 
LOINC (#95.3) file data dictionary modifications in support of Data 
Standardization (DS) and the maintenance of those standards by Enterprise 
Reference Terminology (ERT).
 
LAB LOINC (#95.3) file protection has been significantly enhanced to 
prevent field editing of the file. All fields will be populated by the DS 
authority, there are no fields in this file that are site editable.
 
LAB LOINC (#95.3) file contents will be updated to the Regenstrief issued 
LOINC version 2.14.
 
This patch will update the WKLD CODE (#64) file and several laboratory 
standardized files associated with National Laboratory Test (NLT) package 
and Logical Observation Identifier Naming Codes (LOINC) coding. (See list 
below) 
 
File #          File Name               Method
 
64.061  LAB ELECTRONIC CODES            Replaced
64.062  LAB ELECTRONIC SUBTYPES         Replaced
64.2    WKLD SUFFIX CODES               Replaced
64.22   WKLD ITEM FOR COUNT             Replaced
64.3    WKLD INSTRUMENT MANUFACTURER    Replaced
64.81   LAB NLT/CPT CODES               Replaced
95.3    LAB LOINC                       Replaced
95.31   LAB LOINC COMPONENT             Replaced
64      WKLD CODE                       Updated
 
============================
 
LOINC Copyright acknowledgement:
LOINC was Copyrighted 1995, 1996, 1997, by Regenstrief Institute and the 
Logical Observation Identifier Names and Codes (LOINC) Committee.  All 
rights reserved. LOINC is a trademark of the Regenstrief Institute.
Contact information:
LOINC
C/o Regenstrief Institute
1001 West 10th Street, RHC-5
Indianapolis, Indiana 46202 USA
========================
 
VistA Laboratory Package LAB LOINC (#95.3) file does not support all of 
the fields contained in the LOINC database. Refer to the LOINC user's 
manual for more field details. The following fields are imported and 
supported within VistA. The field "(#X)" refers to the field in the LAB 
LOINC (#95.3) file were the data is stored.
 
#    Loinc Term         VistA name
1    LOINC_NUM          CODE field (#.01) + CHECK DIGIT field (#15)
2    COMPONENT          COMPONENT field (#1)+LAB LOINC COMPONENT file
                                (95.31)
3    PROPERTY           PROPERTY field (#2)
4    TIME_ASPCT         TIME ASPECT field (#3)
5    SYSTEM             SYSTEM field (#4)
6    SCALE_TYP          SCALE TYPE field (#5)
7    METHOD_TYP         METHOD TYPE field (#6)
9    CLASS              CLASSTYPE field (#41)
10   SOURCE             SOURCE field (#8)
14   DT_LAST_CH         DATE LAST CHANGED field (#22)
15   CHNG_REAS          CHANGE REASON field (#24)
16   CHNG_TYPE          CHANGE TYPE field (#23)
19   STATUS             STATUS field (#20)
20   MAP_TO             MAP TO field (#21)
23   VA_CD              VA CODE field (#34
59   SHORTNAME          SHORTNAME field (#81)
  
Those local terms not included in the installed files should be formally 
requested by notifying the National Laboratory Test Coordinator using the 
form provided on the VistA Laboratory Documentation Web Page. 
http://vista.domain.ext/clinicalspecialties/lab/
 
Forward your completed request form to the Exchange distribution group:
VHAISD LAB NLT_LOINC
 
===========================
OPTIONS:
 
NEW OPTION:
Print LOINC Code Status [LR LOINC STATUS PRINT]
This patch will provide an option to list LOINC deprecated terms. The 
option will also provide a list of currently mapped/linked laboratory 
tests that are linked to LOINC deprecated terms. This new option is 
located on the LOINC Mapping Utility Menu [LR LOINC UTILITY] menu. 
 
MODIFIED OPTION:
Map Lab Tests to LOINC Codes [LR LOINC MAP]
This option has been modified to permit the use of suffixed WKLD CODE 
in the NATIONAL VA LAB CODE (#64) field, of the LABORATORY TEST (#60) 
file. This modified option is located on the LOINC Main Menu [LRLOINC] 
menu.
 
=========================
 
DATA DICTIONARY MODIFICATIONS:
 
The screen has been removed from "NATIONAL VA LAB CODE" (#64) field, of 
the "LABORATORY TEST" (#60) file. This will permit the use of suffixed 
WKLD CODE in the NATIONAL VA LAB CODE (#64) field, of the LABORATORY 
TEST(#60) file.
 
A cross-reference has been created on the "STATUS" (#20) field of the 
"LAB LOINC" (#95.3) file.
 
The patch creates the following fields in the LAB LOINC (#95.3) file: 
MASTER ENTRY FOR VUID field (#99.98), VUID field (#99.99), and EFFECTIVE 
DATE/TIME field multiple (#99.991) with an Effective DATE/TIME field 
(95.3099,.01) and STATUS field (95.3099,.02) which includes a date/time 
stamp and a status of 'active' or 'inactive' in the files being 
standardized.
 
This patch also modifies data dictionaries to prevent future modification 
to these files at a local site.
 
Routine Summary:
================
 
The following is a list of the routine(s) included in this patch. The
  second line of each of these routine(s) will look like:
  
      &lt;tab&gt;;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                             CHECK^XTSUMBLD results
 
Routine         Checksum         checksum
Name            Before Patch     After Patch   Patch List
 =======        ============     ===========   ==========
LR334           N/A              4244176       334 (deleted by patch)
LR334P          N/A              3802010       334
LR334PO         N/A              9206370       334
LR334POA        N/A              2989047       334
LR7OU5          13182116         12982551      127,201,272,334
LRLNCC          2634007          2869430       232,280,334
LRLNCST         N/A              5628677       334
 
 
ASSOCIATED NOIS:
===============
N/A
 
ASSOCIATED E3R:
==============
N/A
   
TEST SITES:
==========
Biloxi VAMC, MS
Boston HCS, MA
El Paso HCS, TX
North Chicago VAMC, IL
Salt Lake VAMC, UT
San Antonio VAMC, TX
Shreveport VAMC, LA
Tucson VAMC, AZ
 
 
Required Builds:
==========================
LR*5.2*272
LR*5.2*302
LR*5.2*232
LR*5.2*280
XU*8.0*299
XT*7.3*93
HDI*1.0*1
 
Installation Instructions:  
========================= 
 
The patch LR*5.2*334 KIDS build file named LR_52_334.KID is stored in the 
ASCII format.
 
LAB_52_p334_IMPG.doc; VistA National Laboratory Test (NLT)/Logical 
Observation Identifier Naming Codes (LOINC) V2.14 Update Implementation 
Guide Patch LR*5.2*334 Version 5.2 - stored in a BINARY format.
 
LAB_52_p334_IMPG.pdf; VistA National Laboratory Test (NLT)/Logical 
Observation Identifier Naming Codes (LOINC) V2.14 Update Implementation 
Guide Patch LR*5.2*334 Version 5.2 - stored in a BINARY format.
 
All files can be obtained from the following Office of Information 
Field Offices (OIFOs) ANONYMOUS SOFTWARE directories. All sites are 
encouraged to use the File Transfer Protocol (FTP) capability. Use the 
FTP address "download.vista.domain.ext" (without the quotes) to connect  
to the first available FTP server were the files are located.
OIFO         FTP Address                Directory
Albany       ftp.fo-albany.domain.ext   anonymous.software 
Hines        ftp.fo-hines.domain.ext    anonymous.software
Salt Lake    ftp.fo-slc.domain.ext      anonymous.software
  
All users may remain on the system. Installation time is less than 30 
minutes.
 
Note: The patch should be installed during off peak hours.
 
No laboratory background jobs need to be stopped. No options need to be 
placed out of service.
 
LABORATORY USERS MUST NOT ACCESSION SPECIMENS OR ENTER/VERIFY RESULTS
DURING THE INSTALLATION because several reference files are being deleted 
and replaced with this patch.
 
============================                           
 
From the Kernel Installation &amp; Distribution System (KIDS) menu 
 
         1. Use the 'Load a Distribution' option to load the 
            LR_52_334.KID file onto your system.
         2. The patch has now been loaded into a Transport global
            on your system. You now need to use KIDS to install
            the Transport global.
            On the KIDS menu, under the 'Installation' menu, use 
            the following options:
                Print Transport Global 
                Compare Transport Global to Current System
                Verify Checksums in Transport Global
                Backup a Transport Global
         3. Users may remain on the system, but installation 
            should be done at off peak hours.
         4. Installation time is less than 30 minutes during off 
            peak hours and less than 45 minutes during peak hours.
         5. Installation of this patch requires no additional 
            memory space.
         6. From the 'Installation Menu' of the KIDS menu, run the 
            option
            'Install Package(s)' Select the package 'LR*5.2*334' 
            and proceed with the install.
          7. Want KIDS to Rebuild Menu Trees Upon Completion of Install? 
             YES// respond 'YES'
 
              Note: Answering yes can significantly increase install time.
 
          8. When prompted 'Want KIDS to INHIBIT LOGONS during the
            install? YES//' respond NO.
          9. When prompted 'Want to DISABLE scheduled Options, Menu
            Options, and Protocols? YES//' respond NO.
 
================
Example of install:
 
Select INSTALL NAME:    LR*5.2*334
     Loaded from Distribution  10/13/05@14:50:38
     =&gt; NLT/LOINC v2.14 Update  ;Created on Oct 13, 2005@13:46:31
 
This Distribution was loaded on Oct 13, 2005@14:50:38 with header of 
   NLT/LOINC v2.14 Update  ;Created on Oct 13, 2005@13:46:31
   It consisted of the following Install(s):
     LR*5.2*334
Checking Install for Package LR*5.2*334
Will first run the Environment Check Routine, LR334
 
                        --- Environment Check is Ok ---
 
                Sending install loaded alert to mail group G.LMI
 
Install Questions for LR*5.2*334
 
Incoming Files:
 
   60        LABORATORY TEST  (Partial Definition)
Note:  You already have the 'LABORATORY TEST' File.
 
   64        WKLD CODE
Note: You already have the 'WKLD CODE' File.
 
   64.061    LAB ELECTRONIC CODES  (including data)
Note:  You already have the 'LAB ELECTRONIC CODES' File.
I will OVERWRITE your data with mine.
 
   64.062    LAB ELECTRONIC SUBTYPES  (including data)
Note:  You already have the 'LAB ELECTRONIC SUBTYPES' File.
I will OVERWRITE your data with mine.
 
   64.2      WKLD SUFFIX CODES  (including data)
Note:  You already have the 'WKLD SUFFIX CODES' File.
I will OVERWRITE your data with mine.
 
   64.22     WKLD ITEM FOR COUNT  (including data)
Note:  You already have the 'WKLD ITEM FOR COUNT' File.
I will OVERWRITE your data with mine.
 
   64.3      WKLD INSTRUMENT MANUFACTURER  (including data)
Note:  You already have the 'WKLD INSTRUMENT MANUFACTURER' File.
I will OVERWRITE your data with mine.
 
   64.81     LAB NLT/CPT CODES  (including data)
Note:  You already have the 'LAB NLT/CPT CODES' File.
I will OVERWRITE your data with mine.
 
   95.3      LAB LOINC  (including data)
Note:  You already have the 'LAB LOINC' File.
I will OVERWRITE your data with mine.
 
   95.31     LAB LOINC COMPONENT  (including data)
Note:  You already have the 'LAB LOINC COMPONENT' File.
I will OVERWRITE your data with mine.
 
Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//YES 
 Note: Answering yes can significantly increase install time.
 
Want KIDS to INHIBIT LOGONs during the install? YES// NO
Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
Enter the Device you want to print the Install messages.
You can queue the install by enter a 'Q' at the device prompt.
Enter a '^' to abort the install.
 
DEVICE: HOME//   UCX/TELNET
 
 Install Started for LR*5.2*334 : 
               Oct 13, 2005@15:07:27
 
Build Distribution Date: Oct 13, 2005
 
 Installing Routines:
               Oct 13, 2005@15:07:27
 
 Running Pre-Install Routine: PRE^LR334
 
 .                         *** Preinstall completed ***
 
 Installing Data Dictionaries: 
               Oct 13, 2005@15:07:27
 
 Installing Data: 
               Oct 13, 2005@15:17:30
 
 Installing PACKAGE COMPONENTS: 
 
 Installing OPTION
               Oct 13, 2005@15:17:30
 
 Running Post-Install Routine: POST^LR334 . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . .
 
 .                       Building List Of Added NLT CODEs
 .
 .                      Sending message to LMI Mail Group.
 .
 .                       List Of Added WKLD CODEs Complete
..........................................................................
.....
 
              Sending install completion alert to mail group G.LMI
 
 .                       Updating Routine file...
 
 Updating KIDS files...
 
 LR*5.2*334 Installed. 
               Oct 13, 2005@15:20:24
 
 Install Message sent #XXXXX
 
 Call MENU rebuild
 
Starting Menu Rebuild:  Oct 13, 2005@15:20:26
 
Collecting primary menus in the New Person file...
 
 .                   Primary menus found in the New Person file
 .                   ------------------------------------------
 
 
DIUSER      VA FileMan        1          06/04/92   10/05/05
 
Building secondary menu trees....
 
Merging.... done.
 
Menu Rebuild Complete:  Oct 13, 2005@15:20:40
          
 
Install Completed
 
 
LIM: Review description for LR*5.2*334 use KIDS:Utilities: Build File 
Print
 
POST INSTALLATION INSTRUCTIONS:
=============================
Review installed LOINC codes to ensure that codes with the status of 
Deprecated (DEL) are not used in your current mapping of LOINC codes. In 
some cases, deprecated LOINC codes [LAB LOINC (#95.3) file, MAP TO (#21) 
field] will have the suggested replacement LOINC code populated.
 
Note:
If your site is a HOST LEDI site, changing of any LOINC or NLT codes 
should be coordinated with the collection site to ensure that both sites 
agree in LOINC and NLT mappings.
 
Note:
 Please refer to the VistA NLT/LOINC V2.14 UPDATE Patch LR*5.2*334 
 Implementation Guide which provides the Laboratory Information 
 Manager (LIM) a task-oriented approaches with step-by-step 
 instructions and examples for mapping LOINC V2.14 codes.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;350</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-09-24 15:45:53</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Refer to National Patch Module.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;420 SEQ #333</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-11-01 11:57:40</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;418 SEQ #334</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-12-14 11:33:46</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses 3 LOINC-related issues in the Lab
package.
 
1.      Option LR LOINC LOOKUP won't accept default.
 
2.      Option LR LOINC PRINT RESULT NLT prints MI (Microbiology) and BB 
    (Blood Bank) tests when it should only print CH (Chemistry) tests.
 
3.      Option LR LOINC PRINT RESULT NLT prints profiles (cosmic tests)
    when it should only print individual tests (atomic tests).
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;423 SEQ #335</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-04-10 17:42:21</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
 
This patch is a VM patch that addresses 2 issues in the Lab package.
 
 
 
1.      In building the collection list, if an order fails to accession,
    sometimes subsequent orders fail to accession for the same reason
    even though the subsequent orders are ok.
 
2.      Laboratory-related locking issues when doing accessioning
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;426 SEQ #336</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-04-22 10:45:03</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
INPUT TRANSFORM ERROR IS CAUSING DATA VERIFICATION ERROR.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;417 SEQ #337</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-06-14 09:07:29</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses 7 HOWDY-related issues in the Lab
package.
 
1.      Option LRHY PPOC LABEL PRINT does not print an accession label
    when only one accession is selected from a group of 2 or more 
    accessions.
 
2.      Option LRHY PPOC LABEL PRINT has sequence numbers, accession
    numbers, and collection samples running together on the screen.
 
3.      MI subscripted (Microbiology) tests will not accession in HOWDY
    if the MI test is on its own order and the site/specimen is not
    urine.
 
4.  The option LRHY PATIENT WAIT TIME reports inaccurate times.
 
5.  True accession number not appearing on LRHY PATIENT WAIT TIME
    report.
 
6.  &lt;SUBSCRIPT&gt; error in option LRHY TRACK COLLECTION.
 
7.  Invalid link in HOWDY document.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;429 SEQ #338</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-09-18 11:39:44</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that replaces a direct read of file #80 (ICD
Diagnosis) with a call to a standard API ($$ICDDX^ICDCODE) in the form
LREPI9.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;432 SEQ #339</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-09-30 10:10:59</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is general maintenance patch for the laboratory
package by the Vista Maintenance team that addresses
issues related to screening for file #44 (Hospital
Location) and an accessioning issue.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;427</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-09-30 10:18:08</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;425 SEQ #341</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-09-30 10:19:10</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The following Lab changes or enhancements are included in this build:
 
 1) CPRS API for Lab to call when a test is modified
 2) Changes to identify File 60 changes that impact CPRS Quick Orders
 3) National Lab Release: Hospital Location Change Management Tool
 4) National Lab Release: Lab Test File 60 Audit Tool
 5) National Lab Release: Inactivation of Collection Samples File Entries
 6) National Lab Release: Inactivation of Topography File Entries
 7) National Lab Release: Lapsed Orders
 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;436 SEQ #342</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-01-14 15:18:02</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses the following issue(s):
1. When printing a CAPTIONED template report in VA FileMan with the 
printing of computed fields turned on for the ACCESSION (#68) file all of
the values printed for the HOSPITAL ID (#.09) computed field will be the
same. It will print a different value for each different AREA (#.01) and
use that value for all patients with accessions in that AREA (#.01)
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;430 SEQ #343</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-02-21 10:13:09</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is a general maintenance patch for the laboratory
package by the Vista Maintenance team that addresses
issues with the Howdy software relating to exclusionary
functionality and also issues with the Howdy Wait Time
report and the Howdy Track Collection report.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;435 SEQ #344</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-03-03 14:38:28</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses issues in the lab package
related to the VHIC 4.0 card.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;416 SEQ #345</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-03-03 14:38:38</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is a VM patch that addresses 3 issues in the Lab package.
 
1.  Option LRCENLKUP (Review By Order Number) gives misleading
    information when 1 sample of a multi-sample order is not
    collected.
 
2.  The option LRAPFICH (Print final path reports by accession number)
    prints the wrong year on the SNOMED CODE LISTING which is printed
    at the end of the pathology report for some AP accessions.
 
3.  Autopsy reports not viewable in CPRS.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;433 SEQ #346</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-03-04 12:10:14</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Lab Version 5.2 Patch 433 - Anatomical Pathology Image Framework
 
 
Routines:
LR7OB63D    new value = 29564352
LRAPED    new value = 33912945
LRAPEDC    new value = 5938079
LRAPLG1    new value = 169348471
LRAPRES    new value = 188361634
LRUDEL    new value = 25303229
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;424 SEQ #347</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-03-06 10:04:32</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will resolve the following issues in the Laboratory package:
 
-Lab test accessioned without appropriate accession area
-&lt;SUBSCRIPT&gt; error when using Enter/verify data (auto instrument) option
-&lt;UNDEFINED&gt; error when editing Autopsy Acc #
-LOINC code not appearing in panel tests
</pre>
</dt>
</li>
</ol>
</dd></dl>
</li>
</ol>
</td>
</tr>
<tr>
<td>ENVIRONMENT CHECK ROUTINE</td>
<td>LRIPRECK</td>
</tr>
<tr>
<td>ENVIRONMENT CHECK DONE DATE</td>
<td>1996-06-10 16:14:58</td>
</tr>
<tr>
<td>POST-INITIALIZATION ROUTINE</td>
<td>LRIPOS</td>
</tr>
<tr>
<td>POST-INIT COMPLETION DATE</td>
<td>1996-06-10 16:41:07</td>
</tr>
<tr>
<td>PRE-INIT AFTER USER COMMIT</td>
<td>LRIPRE</td>
</tr>
<tr>
<td>PRE-INIT COMPLETION DATE</td>
<td>1996-06-10 16:15:44</td>
</tr>
<tr>
<td>EXCLUDED NAME SPACE</td>
<td>
<ol>
<li>
<dt>EXCLUDED NAME SPACE:  &nbsp;&nbsp;LRZ</dt>
</li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</body></html>