<html>
<link rel="stylesheet" href="../datatable/css/demo_page.css" type="text/css" id=""/>
<link rel="stylesheet" href="../datatable/css/demo_table.css" type="text/css" id=""/>
<link rel="stylesheet" href="../style.css" type="text/css" id=""/>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../datatable/js/jquery.dataTables.js"></script>
<!-- Google Analytics -->
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-43872538-6', 'osehra.org');
 ga('send', 'pageview');
</script>


<script type="text/javascript" id="js">
  $(document).ready(function() {
  // call the tablesorter plugin
      $("#OS40LTIwMg").dataTable({
        "bPaginate": false,
        "bLengthChange": false,
        "bInfo": false,
        "bStateSave": true,
        "bSort": false
      });
}); </script>

<body id="dt_example"><div id="container" style="width:80%"><h1>My HealtheVet (202) &nbsp;&nbsp;  PACKAGE (9.4)</h1>
<div id="demo"><table id="OS40LTIwMg" class="display">
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>My HealtheVet</td>
</tr>
<tr>
<td>PREFIX</td>
<td>MHV</td>
</tr>
<tr>
<td>SHORT DESCRIPTION</td>
<td>Support for My HealtheVet web site.</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td><pre>
This package supports the My HealtheVet website.  It exposes interfaces 
for extracting patient data, supporting prescription refill, and more.
</pre>
</td>
</tr>
<tr>
<td>DEVELOPER (PERSON/SITE)</td>
<td>Gary Monger/OI Silver Spring</td>
</tr>
<tr>
<td>CLASS</td>
<td>National</td>
</tr>
<tr>
<td>CURRENT VERSION</td>
<td>1.0</td>
</tr>
<tr>
<td>VERSION</td>
<td>
<ol>
<li>
<dt>VERSION:  &nbsp;&nbsp;1.0</dt>
<dt>DATE DISTRIBUTED:  &nbsp;&nbsp;2005-11-19 00:00:00</dt>
<dt>DATE INSTALLED AT THIS SITE:  &nbsp;&nbsp;2005-09-05 00:00:00</dt>
<dt>INSTALLED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION OF ENHANCEMENTS:  &nbsp;&nbsp;<pre>
The is the initial release the My HealtheVet package.  It defines HL7 
interfaces for supporting internet prescription refill and queries for 
prescription information.
</pre>
</dt>
<dl><dt>PATCH APPLICATION HISTORY:</dt>
<dd>
<ol>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;1 SEQ #1</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-08-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
DESCRIPTION:
============
 
The MHV 1.0 release for MHV Rx Refill went to the field with logging to a
TMP global left on.  The non-standard use of TMP by the MHV log causes
the TMP entries to not be cleaned up automatically.
This patch will turn off logging in the HL7 receiver routines allowing it
to be switched on and off externally as designed.  An XTMP global will be
used instead of TMP.  Options will be added to control logging and to
facilitate automatically purging the log.  A post-init will run to clean
up any existing TMP("MHV7LOG") entries.
 
A new menu, MHV LOG MENU, has been added.  The log provides information 
of use to MHV developers, and should only be used by IRM staff in the 
event troubleshooting an MHV interface becomes necessary.  The MHV user 
manual provides information on how to use these options.
Included options are:
        MHV LOG CONFIG     Configure Logging Parameters
        MHV LOG INFO       Display Log Information
        MHV LOG OFF        Turn Off Logging
        MHV LOG ON         Turn On Logging
        MHV LOG PURGE      Purge Log
        MHV LOG SIZE       Display Log Size
        MHV LOG VIEW       View Log Entries
 
A new option has been added, MHV CLIENT, as a broker context for a future 
MHV GUI client.  The following remote procedures are also included:
        MHV LOG INFO
        MHV LOG OFF
        MHV LOG ON
        MHV LOG PURGE
        MHV LOG SIZE
        MHV LOG CONFIG
        MHV LOG SUMMARY
        MHV LOG DETAIL
 
The MHV 1.0 release went to the field with two HL7 protocols having the
"debug" flag set.  These event driver protocols will be released with the 
flag turned off.  The following protocols are being shipped:
        MHV OMP-O09 Event Driver
        MHV OMP-O09 Subscriber
        MHV QBP-Q13 Event Driver
        MHV QBP-Q13 Subscriber
 
 
Associated Remedy Ticket
====================
HD 131029
 
Test Sites
==========
Tampa VAMC
Bay Pines VAMC
Baltimore VAMC
VISN 2 
 
 
INSTALLATION INSTRUCTIONS
==========================
The patch is distributed in KIDS format in a PackMan message.
 
This patch requires MHV 1.0
 
 
                       **WARNING**
 
Inbound HL7 messages for MHV should not be processed during installation
of this patch. All incoming filers should be stopped before installation.
  
Before you install this patch in production, please identify all the
production node(s) that have the TMP("MHV7LOG") global.  This should be
the same node(s) running the HL7 Listener.  You will need to log on to
each of these node(s) and run the post-init routine CLEANLOG^MHV1P1 will
delete the global entries since TMP is not translated.  The
TMP("MHV7LOG") global should have many entries.
 
                           ****
 
 
                       **Notice**
This patch includes new options.
When an option is included in the patch build, the question REBUILD MENUS
is asked as a PRE-INSTALL question. If you choose to have KIDs rebuild
the menus it will happen at the end of the build installation and may
take several hours.
 
Note: Most sites have a nightly batch job that rebuilds the menus so if
you queued the installations ensure that it will complete prior to the
batch job.  Or, if you are installing several builds, wait until the
last one to use the KIDs rebuild functionality.
 
                          ****
 
The install time for this patch is less than 5 minutes. This patch can be
installed with users on the system.
 
 
 
 1.  These routines should not be mapped.
 
 2.  Unload the distribution
     Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
 
 3.  Stop all incoming filers.
     On the 'Filer and Link Management Options' menu, select the
     'Monitor, Start, Stop Filers' option.  At that menu level, choose
     the action 'Stop incoming filer' to stop each incoming filer.
 
 4.  Install the transport global.
     From the Kernel Installation and Distribution System Menu,
     select the Installation menu.
 
 5.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter MHV*1.0*1):
     a.  Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch.  It will NOT
         backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
         the transport global.
     d.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
 
 6.  Use the 'Install Package(s)' option under the 'Installation' menu
     and select the package 'MHV*1.0*1'.
 
 7.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
     Install? YES//',  Respond as fits your situation, see note above.
 
 8.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//',  respond NO.
 
 9.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', choose 'NO'.
 
10.  At the DEVICE prompt, you can send your output to any printer or
     HFS file, display it on the terminal screen, or queue it to run
     at a scheduled time.
 
11.  After the install, restart the incoming filers.
     On the 'Filer and Link Management Options' menu, select the
     'Monitor, Start, Stop Filers' option.  At that menu level, choose
     the action 'Start incoming filer' to start the default number of
     incoming filers.
 
12.  Log on to each node running the HL7 listener and run the post init
     Routine CLEANLOG^MHV1P1.
 
 
  
ROUTINE SUMMARY:
================
The following is a list of the routine(s) included in this patch.  The
second line of each of these routine(s) will look like:
 
     &lt;tab&gt; ;;1.0;My HealtheVet;**1**;Aug 23, 2005
 
                            CHECK^XTSUMBLD results
Routine name      Before Patch          After Patch         Patch List
============      ============          ===========         ==========
MHV1P1            N/A                   674288                1
MHV7R1            7907937               7704915               1
MHV7R2            8857636               8693511               1
MHV7U             6547453               7067072               1
MHVUL1            N/A                   5527922               1
MHVUL2            N/A                   5279644               1
MHVUL3            N/A                   10342175              1
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;2 SEQ #2</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-20 15:50:28</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
MHV*1*2 PHR Infrastructure
 
Summary
-------
MHV*1*2 delivers infrastructure changes in support of upcoming Personal 
Health Record (PHR) HL7 interfaces. It also consolidates features common 
to message receivers and builders, and encapsulates interaction with the 
HL7 v1.6 package to ease transition to HLO based interfaces should that 
become necessary.  Most routines were modified to take advantage of the 
logging features released with MHV*1*1.
 
 
Detailed Description
--------------------
MHV*1*2 releases a number of infrastructure changes to improve interface 
development and support.  Processing common to many interfaces such as 
validating patient identifiers, and common segment builders has been 
consolidated into centralized functions.  Use of HL7 package APIs and 
variables has been moved from individual interfaces and encapsulated in 
centralized functions.  If a move from HL7 v1.6 to the new HLO engine 
becomes necessary, the impact will be minimized.  All interfaces and 
extractors have been updated to use the logging utility introduced with 
MHV*1*1.  The message transmitter now provides support for extractors 
that need to use a local array to hold extracted data.  
 
The MHV Rx refill interfaces introduced with MHV 1.0 use original mode 
acknowledgements, a synchronous call into VistA, and do not require a 
logical link to respond to the MHV system.  The MHV HL7 interface 
framework also supports enhanced mode acknowledgments, an asynchronous 
call into VistA.  The PHR HL7 interfaces will use enhanced mode 
acknowledgements, and require a logical link to define the connection to 
the MHV system.  The new link is MHVVA and is distributed with this 
patch.  This link references a new domain, MHV.DOMAIN.EXT, but does not 
require this domain to be entered in the DOMAIN file (#4.2).
 
Event driver and subscriber protocols for the RTB^K13 query response 
message and the ORP^O10 order response message are being released to 
support a future change in Rx refill messaging from original mode 
acknowledgements to enhanced mode acknowledgements.
 
MHV*1*2 updates the MHV REQUEST TYPE file #2275.3 with entries to support 
the new PHR interfaces.  These entries are disabled by having the BLOCKED 
field #.03 set to YES.  A new field, ROUTINE BUILDER field #.06, holds 
the name of the query specific builder routine used by RTB^K13 types.  A 
new field DESCRIPTION field #2 provides a brief description of the 
interface supported by that request type.
 
The MHV RESPONSE MAP file #2275.4 is new with this release.  It is used 
to map inbound messages to the protocol and routine used to create the 
response message, and the segment used to break messages on a whole 
record boundary.
 
PHR HL7 interfaces have the potential to carry very large messages.  
MHV*1*2 introduces the ability to break those messages into multiple 
smaller messages for a "bolus" style response.
 
MHV*1*2 fixes a bug where the TX field formatter did not correctly 
calculate the size of the data put in the field, and thus could not 
enforce field size constraints.  This issue was not encountered in 
production because existing interfaces do not require such constraints.  
The TX field formatter was rewritten to use an improved algorithm and fix 
this bug.
 
MHV*1*2 also fixes a bug where an incorrect ACK code and segment 
descriptor could be returned on negative acknowledgments triggered by the 
request manager.  This issue was not encountered in production because 
the conditions required to trigger it have not occurred.  These are 
improper interface configuration, and catastrophic data integrity errors.
 
The pre-init routine PRE^MHV1P2 turns on MHV Application Logging.  It 
will log information about MHV HL7 messages received during the patch 
install.  This is only a precaution as the MHV application is tolerant of 
messaging failures that might be caused by loading the patch.  If a 
message was received during the patch installation, you will be notified 
and asked to check the error trap for errors in the MHV namespace.  If 
any are found, you should log a remedy ticket.
The post init routine POST^MHV1P2 will update the MHVVA logical link and 
turn off MHV Application Logging.  For test systems, it will remove data 
from the DNS DOMAIN (#.08), TCP/IP ADDRESS (#400.01), and TCP/IP PORT 
(#400.02) fields and set AUTOSTART (#4.5) to Disabled.  For production 
systems, it will ensure the correct values are in the DNS DOMAIN (#.08), 
TCP/IP ADDRESS (#400.01), and TCP/IP PORT (#400.02) fields and set 
AUTOSTART (#4.5) to Enabled.
 
 
New Service Request (NSR):
--------------------------
There is no NSR associated with this patch.
 
 
Remedy Ticket(s):
-----------------
There are no Remedy tickets associated with this patch.
 
 
Components Sent With Patch 
--------------------------
File:
   MHV REQUEST TYPE      (#2275.3)
                Update DD: YES
       Send Security Code: YES
     Date Comes With File: YES
                Site Data: REPLACE
         Resolve Pointers: NO
 
   MHV RESPONSE MAP      (#2275.4)   - New file
                Update DD: YES
       Send Security Code: YES
     Date Comes With File: YES
                Site Data: REPLACE
         Resolve Pointers: NO
 
Field:
   BUILDER ROUTINE (#.06)   File: MHV REQUEST TYPE (#2275.3)
   DESCRIPTION (#2)         File: MHV REQUEST TYPE (#2275.3)
   NAME (#.01)              File: MHV RESPONSE MAP (#2275.4)
   RESPONSE PROTOCOL (#.02) File: MHV RESPONSE MAP (#2275.4)
   BUILDER ROUTINE (#.03)   File: MHV RESPONSE MAP (#2275.4)
   BOUNDARY SEGMENT (#.04)  File: MHV RESPONSE MAP (#2275.4)
 
Routine:
MHV1P2          MHV7B0          MHV7B1         MHV7B1B         
MHV7B2          MHV7BU          MHV7BUS        MHV7R1          
MHV7R2          MHV7RU          MHV7RUS        MHV7T           
MHV7TB          MHV7U           MHVRQI         MHVU1
MHVU2           MHVUL2          MHVXRX         MHVXRXR  
 
Protocol:
   MHV ORP-O10 Event Driver
   MHV ORP-O10 Subscriber  
   MHV RTB-K13 Event Driver
   MHV RTB-K13 Subscriber  
 
HL Logical Link:
   MHVVA    
 
 
Documentation Retrieval:
------------------------ 
The software for this patch is distributed as KIDS build MHV*1.0*2.
The My HealtheVet Technical Manual is available through the VistA 
Documentation Library (VDL) at the following address:
  
   http://www.domain.ext/vdl/HealtheVet.asp?appID=153
 
 
Test Sites:
-----------
Detroit
Long Beach
Washington
Boston
Richmond
 
 
 
  ================INSTALLATION INSTRUCTIONS =================
 
The patch is distributed in KIDS format in a PackMan message.
 
This patch requires MHV*1*1
 
Install time - less than 5 minutes. 
 
This patch can be installed with users on the system, and should be 
installed during off-peak hours.  No options need to be disabled to 
install this patch.
 
 
Pre/Post Installation Overview
------------------------------
The pre-init routine PRE^MHV1P2 turns on MHV Application Logging.  It 
will log information about MHV HL7 messages received during the patch 
install.  This is only a precaution as the MHV application is tolerant of 
messaging failures that might be caused by loading the patch.  If a 
message was received during the patch installation, you will be notified 
and asked to check the error trap for errors in the MHV namespace.  If 
any are found, you should log a remedy ticket.
The post init routine POST^MHV1P2 will update the MHVVA logical link and 
turn off MHV Application Logging.  For test systems, it will remove data 
from the DNS DOMAIN (#.08), TCP/IP ADDRESS (#400.01), and TCP/IP PORT 
(#400.02) fields and set AUTOSTART (#4.5) to Disabled.  For production 
systems, it will ensure the correct values are in the DNS DOMAIN (#.08), 
TCP/IP ADDRESS (#400.01), and TCP/IP PORT (#400.02) fields and set 
AUTOSTART (#4.5) to Enabled.
    
 
1.  LOAD TRANSPORT GLOBAL 
    ---------------------
    Choose the PackMan message containing this patch and invoke the 
    INSTALL/CHECK MESSAGE PackMan option.  
             
2.  START UP KIDS 
    -------------
    Start up the Kernel Installation and Distribution System Menu 
    [XPD MAIN]: 
   
         Edits and Distribution ...  
         Utilities ...  
         Installation ...  
   
Select Kernel Installation &amp; Distribution System Option: INStallation 
                                                         ---
         Load a Distribution 
         Print Transport Global 
         Compare Transport Global to Current System 
         Verify Checksums in Transport Global 
         Install Package(s) 
         Restart Install of Package(s) 
         Unload a Distribution 
         Backup a Transport Global 
   
Select Installation Option: 
   
3.  Select Installation Option: 
    ---------------------------
    NOTE:  The following are OPTIONAL - (When prompted for the
           INSTALL NAME, enter MHV*1.0*2):
      
    a.  Backup a Transport Global - This option will create a backup
        message of any routines exported with this patch. It will not
        backup any other changes such as DD's or templates.
    b.  Compare Transport Global to Current System - This option will
        allow you to view all changes that will be made when this
        patch is installed.  It compares all components of this patch
        (routines, DD's, templates, etc.).
    c.  Verify Checksums in Transport Global - This option will allow
        you to ensure the integrity of the routines that are in the
        transport global.
     
4.  Select Installation Option: Install Package(s) 
    ----------------------------------------------
    **This is the step to start the installation of this KIDS patch: 
   
    a.  Choose the Install Package(s) option to start the patch
        install.
b.      When prompted 'Want KIDS to INHIBIT LOGONs during the
        install? YES//' answer NO 
    c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
        Options, and Protocols? YES//' answer NO
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;5 SEQ #3</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-22 11:34:55</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
MHV*1*5 Secure Messaging
 
Summary
-------
MHV*1*5 delivers HL7 interfaces needed to support Secure Messaging.  
Secure Messaging leverages the existing TIUHL7 interface to save message 
threads as progress notes.  MHV*1*5 installs the components necessary to 
use the TIUHL7 interface.  MHV*1*5 also installs a new demographics query 
used to support secure messaging.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;6 SEQ #4</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-22 11:35:05</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Summary
-------
MHV*1*6 delivers the HL7 interfaces needed to support Secure Messaging.  
There are nine new queries in the MHV namespace that support the 
administration and daily operation of the Secure Messaging enterprise 
system. MHV*1*6 installs the components necessary to execute the admin
queries to retrieve information on patients, providers, clinics, and
teams.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;9 SEQ #5</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2011-12-07 15:18:43</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
  
MHV*1*9 Secure Messaging
  
Summary
-------
When My HealtheVet (MHV) Secure Messaging (SM) patients are assigned to
Primary Care Management Module (PCMM) teams other than their Primary Care
provider team, their MHV SM PCMM Primary Care provider association is broken.
This results in MHV SM users not able to send messages to/from their
SM Primary Care team.
     
MHV*1*9 uses a different support PCMM call to always return the patient's
 currently assigned, Primary Care provider.
  
  
Detailed Description
--------------------
Secure Messaging allows patients and clinicians to email each other securely
and confidentially, and allows clinicians to post those email threads to the
medical record as progress notes.
     
Relationships between patients and clinicians are established based on
PCMM providers, clinic appointments and Order Entry/Results Reporting (OE/RR)
teams.  Secure Messaging uses triage groups based on these relationships to
manage which patients are able to email which providers.  More information
on Secure Messaging can be found on the MHV product web site
     
http://vaww1.domain.ext/MyHealtheVet/, and MHV web site www.myhealth.domain.ext.
     
When patients are assigned to other PCMM teams their MHV SM PCMM provider
association is broken.  This results in MHV SM users not able to send messages
to/from their SM Primary Care team.
             
Before this patch, MHV application routines (MHVXPAT and MHVXDEMS) call,
IA#1916 SCAPMC - SUPPORTED PCMM CALLS, application programmer interface (API)
call to $$PRPT^SCAPMC() to return a patient's Primary Care provider to MHV SM.
This API does not always return the current Primary Care provider.
     
MHV*1*9 patch resolves the issue by always returning the SM patient's Primary Care
provider using the support call, IA#1252 PRIMARY CARE INPUT AND OUTPUT API CALLS,
API $$OUTPTPR^SDUTL3().
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;10 SEQ #6</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2013-06-19 14:33:56</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
</li>
</ol>
</dd></dl>
</li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</body></html>