<html>
<link rel="stylesheet" href="../datatable/css/demo_page.css" type="text/css" id=""/>
<link rel="stylesheet" href="../datatable/css/demo_table.css" type="text/css" id=""/>
<link rel="stylesheet" href="../style.css" type="text/css" id=""/>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../datatable/js/jquery.dataTables.js"></script>
<!-- Google Analytics -->
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-43872538-6', 'osehra.org');
 ga('send', 'pageview');
</script>


<script type="text/javascript" id="js">
  $(document).ready(function() {
  // call the tablesorter plugin
      $("#OS40LTgy").dataTable({
        "bPaginate": false,
        "bLengthChange": false,
        "bInfo": false,
        "bStateSave": true,
        "bSort": false
      });
}); </script>

<body id="dt_example"><div id="container" style="width:80%"><h1>CMOP (82) &nbsp;&nbsp;  PACKAGE (9.4)</h1>
<div id="demo"><table id="OS40LTgy" class="display">
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>CMOP</td>
</tr>
<tr>
<td>PREFIX</td>
<td>PSX</td>
</tr>
<tr>
<td>SHORT DESCRIPTION</td>
<td>Consolidated Mail Outpatient Pharmacy</td>
</tr>
<tr>
<td>FILE</td>
<td>
<ol>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-552.html">CMOP NATIONAL SITE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-553.html">CMOP INTERFACE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-552.2.html">CMOP DATABASE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-552.1.html">CMOP REFERENCE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-552.4.html">CMOP MASTER DATABASE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-553.1.html">CMOP QUERY</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-52.html">PRESCRIPTION</a></dt>
<dl><dt>FIELD:</dt>
<dd>
<ol>
<li>
<dt>FIELD:  &nbsp;&nbsp;CMOP EVENT</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;LOT/EXP</dt>
</li>
</ol>
</dd></dl>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")'?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-50.html">DRUG</a></dt>
<dl><dt>FIELD:</dt>
<dd>
<ol>
<li>
<dt>FIELD:  &nbsp;&nbsp;CMOP DISPENSE</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;ACTIVITY LOG</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;DISPENSE UNIT</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;NUMBER</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;GENERIC NAME</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;DEA, SPECIAL HDLG</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;SYNONYM</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;REORDER LEVEL</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;ORDER UNIT</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;PRICE PER ORDER UNIT</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;NORMAL AMOUNT TO ORDER</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;DISPENSE UNITS PER ORDER UNIT</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;PRICE PER DISPENSE UNIT</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;APPLICATION PACKAGES' USE</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;MESSAGE</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;QUANTITY DISPENSE MESSAGE</dt>
</li>
<li>
<dt>FIELD:  &nbsp;&nbsp;CMOP ID</dt>
</li>
</ol>
</dd></dl>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-52.5.html">RX SUSPENSE</a></dt>
<dl><dt>FIELD:</dt>
<dd>
<ol>
<li>
<dt>FIELD:  &nbsp;&nbsp;CMOP INDICATOR</dt>
</li>
</ol>
</dd></dl>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")'?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;File: 1, IEN: 51.5</dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;MERGE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-54.html">RX CONSULT</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;YES</dt>
<dt>MERGE OR OVERWRITE SITE'S DATA:  &nbsp;&nbsp;MERGE</dt>
<dt>MAY USER OVERRIDE DATA UPDATE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-550.2.html">CMOP TRANSMISSION</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-550.1.html">CMOP RX QUEUE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-550.html">CMOP SYSTEM</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;YES</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-552.5.html">CMOP COST STATS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-554.html">CMOP OPERATIONS</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
<li>
<dt>FILE:  &nbsp;&nbsp;<a href="1-552.3.html">CMOP RELEASE</a></dt>
<dt>UPDATE THE DATA DICTIONARY:  &nbsp;&nbsp;YES</dt>
<dt>ASSIGN A VERSION NUMBER:  &nbsp;&nbsp;NO</dt>
<dt>MAY USER OVERRIDE DD UPDATE:  &nbsp;&nbsp;NO</dt>
<dt>DATA COMES WITH FILE:  &nbsp;&nbsp;NO</dt>
<dt>SCREEN TO DETERMINE DD UPDATE:  &nbsp;&nbsp;I ^<a href="http://code.osehra.org/dox/Routine_XMB.html">XMB</a>("NETNAME")?1"CMOP-".E</dt>
</li>
</ol>
</td>
</tr>
<tr>
<td>DEVELOPER (PERSON/SITE)</td>
<td>BISHOP,BRENDA A.</td>
</tr>
<tr>
<td>*LOWEST FILE NUMBER</td>
<td>50</td>
</tr>
<tr>
<td>*HIGHEST FILE NUMBER</td>
<td>554</td>
</tr>
<tr>
<td>DEVELOPMENT ISC</td>
<td>BIRMINGHAM</td>
</tr>
<tr>
<td>CLASS</td>
<td>National</td>
</tr>
<tr>
<td>CURRENT VERSION</td>
<td>2.0</td>
</tr>
<tr>
<td>VERSION</td>
<td>
<ol>
<li>
<dt>VERSION:  &nbsp;&nbsp;1.0</dt>
<dt>DATE DISTRIBUTED:  &nbsp;&nbsp;1995-05-10 00:00:00</dt>
<dt>DATE INSTALLED AT THIS SITE:  &nbsp;&nbsp;1996-07-18 00:00:00</dt>
<dl><dt>PATCH APPLICATION HISTORY:</dt>
<dd>
<ol>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;4</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-07-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Consolidated Mail Outpatient Pharmacy Patch # 4 - Corrects days to pull
ahead parameter and Drug Warning problems.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;8</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-07-18 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This build corrects a problem in PSX*1*4.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;10</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-08-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Correct a problem with the automated recovery process.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;11</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1996-11-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
When a user unmarks a drug for Outpatient use, the drug will now be
automatically unmarked for CMOP transmission.
 
The Outpatient one year patch conflicted with code that determines how to
display refills.  The number 6 was a code used to indicate that the fill
was a partial so the sixth refill was being diplayed as a partial. CMOP
routines now mimic the O.P. method to display the refill correctly while
allowing partials to display correctly.
</pre>
</dt>
</li>
</ol>
</dd></dl>
</li>
<li>
<dt>VERSION:  &nbsp;&nbsp;2.0</dt>
<dt>DATE DISTRIBUTED:  &nbsp;&nbsp;2005-11-19 00:00:00</dt>
<dt>DATE INSTALLED AT THIS SITE:  &nbsp;&nbsp;1997-04-14 00:00:00</dt>
<dt>INSTALLED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION OF ENHANCEMENTS:  &nbsp;&nbsp;<pre>
CMOP V 2.0T9 ALPHA BUILD FOR MEDICAL CENTERS
</pre>
</dt>
<dl><dt>PATCH APPLICATION HISTORY:</dt>
<dd>
<ol>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;1</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-05-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch 1 for version 2 to correct problems with V1 sites going to V2.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;2</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-06-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch 2 to correct problems with V2.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;4 SEQ #3</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-08-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being distributed in response to NOIS ALN-0597-12107.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;5 SEQ #4</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-08-19 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being distributed as a correction to patch PSX*2*4.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;7 SEQ #6</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1997-11-05 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being distributed in response to NOIS MAR-0897-21215.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;10 SEQ #7</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-02-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2.0*10.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;9 SEQ #8</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-03-30 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is being distributed in response to NOIS CMM-0997-N0446.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;13 SEQ #9</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-03 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2.0*13.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;11 SEQ #10</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2.0*11.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;16 SEQ #11</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-05-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2.0*16.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;12</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-07-01 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2.0*12.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;14 SEQ #13</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-08-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2*14.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;3 SEQ #14</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The patch modifies CMOP routines to work with Outpatient Pharmacy V6 and
V7. 
 
The following modifications were made to CMOP routines so that the CMOP
process will work with either OP6 or OP7.
 
ROUTINE        Summary of Modifications
 
PSXAUTO        Makes a call to the PSXUTL routine to get the version
               of OP that is on the system. Sets the PSXVER variable
               to indicate the OP version. This variable determines the
               location of the Status and SIG fields in the Rx file (#52).
 
PSXBLD         Modified to get the Status and SIG fields from the proper
               location in the Rx file (#52) based on the OP version.
 
PSXBLD1        Modified to get the Status from the proper location in
               the Rx file (#52) based on the OP version.
 
PSXCOPAY       Modified to get the Status from the proper location in the
               Rx file (#52) based on the OP version.
 
PSXERR         Modified to provide an error message if the package file
               entry for the OP package is missing the version number.
               This error message is the CMOP Error Encountered mail msg.
 
PSXMISC1       Modified to set the new fields in the Rx Suspense file when
               marking the Rx as 'Loading' and/or 'Transmitted'.
 
PSXRESUB       Modified to set the OP version.
 
PSXRCVRY       Modified to set the Status field in the Rx file (#52) based
               on the OP version. Makes the call to PSOHLSN1 to send
               send changes in the status field in the Prescription file
               (#52) to CPRS.
 
PSXRPPL        Modified to check the Status field and SIG field in the Rx
               file (#52) based on the OP version.
               Makes the call to PSOHLSN1 to send changes in the status
               field in the Prescription file (#52) to CPRS.
 
PSXRPPL1       Modified to check the Status field and SIG field in the Rx
               file (#52) based on the OP version.
 
PSXRSUS        Modified to ZTSAVE the variable, PSXVER. This variable is 
               used to determine the location of the Status and SIG fields
               in the Rx file (#52) based on the OP version.
 
PSXSRP         This is a new routine to allow users to reprint CMOP Rx's
               that were printed at the remote medical center by batch.
 
PSXSRST        This is a new routine to allow users to reprint by batch
               CMOP Rx's that were printed at the remote medical center.
               Makes the call to PSOHLSN1 to send changes in the status
               field in the Prescription file (#52) to CPRS.
 
PSXUTL         Modified to set the variable PSXVER. This variable is used
               determine the OP version.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;18 SEQ #15</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
See the patch description for PSX*2.0*18.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;19 SEQ #16</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1998-10-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch addresses concerns aired in NOIS #'s
OKL-1098-70296,CMP-0398-62763 and BOI-1098-50491.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;20 SEQ #17</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The variable PSOSITE, used by both the CMOP and OUTPATIENT PHARMACY
packages is killed in the ^PSXRESUB routine.  This causes an undefined
variable to occur in the OUTPATIENT PHARMACY package in certain instances.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;15 SEQ #18</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-06-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch contains a routine that will notify the CLINICAL INFORMATION
RESOURCES NETWORK (CIRN) V.1.0 package when a CMOP prescription is  
released.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;17 SEQ #19</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-06-22 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The CMOP DUAL LINE INTERFACE enhancement modifies the lower layer 
communication link software utilized by CMOP Host systems and vendor 
automated dispensing systems for electronic data exchange of prescription
information. Functionality allows CMOP Host facilities to simultaneously
perform transmission data download and query request for prescription
information.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;21 SEQ #20</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-06-22 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Patch PSX*2*20 corrected an undefined error in the variable PSOSITE,
which was shared by the Outpatient Pharmacy and CONSOLIDATED MAIL
OUTPATIENT PHARMACY (CMOP) packages.  The CMOP package killed this
variable, causing the undefined condition.  This condition was corrected
by the patch, but, depending on how the user entered the option to
resubmit the Rx, the variable PSOSITE might not be defined at all.  This
patch checks for the existence of the variable PSOSITE and prevents the
second undefined error from occurring.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;24 SEQ #21</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;1999-11-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1.     An adjustment to the CMOP software has become necessary with the
distribution of  MailMan patch 50. The % variable returned from the
NOW^%DTC function is being killed in a MailMan routine where it was
previously not.
2.     A modification to the CMOP software has become necessary with the
release of Fileman V. 22.  The variable DIC(0) is now killed where is was
previously not.
3.     A second modification was necessary as a result of MailMan patches.
CMOP error messages normally delivered to the holders of the PSXMAIL key
were being held up.  Changing the way the routing was handled fixed this
problem.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;22 SEQ #22</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-02-29 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Problem:
========
A problem was reported with the Drug Cost by Drug Report for One Month
[PSX COST ONE MONTH DRUG REPORT] where if the user selects a specific drug
and specific facility, the RX in the heading is incorrect.
 
Resolution:
===========
The variable PSXDGID is used in NAME^PSXCSUTL (Utility to get drug name
using CMOP ID).  The drug name is correct in the body of the report
because PSXDGID is set before calling NAME^PSXCSUTL.  However, when
printing the drug name in heading of the report, the routine PSXCSMN1 does
not set the variable PSXDGID. This patch will correct the problem by
setting PSXDGID in routine PSXCSMN1.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;25 SEQ #23</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-04-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Problem:
 
The CMOP process is taking very long times to find the next available
vacancy in the file for creating entries.
 
Resolution:
 
The process has been modified with recent extensions of the M language to
find the next available vacancy in the file with one program call.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;23</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-05-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is part of the CMOP - Controlled Substance Rxs enhancements.
It modifies functions within the Consolidated Mail Outpatient Pharmacy
package to support the transmission of controlled substance prescriptions
to the Consolidated Mail Outpatient Pharmacy facilities.
 
This patch will be installed in conjunction with three other patches
(PSD*3*21, PSO*7*33, and PSS*1*28). Refer to the CMOP - Controlled
Substance Rxs Installation Guide for installation instructions.
 
The Installation Guide for the CMOP - Controlled Substance Rxs project
can be obtained on the VISTA Consolidated Mail Outpatient Pharmacy web
page.  The address is http://vista2.domain.ext/cmop/. The Installation
Guide is also available on the ANONYMOUS.SOFTWARE directory at one of the
following Office of Information (OI) Field Offices. The file name is
CMOPCS_IG.PDF.
    
  OI FIELD OFFICE                FTP ADDRESS             DIRECTORY
  ===============                ===========             =========
  Albany                         152.127.1.5          anonymous.software
  Hines                          152.129.1.110        anonymous.software
  Salt Lake City                 152.131.2.1          anonymous.software
 
CMOP software modifications:
 
1. The Loop CMOP Match to Local Drug File option [PSXX LOOP MARK] was
   modified to allow drugs identified as schedule III-IV controlled
   substances to be marked for processing by CMOP facilities.
2. The CMOP Data from Your Local Drug File report option [PSXX LOCAL
   DATA] was modified to add the reporting of drugs identified as
   schedule III-IV controlled substances that are marked for CMOP.
3. The Drugs not Flagged for CMOP Transmission option [PSXX NOCMOP] was
   modified to report drugs identified as schedule III-IV controlled
   substances.
4. The CMOP Mark/Unmark (Single drug) option [PSXX MARK] will be
   deleted. This functionality is duplicated in the Pharmacy Data
   Management package.
5. The Unreleased Rx's Report option [PSX UNRELEASED] was modified to
   sort by controlled substances, non-controlled substances or both types
   of prescriptions.
6. A new option, Setup CMOP CS Auto-transmission [PSXR AUTO TRANSMIT
   CS] was created to manage the automatic transmissions of  controlled
   substances to the CMOP facilities.
7. The CMOP manual transmission function, called by the Outpatient
   Pharmacy option Print from Suspense File [PSO PNDLBL] has been modified
   to transmit prescriptions written for drugs identified as schedule
   III-IV controlled substances that are marked for CMOP.
8. This patch addresses NOIS CHA-1297-30037. The CMOP software
   currently only allows the medical centers to select the CMOPs that were
   on-line when CMOP V2.0 software was released. Modifications now enable
   the medical centers to select any of the current operating CMOPs.
9. This patch addresses NOIS BIR-0299-31299. Current functionality
   could allow two fills of a prescription to be suspended on top of one
   another, which could cause the patient to lose one.  The transmission
   timing has been adjusted to prevent the second fill from being
   suspended until the first has been transmitted.
10.This patch addresses NOIS DAY-0499-42275. Under certain circumstances
   the patient profile print device could be left undefined, causing an
   error in the Outpatient Pharmacy software.  Calling a different entry
   point in the Outpatient Pharmacy software allows the user to select a
   device, if desired.
11.This patch also addresses NOIS DAY-0899-42676. Test patients with SSN's
   of 000-00-0000 are being sent to the CMOP.  A screen was placed in the
   software to prevent this from occurring.
12.A new subfile,the AUTO TRANSMIT CS (#550.09) and eight new fields have
   been added to the CMOP SYSTEM file (#550) to track CMOP controlled
   substances transmissions at the medical centers.
13.A new field, CONTROLLED SUBS FLAG (#19), has been added to the CMOP
   MASTER DATABASE file (#552.4) on the host CMOP system to track
   controlled substance prescriptions.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;26 SEQ #25</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-07-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1. Problem: Site number lookup into the INSTITUTION file (#4) is failing
as CMOP is using more than the first three numbers in the element taken
from the INPATIENT SITE file (#59.4).
 
Resolution:
 
The lookup has been recoded to use only the first three numbers.
 
2. Problem: The user instructions in printing from CMOP suspense are
confusing and misleading.
 
Resolution:
 
The user instructions have been corrected.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;29 SEQ #26</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-07-17 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Problem: Undefined errors are occurring in the routine PSXBLD when a
refill is deleted in pharmacy while the CMOP transmission is in the
building process.
 
Resolution:
 
The CMOP coding has been changed to guard against the undefined error.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;27 SEQ #27</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2000-08-16 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1. Problem: The release of XM*7.1*50 has changed the API calls other
packages are to use in evoking Mailman functions. The CMOP package is not
using these calls in sending messages to servers.
 
Resolution:
 
The CMOP coding of XM calls has been changed to be within the prescribed
APIs published for servers.
 
2. Problem: The messages from the CMOP software to the users and managers
had been marked 'informational only' preventing them from easily
corresponding with other staff members on how to resolve problems being
reported.
 
Resolution:
 
The 'informational only' tag has been removed from all user messages.
 
3. Problem: A variable was not defined in some PSX calls to the line
tag MM^PSXVND.
 
Resolution:
 
The appropriate variable is now set within the code located in the
subroutine MM^PSXVND.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;31 SEQ #28</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-11-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1. E3R 9128 requests that all CMOP reports provide the ability to select
one, more, or all divisions and display the report details by divisions.
 
Resolution: The reports have been modified. They are:
 
Count of CMOP Suspended Rx's [PSXR SUSPENSE COUNT]
Medical Center Activity Report [PSXR ACTIVITY]
Rx Workload Report [PSXR RX WORKLOAD REPORT]
 
2. E3R 9434 requests that several new columns be added to the Rx Workload
Report. Those columns are to be under the categories of 'Entered Window'
and 'Released Window' and are to reflect prescriptions that are refilled
or original renewals.
 
Resolution: The Rx Workload Report [PSXR RX WORKLOAD REPORT] option has
been modified.
 
3. Problem: The "Transmitted By" on the CMOP TRANSMISSION CONFIRMATION
report is blank.
 
Resolution: The software has been corrected and the "Transmitted By" on
the CMOP TRANSMISSION CONFIRMATION report is populated in the message.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;35 SEQ #29</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2001-11-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1. Problem:  The CMOP software shall be modified to no longer check the Rx
copay status of a prescription during the release process. The Rx copay
status shall be re-evaluated by the Outpatient Pharmacy application with
each fill/refill.  
 
Resolution:  Routine PSXVND was modified to call routine PSOCP without
qualification, in support of the Outpatient Pharmacy Copay enhancement
project.
 
E3R 13012:   There are many "CMOP REMOTE ERROR CONDITION NOTICE"
messages generated and sent. It is requested that the message have the
site number added as a prefix to each message generated.
 
Resolution: The coding has been modified such that the site number has
been added as a prefix to the messages.
 
Note:  Routine PSXCOPAY will be deleted from the system.  This routine is
not being used.
 
Associated NOIS:
================ 
N/A
 
Test Sites:
=========== 
 
 
Routine Summary:
================ 
The following is a list of the routines included in this patch.
The second line of each of these routines now looks like:
 
&lt;tab&gt;;;2.0;CMOP;**[patch list]**;11 Apr 97
 
               CHECK^XTSUMBLD results
 
Routine Name   Before Patch     After Patch     Patch List
------------   ------------     -----------     ----------
PSXVND         15932593         16276949        1,2,4,5,14,18,19
                                                15,24,23,27,35
PSXVEND        16202580         16667384        23,27,35
 
 
Installation Instructions:
========================== 
  This patch can be installed with users on the system. Installation will
  take less than 1 minute. There are no scheduling restrictions or
  recommendations.
 
  1.   Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
 
  2.   Review your mapped set. If the routines are mapped, they should
       be removed from the mapped set at this time. Currently there are no
       routines that are recommended by the package to be placed into the
       mapped set.
 
  3.   From the Kernel Installation &amp; Distribution System menu, select
       the Installation menu.
 
  4.   From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSX*2.0*35):
    a. Backup a Transport Global - this option will create a backup
       message of any routines exported with the patch. It will NOT
       backup any other changes such as DDs or templates.
    b. Compare Transport Global to Current System - this option will
       allow you to view all changes that will be made when the patch
       is installed. It compares all components of the patch (routines,
       DDs, templates, etc.).
    c. Verify Checksums in Transport Global - this option will ensure
       the integrity of the routines that are in the transport global.
 
  5. Use the Install Package(s) option and select the package PSX*2.0*35.
 
  6. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
     respond NO.
 
  7. When prompted "Want to DISABLE Scheduled Options, Menu Options, and 
     Protocols? YES//" respond NO.
 
  8. If any routines were unmapped as part of step 2, they should be
     returned to the mapped set once the installation has run to
     completion.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;39 SEQ #30</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-02-04 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This is an EMERGENCY patch and must be installed within 24 hours.
 
1. Problem: The release of the Consolidated Mail Outpatient Pharmacy
(CMOP) patch PSX*2*35 introduced a potential problem for Outpatient
Pharmacy divisions where the "BARCODES ON ACTION PROFILES" prompt, on the
Site Parameter Enter/Edit [PSO SITE PARAMETERS] option, is set to "NO".
Because of this problem, there was no Co-pay charge for any CMOP
prescription released after the installation of PSX*2*35.  This patch
corrects the problem.  A patch to Outpatient Pharmacy V.7.0, PSO*7*93,
will be released to correct existing prescriptions so that they are billed
correctly.
 
Resolution:  The code has been modified to correct this problem.
 
2. Problem: Error reported when division was missing from the 
prescription file for a Consolidated Mail Outpatient Pharmacy (CMOP) 
prescription.
 
Resolution:  The code has been modified to find the first active division.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;33 SEQ #31</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-02-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1.  Problem:  NOIS CMC-1101-31545 describes a situation where two 
patient's prescription data gets merged within a Consolidated Mail 
Outpatient Pharmacy (CMOP) transmission.  In this particular case, the 
prescription data was from a single pharmacy division.  While building 
the transmission, the prescription data from one patient was overwritten 
with the data of another, but imperfectly, leaving remnants of the first 
as if appended to end of the data sequence.  This instance posed no 
threat to patient safety as the data stream was corrupted and caused the 
download to terminate.  However, there is the slight possibility that a 
"perfect" merge could occur, sending the wrong medication to a patient. 
Analysis of this problem revealed that two patient orders were assigned 
the same record number in the file that allowed overwriting of data to 
occur.
 
Resolution:  Safeguards have been put in place to prevent the same record 
number from being used by two distinct patient orders.
 
1. Problem:  When prescriptions are transmitted to CMOP, an update is sent
to the Computerized Patient Record System ( CPRS) that says the
prescription is no longer suspended, and now has an Active Status.  The
problem occurred because the wrong number was being sent to CPRS, and this
caused the CPRS status of an Outpatient order to become active, when is
shouldn't.  No Pharmacy statuses were set improperly, only these CPRS
statuses, which would show on the Orders Tab.
 
Resolution:  The CMOP code was passing the internal entry number of the 
wrong file to CPRS.  The offending variable has been replaced by the 
variable housing the correct value.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;28 SEQ #32</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-02-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1) Problem:  Attempting to use the Print from Suspense File [PSO PNDLBL]
option to send transmissions to Consolidated Mail Outpatient Pharmacy 
(CMOP) hosts often resulted in an undefined error.
 
Resolution:
 
Code modifications have been made to prevent the error.
 
2) Problem:  The CMOP host Unreleased Rx's Report [PSX UNRELEASED] option
was not reporting the correct figures in certain instances.
 
Resolution:
 
The software has been modified to correct these errors.
 
3) Problem:  The use of the PSX resource device has long been a source of
difficulty for the CMOP data transmission process. Anything from system
failures to users entering the wrong parameters in the file could result
in two CMOP transmission jobs running at the same time. More often than
not, this resulted in data merges between the simultaneously running
jobs.
 
Resolution:
 
To prevent this, a new method of ensuring that only one CMOP transmission
job runs at a time has been developed. A data switch is set when a CMOP
transmission is started. No subsequent transmissions are allowed until
this switch is cleared. Also, transmission jobs waiting to run
periodically check the progress of the running job.  If the running job
exceeds allowable time limits, the jobs waiting are stopped and a message
is sent to the users.  If the time limit was exceeded due to system
problems and the original job finished normally, albeit very slowly, then
the user simply restarts the transmissions manually.  If the time limit
was exceeded due to job failure, the troubleshooting process is not
complicated by multiple transmission jobs. Because the waiting jobs were
stopped, the chance of merging data is reduced considerably. Finally, the
automatic CMOP recovery process has been modified to reset the data switch
if a software repair of the problem is possible.
 
4) Problem:  There are several CMOP processes that may be running
concurrently and trying to access the same files at the same time causing
one job or the other to error.
 
Resolution:
 
The locking of files has been moved to the record level letting each job
perform its tasks.
 
5) E3R 12510:  There have been occurrences where control
characters have been picked up in the patients address information and
sent to the host sites breaking their import procedure.
 
Resolution:
 
The software has been modified to test and remove unwanted characters
from the patients address information.
 
6) Problem:  Control characters are being observed within the
prescriptions' SIGs. These and HL7 delimiter characters "|~^\" in the SIG 
|
break or scramble the communication to the vendors dispensing
prescriptions.
 
Resolution:
 
The code has been modified to test for control characters and the HL7
delimiter characters "|~^\". If found an error message is generated and |
sent referring to the prescription, the refill number, and that the SIG
is either invalid or missing. This safeguards the vendor transmission
process but does not resolve the issue of control characters getting
placed into the SIG.
 
7) E3R 11958:  The Print from Suspense File [PSO PNDLBL] option transmits
one division at a time. It is desired to have the option work transmit all
divisions if desired.
 
Resolution:
 
The software has been modified to provide the ability to process all
divisions. The process has also been modified to present two levels of
questions.
 
 
Select Suspense Functions Option: PR&lt;cr&gt;int from Suspense File
 
  1 - Initiate Standard CMOP Transmission
  2 - Initiate CS CMOP Transmission
  3 - Print Current Division -  Standard CMOP from Suspense
  4 - Print Current Division -  CS CMOP from Suspense
  5 - Standard Print from Suspense
 
Select (1, 2, 3, 4, 5):  1
 
  1 - Initiate Standard CMOP Transmission
 
Transmit Data for All Divisions ? ? YES// ?
 
Yes - Transmit/Print All Divisions
No  - Transmit/Print One Division:  CHEYENNE VAM&amp;ROC
 
Transmit Data for All Divisions ? ? YES//
 
Job queued:       CHEYENNE VAM&amp;ROC
Job queued:       FORT COLLINS CLINIC
Job queued:       GREELEY CLINIC
Job queued:       SIDNEY CLINIC
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;36 SEQ #33</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-04-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1. Problem:  If an inactive pharmacy division is discovered during a
Consolidated Mail Outpatient Pharmacy (CMOP) data transmission, the 
following error message is generated: "Invalid or Missing Data".     
 
Resolution:  Routines PSXAUTO and PSXAUTOC have been modified to evaluate 
the inactive date field during processing for the transmission.
 
2. Problem:  An error is encountered when CMOP fulfillment data is
received back from the host to the medical center.
NOIS DAY-0102-42990
 
Resolution:  Routine PSXVND has been modified to correct this error.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;30 SEQ #34</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-05-28 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1.      Problem: The patient prescriptions that have been suspended for 
Consolidated Mail Outpatient Pharmacy (CMOP) are transmitted to the CMOP 
host even if the patient's mail status has been changed to "DO NOT MAIL".
 
Resolution:
 
The CMOP functionality has been changed to test the mailing status of 
patients during the building of a transmission. If it has changed, the 
prescriptions for that patient are not sent and appropriate entries are 
added to the MailMan message "CMOP Error Encountered", which is sent to 
the holders of the "PSXMAIL" key.
 
2.      Problem: CMOP data validation does test and reject prescriptions 
whose drug's warning is greater than eleven characters. However, no 
message is sent to inform the users and the users resubmit the 
prescriptions to have them again rejected without knowing why.
 
Resolution:
 
The CMOP data validation has been modified to set an appropriate entry in 
the MailMan message "CMOP Error Encountered", which is sent to the 
holders of the "PSXMAIL" key.
 
3.      Problem: Transmissions do not test to see if a patient is in the 
process of being merged. 
 
Resolution:
 
The transmission process code has been modified to test if the patient is 
being merged. If a patient is being merged, the prescription remains in 
suspense and an error entry is added to the MailMan message "CMOP Error 
Encountered", which is sent to the holders of the "PSXMAIL" key.
 
4.      E3R 12951: The patient name and ID are requested to be added to 
the MailMan message "CMOP Error Encountered" generated where data needs 
to be corrected so prescriptions can be more easily corrected and then 
sent to the CMOP host.
 
Resolution:
 
The appropriate transmission error entries now include patient name &amp; ID.
The MailMan message "CMOP Error Encountered" is sent to the holders of 
the "PSXMAIL" key.
 
5. E3R 11711: CMOP works in a divisional manner generating many messages. 
It is requested that the subjects of the messages have a prefix of 
division number added so that the users can easily see which messages are 
for their specific division.
 
Resolution:
 
High volume messages' subjects have been recoded to include a division 
number as a prefix. The following MailMan message subjects have been 
amended:
 
"CMOP Error Encountered" which is sent to holders of the "PSXMAIL" key.
 
"CMOP Not Dispensed Rx List" which is sent to holders of the "PSXMAIL" key.
 
"CMOP Acknowledgement not Received" sent to holders of the "PSXCMOPMGR" key.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;32 SEQ #35</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-06-26 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
NOTE: Facilities will see the expected following error message as the 
software will be installing a data field for the Consolidated Mail 
Outpatient Pharmacy (CMOP) hosts in a file the facilities do not have.
 
Installing Data Dictionaries:
 
** ERROR IN DATA DICTIONARY FOR FILE # 554 **
Data Dictionary not installed; Partial DD/File does not exist.    
 
 
1. E3R 9441: It is requested that the Facility Activity Report [PSX 
ACTIVITY] option should allow time to be entered as part of the criteria 
for setting the date range of the report.
 
Resolution: The report has been modified to sort by Date/Time vs. just 
Date.
 
2. Problem: The vendor software is to send package ID and carrier 
information for each prescription that is completed. When that segment of 
information is missing, the software trying to process the missing 
information generates an error.
 
Resolution: The code has been modified to accommodate instances of 
missing information.
 
3. E3R 9881: It is requested that a CMOP host site parameter be added to 
control whether or not the report "CMOP DRUG Cost Missing" as processing 
of vendor data is performed.
 
Resolution: The software has been modified and a new field CMOP DRUG Cost 
Missing Reports (#8) has been added to CMOP OPERATIONS file (#554) to 
control the generation of the report "CMOP DRUG Cost Missing"  
 
The editing of the parameter has been added to the CMOP host System 
Parameter Enter/Edit [PSX SITE PARAMETERS] option.
 
This is the new text found within the existing option.
 
CMOP DRUG Cost Missing reports: YES// ??
        This parameter controls the generation of the "CMOP DRUG Cost 
Missing" report.
 
     Choose from:
       Y        YES
       N        NO
CMOP DRUG Cost Missing reports: YES// ?
     Do you want the "CMOP DRUG Cost Missing" error report generated? 
(Y/N)
     Choose from:
       Y        YES
       N        NO
CMOP DRUG Cost Missing reports: YES//
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;40 SEQ #36</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-07-24 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1) Problem:   The facility patient data can contain the character "|". 
This disrupts the transmission interpretation as that character is used 
as a separator in processing the data streams.
CMH-0801-N0271
  
Resolution:   The software has been modified to substitute the space 
character " " for the "|" as the patient data for transmissions is being 
built.
  
2) Problem:   The outpatient function 'Print Current Division -  Standard 
CMOP from Suspense' generates an error "undefined variable PSXPTR" while 
printing outpatient suspense labels.
HAM-0302-21530
 
Resolution:   The code has been modified so that the variable being used 
is proper and defined.
 
3) E3R 11027:  It is requested that the patient phone number be 
transmitted to the Consolidated Mail Outpatient Pharmacy (CMOP) facility 
as part of the patient address.  It is required information for overnight 
delivery of packages.
 
Resolution:  The software has been modified to pull the patient phone 
number from Veterans Health Information Systems and Technology 
Architecture (VISTA) and provide it to the vendor software. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;42 SEQ #37</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-09-27 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1) Problem: The Consolidated Mail Outpatient Pharmacy (CMOP) software is 
erroneously including prescriptions currently being filled in the list of
prescriptions in suspense for future processing.
CON-0502-11795
CMC-0602-30991
 
Resolution: The code has been modified to correct the problem.
 
2) Problem: The "CMOP Error Encountered" message is not displaying the 
proper patient associated with the prescriptions being reported.
TNV-0502-32862
CLE-0702-40600
CMD-0702-71865
 
Resolution: The code has been modified to reflect the proper patient 
name and social security number (SSN) on each line in the error next to 
the prescription number.
 
3) Problem: Prescriptions that are in CMOP suspense, for patients who 
are having their mail routing changed in a manner that would disable them 
from going to CMOP, are not dropping into local suspense but are 
remaining in CMOP suspense.
ISB-0702-30004
 
Resolution: The code has been modified to notify the user and move the 
prescription into local suspense and create an activity log entry.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;34 SEQ #38</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-10-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
!! NOTE: !!  Health care facilities do not have the Consolidated Mail 
Outpatient Pharmacy (CMOP) Reference file and the installation will
generate an error that can be ignored for health care facilities.
 
The error reported is:
 
** ERROR IN DATA DICTIONARY FOR FILE # 552.1 **
Data Dictionary not installed; Partial DD/File does not exist.
              May 22, 2002@10:07:09
 
1. Enhancement: CMOP HOSTS: A new field, CONTROLLED SUBSTANCE (#21)
has been added to CMOP REFERENCE file (#552.1) to track controlled
substance transmissions.
 
552.1,21      CONTROLLED SUBSTANCE   0;8 SET
 
                                '0' FOR Non-CS Transmission; 
                                '1' FOR CS Transmission; 
              LAST EDITED:      MAY 21, 2002 
              HELP-PROMPT:      Enter a 0 or 1, 1 for Controlled 
                                Substances Transmission
              DESCRIPTION:      A 1 indicates that this CMOP batch 
                                contains controlled substances.
 
              TECHNICAL DESCR:  This field is populated by routine 
                                PSXRECV. This field should not be edited
                                by users.
 
              CROSS-REFERENCE:  552.1^C 
                                1)= S ^PSX(552.1,"C",$E(X,1,30),DA)=""
                                2)= K ^PSX(552.1,"C",$E(X,1,30),DA)
                                This cross reference is set when a 
                                transmission is downloaded from the
                                medical center.  A 1 indicates the
                                transmission is a controlled substance
                                transmission.  
 
 
2. E3R 9440:    CMOP HOSTS: It is requested that the Unreleased Rx's 
Report [PSX UNRELEASED] be modified to included selection of date ranges,
facilities, and types of transmissions (Controlled Substances and 
Non-Controlled Substances).  It is also requested to reveal and
sort by the order number within the batches displayed.
 
Resolution:     The code has been modified to accommodate the requests. An
example of the new user dialog and printout follows.
 
Select OPTION NAME: PSX REPORTS MENU       Reports
 
Select Reports Option: Unreleased Rx's Report
 
 
Select CMOP Batch # or RETURN for all:  ?
 
 Answer with CMOP REFERENCE FACILITY BATCH REFERENCE
 Do you want the entire 70522-Entry CMOP REFERENCE List? N  (No)
Select CMOP Batch # or RETURN for all: &lt;CR&gt;
 
 (NOTE: If a single batch is selected the dialog skips to the device question.)
 
     Select one of the following:
 
          C         Controlled Subs
          N         Non-Controlled Subs
          B         Both
 
Enter response: ?
 
Enter "C" to report controlled substances, "N" for non-controlled
substances or "B" to include both.
 
Enter response: Both
 
Enter date to BEGIN SUMMARY: TODAY//T-30  (JAN 23, 2001)
Enter date to END SUMMARY:  TODAY//T-2  (FEB 20, 2001)
 
Select FACILITY or RETURN for all: ?
 
 Answer with CMOP NATIONAL SITE FACILITY, or STATUS
 Do you want the entire 72-Entry CMOP NATIONAL SITE List? N  (No)
Select FACILITY or RETURN for all:
 
DEVICE: HOME//   TELNET
 
 
               Report of Unreleased Rxs for Transmission 460-1625
                       Printed : Feb 22, 2001 4:12:32 pm
 
Facility: WILMINGTON, DE                 Pharmacy Division: WILMINGTON VAMC
Transmitted: Feb 21, 2001 0:02:33 am     Received: Feb 20, 2001 11:25:03 pm
Batch Type: Non-Controlled Substance
 
ORDER #           RX NUMBER FILL DRUG NAME                            DRUG ID
----------------------------------------------------------------------------
 
460-1625-13       1064494C  3    ISOSORBIDE DINITRATE 20MG TAB,ORAL   I0076
460-1625-13       1079105C  3    FUROSEMIDE 40MG TAB                  F0078
460-1625-13       1118354B  3    SPIRONOLACTONE 25MG TAB              S0043
460-1625-167      1172873   3    NITROGLYCERIN 0.4MG TAB,SUBLINGUAL   N0057
460-1625-167      1113467A  1    POTASSIUM CHLORIDE 8MEQ TAB,SA       P0086
460-1625-167      1113468A  1    RANITIDINE HCL 150MG TAB             R0005
460-1625-167      1113469A  1    SIMVASTATIN 40MG TAB                 S0022
460-1625-167      1113495A  1    ISOSORBIDE DINITRATE 20MG TAB,ORAL   I0076
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;38 SEQ #39</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-10-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
!! NOTE: !!  Health care facilities do not have the CMOP NATIONAL 
SITE file (#552), the CMOP MASTER DATABASE file (#552.4), nor the CMOP
OPERATIONS file (#554) and the installation will generate an error that
can be ignored for health care facilities.
 
The errors reported are:
 
** ERROR IN DATA DICTIONARY FOR FILE # 552 **
Data Dictionary not installed; Partial DD/File does not exist.
 
** ERROR IN DATA DICTIONARY FOR FILE # 552.4 **
Data Dictionary not installed; Partial DD/File does not exist.
 
** ERROR IN DATA DICTIONARY FOR FILE # 554 **
Data Dictionary not installed; Partial DD/File does not exist.
 
 
This patch is being distributed to support the Veteran Affairs/Department
of Defense (VA/DoD) Consolidated Mail Outpatient Pharmacy (CMOP) 
Interface project.  The modifications contained herein allow VA CMOPs to
exchange prescription orders and fulfillment data with DoD Medical
Treatment Facilities. A new DOD CMOP INTERFACE [PSX DOD CMOP INTERFACE]
option and new key PSXDOD and several new fields are being added 
to support the changes needed.  See Appendix C of the CMOP Technical
manual for further information on the data exchange process and the HL7 
segment definitions.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;43 SEQ #40</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2002-11-08 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Problem:  The information form that prints from Consolidated Mail 
Outpatient Pharmacy (CMOP) may display the copay status incorrectly at
times. (e.g. it may say "NO COPAY" but when the fill is released, no
exemptions from copay can be found so the status is changed to copay.)
The copay status is not being determined correctly for each fill of a 
CMOP prescription.
 
Resolution:  Modified code to determine the current copay status for each 
fill which includes the same checking that is done at label print and 
prescription release. (Prior to patch PSO*7*71, the copay status was only 
re-evaluated for new prescriptions and renewals, not for each refill).
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;44 SEQ #41</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-03-01 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Problem:  The [PSX START BACKGROUND FILER] Start/Stop Background 
Filer option was erroring out.
 
Resolution:  Modified code to correct error.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;46 SEQ #42</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-11-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will correct an Archive problem due to the entry of Month/Year
being entered as Month/Day
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;41 SEQ #43</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-11-07 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
NOTE:
Facilities are required to have installed PSO*7*126.
There is a partner patch that is being distributed previous to PSX*2*41.
The partner patch is Outpatient Pharmacy V. 7.0 PSO*7*126. This will be
tested in the environmental checking phase of the installation and not in
the KIDs required patches section. Consolidated Mail Outpatient Pharmacy
(CMOP) hosts are not required to install PSO*7*126. There is also a
companion ORDER ENTRY / RESULTS REPORTING (OERR) patch OR*3*183 that is
needed to complete the locking and ownership/protection of prescriptions
across the VistA applications.
 
NOTE:
CMOP hosts will see the expected following error messages as the software
will be installing data fields for the facilities in files that the CMOP
hosts do not have.
 
       Installing Data Dictionaries:
 
       ** ERROR IN DATA DICTIONARY FOR FILE # 550 **
       Data Dictionary not installed; Partial DD/File does not exist
 
       ** ERROR IN DATA DICTIONARY FOR FILE # 550.1 **
       Data Dictionary not installed; Partial DD/File does not exist
 
       ** ERROR IN DATA DICTIONARY FOR FILE # 550.2 **
       Data Dictionary not installed; Partial DD/File does not exist
 
CMOP hosts may ignore a portion of the installation instructions as they
pertain to functionalities found only at the remote facilities.
 
NOTE: If you have batches (transmissions) that you are planning to
re-transmit, do so prior to installing PSX*2*41. The Re-transmit CMOP
Data [PSXR RETRANSMIT] option has been re-coded to match the new data
architecture being used in PSX*2*41 and will not be able to resend batches
prior to installation of PSX*2*41.
 
 
1. Problem: Controlled Substance (CS) and Non-Controlled Substance
(NON-CS) prescriptions are being mixed into the same batches when the
recovery process is cleaning up a broken transmission. The original
recovery process was written when there was only one type of prescription
being sent and it includes remnants of the previous transmission in
the current transmission.
 
Solution: The recovery process has been re-written to reset the
prescriptions to a state as if they were just queued waiting for
transmission.
 
2. Problem: There have been instances where the prescriptions of two
patients have been merged into the same HL7 order in the CMOP RX QUEUE
file (#550.1).
 
Solution: The use of the CMOP RX QUEUE file (#550.1) has been redesigned
to be only used in the building of the HL7 order messages and it is
cleared out prior to and after each transmission. The access to the CMOP
RX QUEUE file (#550.1) is locked by the transmission job when it
first starts up and is released as the last step as the transmission
finishes.
 
3. Problem: Several sites have reported that they were not able to
re-direct the scheduling of their transmissions to another
Consolidated Mail Outpatient Pharmacy (CMOP). There are several fields
within the scheduling that have a database required criteria set. This
makes it difficult for the software to clear them and reset them.
 
Solution: The scheduling of transmissions has been redesigned to use the
Kernel Option Scheduling and its utilities. This streamlines the user
input and control of the scheduling of the transmissions. Transmissions
must now be scheduled no closer than two hours apart.
 
4. Problem: The beginning message number within a transmission sometimes
differs from the notation within the message.
 
Solution: The use of the CMOP RX QUEUE file (#550.1) has been redesigned.
It is now cleared out prior to each transmission and each transmission
now starts with the number one.
 
5. Enhancement: Other Language - Data elements in the HL7 messages are
being activated that will enable the SIG and PMI sheets to be printed in
another language. This is in co-ordination with the emerging Outpatient
Pharmacy V. 7.0 'Other Language' patch PSO*7*117.
 
6. Problem: It is possible to create duplicate active prescriptions
through the renewal and copy prescription functions if the prescription
is a part of a currently running CMOP transmission.
 
Solution: The transmission software has been modified so that the
setting of prescription status flags occurs in a manner that will keep
the renewal and copy functions from accessing prescriptions that are
being loaded into a CMOP transmission. A prescription may be locked by a
user and if so that prescription is skipped and a "RX OERR/CPRS Locked"
error is itemized with other correctable prescription errors and sent to
the holders of the "PSXMAIL" key.
 
7. Problem: A prescription that has been sent to CMOP, not filled, and
then is canceled locally is selectable for resubmission to the CMOP and
generates a program error when being processed.
 
Solution: The software has been amended to not allow the resubmission of
prescriptions when that particular fill for resubmission has been
canceled.
 
8. E3R 18029 It is possible for the remote sites to input more 
information into the NARRATIVE REFILLABLE RX (#1004), NARRATIVE
NON-REFILLABLE RX (#1005), and NARRATIVE FOR COPAY DOCUMENT (#1006) text
fields in the Outpatient Site file (#59), than can be printed at the
CMOPs.
 
Solution: The transmission process will now load only up to seven lines
(80 characters per line) of information from each of these fields. The
following warning message is also sent to the facility CMOP users when a
transmission has had to limit the number of lines being sent to the CMOP.
 
Subj: &gt;&gt;WARNING&lt;&lt; CMOP Outpatient Site narrative Instructions [#140709]
05/16/03@15:21  8 lines
From: Smith,John  In 'IN' basket.   Page 1
--------------------------------------------------------------------------
The following Outpatient Site file (#59) narrative field(s) exceed seven 
lines.
This exceeds CMOP limits.
Lines beyond seven are not being sent to the CMOP.
 
Outpatient Site: TROY
NARRATIVE REFILLABLE RX     36 lines
NARRATIVE NON REFILLABLE RX     49 lines
NARRATIVE FOR COPAY DOCUMENT     16 lines
 
 
9. Problem: It has been found that during the building of a transmission
other VistA applications are able to perform edits, refills, copies, and
deletions of prescriptions that are being loaded into the CMOP
transmission.
 
Solution: The use of a new integration agreement with Order Entry /
Results Reporting (OE/RR) version 3 provides a way to let CMOP identify 
the prescriptions that are being transmitted so that they will not be
processed by other VistA applications. A related OE/RR patch OR*3*183 has
been released that will complete the ability for CMOP to identify the
prescriptions.
 
10. Problem: Prescriptions have been processed to the CMOPs when they 
should have dropped out of CMOP processing because of the patient's 
mailing status.
 
Solution: The code has been changed so that the prescriptions are dropped 
out of CMOP suspense for patients who have an incompatable mailing status 
for CMOP processing.
 
NOTE: There have been several fields added to the CMOP SYSTEM file (#550)
and the CMOP TRANSMISSION file (#550.2) to support the changes listed
for this patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;49 SEQ #44</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2003-12-31 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Problem: Patch PSX*2*41 is sending NTE|5 segments that it shouldn't. This
problem was not uncovered at the testing sites.
 
Resolution: The code has been modified to correct the array carrying the
list of NTE|5 segments.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;52 SEQ #45</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-05-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Remove mail message when there is a mail status change and the RX is 
suspended locally.
When there is a test patient (ssn=000-00) put "Test Patient" under the 
Data Field heading of the mail message instead of "Patient Address".
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;50 SEQ #46</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-05-21 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The Chief Business Office (CBO) is requesting modifications to several
Veterans Health Information Systems and Technology Architecture (VistA)
packages to support implementation of VHA Directive 2002-049 - "Combat
Veterans Are Eligible For Medical Services For 2-Years After Separation
From Military Service Notwithstanding Lack Of Evidence For Service
Connection", which iterates VA's policy to provide medical care and other
medical services to combat veterans despite the absence of proof of
service connection.
 
Software to support the Combat Veteran (CV) initiative is being developed
and introduced in a phased implementation strategy. The reason for this
type of deployment is due to the complexity of the functionality and the
number of product line dependencies. Phase I: Combat Veteran Interim
Solution (CVIS) was a VistA only solution that involved development in
the Integrated Billing (IB) and Registration/Enrollment product lines.
It provided the logic to identify those veterans who met the criteria for
the combat veteran eligibility and provided billing reports
cross-referenced against this identifier to aid in the copayment billing
process. Phase II of this initiative will involve multiple product lines
and additional VistA only development. The main goals of Phase II will be
to fully automate the copayment billing processing of combat vets based on
episode of care by providing the appropriate questions at check-out as
supplied by CPRS.
 
Product lines that have a stake in Phase II development include
Enrollment/Registration (VistA), IB, Outpatient Pharmacy, Consolidated
Mail Outpatient Pharmacy (CMOP), CPRS/TIU, Patient Care Encounter (PCE),
Ambulatory Care, Event Capture, Scheduling and PTF. The National Patient
Care Database (NPCD) will also require modifications to capture workload
reporting. The patches are listed below in the order that they must be
installed:
Outpatient Pharmacy
    PSO*7*157
    PSX*2*50
PCE/PTF/Event Capture/Scheduling  - PIMS Host file
    PX*1.0*130
    SD*5.3*325
    DG*5.3*565
    EC*2.0*54
Integrated Billing
    IB*2.0*247
CPRS
    OR*3.0*190
Product Features
There are three main areas addressed by this enhancement:
a. Identification/Notification of a CV Status veteran seeking medical care
   - The clinical applications shall obtain the CV Status for those
     veterans who qualify as such per the directive.
   - The CV Status identification shall be displayed to the appropriate
     audience (pharmacist, clinician providing care, intake personnel,
     schedulers, etc.).
   - Provider shall be able to identify whether care provided CV veteran
     was for a condition potentially related to combat service in the same
     manner as identification of exposure related care; care for SC
     conditions, etc.
b. Assistance in the communication of a treatment being determined as
   Combat Related
   - Provide a means for the billing and pharmacy software package to
     identify these patients and services provided care for a combat
     related condition.
c. Automatically precludes inpatient and outpatient medical care,
   prescription and Long-term care copayments for CV Status veterans whose
   treatment/service has been deemed combat related.
 
This is the Consolidated Mail Outpatient Pharmacy (CMOP) patch PSX*2*50,
that provides the functionality changes to accommodate the new copay
classification called "Combat Veteran".
 
As part of the Combat Veteran II project, Outpatient Pharmacy V. 7.0 patch
PSO*7*157, introduced the COMBAT VETERAN field (#122) to the PRESCRIPTION
file (#52). This new COMBAT VETERAN field (#122) of the PRESCRIPTION file
(#52) stores the data related to the copay exemption question, "Is this
Rx potentially for treatment related to Combat?".
 
During CMOP transmission of prescriptions, if a prescription is deemed
"Billable", the software does a check on the following copay exemption
fields of the PRESCRIPTION file (#52):
 
117          MILITARY SEXUAL TRAUMA
118          AGENT ORANGE EXPOSURE
119          IONIZING RADIATION EXPOSURE
120          ENVIRONMENTAL CONTAMINANT
121          HEAD AND/OR NECK CANCER
122          COMBAT VETERAN
 
If the prescription is identified as copay exempt, the software will
transmit "Not Billable" to CMOP.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;47 SEQ #47</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-08-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch will display the the Date Shipped in PSX RX INQUIRY in an 
external format.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;45 SEQ #48</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2004-08-02 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
NOTE: This patch addresses the Centralized Mail Outpatient Pharmacy / 
Department of Defense (CMOP/DoD) functionalities. Facilities will see no 
impact on their systems.
 
!! NOTE: !!  For health care facilities that do not have the CMOP MASTER 
DATABASE file (#552.4), this installation will generate the following 
error that can be ignored.
 
** ERROR IN DATA DICTIONARY FOR FILE # 552.4 **
Data Dictionary not installed; Partial DD/File does not exist.
 
1)  Problem: Internet ftp processes are sometimes interrupted or 
terminated in the middle of transmission leaving partial files deposited 
on the target system. These are not the full files and if processed will 
result in  incomplete data sets.
   
Resolution:
 
Code has been put in place to test the integrity of the received patient 
data files and the sequencing of segments within the files. Files failing 
the tests are not processed.
 
2)      Problem: Criteria of checking the integrity of the patient orders 
was coded in the original 2.3.1 HL7 transmissions but was dropped when 
Vitria Businessware started performing the conversions to HL7 2.1.
 
Resolution:
 
Code has been put in place to perform the integrity checking of the 
patient orders in the current HL7 2.1 format as received from Vitria 
Businessware.
 
3)      Problem: The VA internal wan between Leavenworth and Charleston 
would drop causing the files to be lost that were to be delivered to the 
DoD "Outbox" for their pickup.
 
Resolution:
 
Code has been put in place that tests the success of the placement of the 
files and if they were not placed they are stored for later placement 
when the wide area network is back in proper operation.
 
4)      Problem: The naming of the DoD files contains a Julian date with 
a four digit time. There have been occasions when the time had no 
seconds, or multiples of 10 seconds. The trailing zeros representing 
seconds were being dropped.
 
Resolution:
 
The code has been modified to insure trailing zeros are included.
 
5)      Problem: The resending of release data to the sites generates an 
undefined error.
 
Resolution:
 
A variable named AGNCH was corrected to be AGNCY.
 
6)      Problem: The date transmitted element in DoD $XMIT segments is in
HL7 format while transmissions from VA facilities is in a FileMan 
(FM)format. This causes bad date data in the CMOP host files.
 
Resolution:
 
The DoD VistA import software has been modified to convert the HL7 format 
to FM format before handing the files to the CMOP host software.
 
7)      Problem: Patch PSX*2*38 introduced an 'E' index on the RX INDEX 
field (#40) of the RX NUMBER multiple field (#1) in the CMOP MASTER 
DATABASE file (#552.4). The presence of this new index caused confusion 
for FileMan and it would do lookups first in the 'E' index instead of the 
'B' index of the RX NUMBER multiple. This would present the user entries 
other than what they were looking for.
 
Resolution: The 'E' index is to be removed from the file.
 
NOTE: If a CMOP has modified the RX INDEX field (#40) locally they will 
need to be able to re-do their modifications after the installation. This 
installation will remove the field entirely and then put it back with the 
official distribution definition without an 'E' index.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;51 SEQ #49</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-03-11 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
1)      Problem: The retransmission of a batch failed to complete the 
updating of prescription statuses in Prescription file #52 and RX 
Suspense file #52.5
 
Resolution:
 
Code has been put in place to complete the updating of prescriptions 
statuses in Prescription file #52 and RX Suspense file #52.5 for 
retransmissions.
 
2)      Problem: The controlling data is stored in ^XTMP and is subject 
to a periodic KERNEL job that clears out the ^XTMP global after midnight 
if the job extends beyond midnight. That has occurred and the job shut 
down.
 
Resolution:
 
The parameter in the ^XTMP setting has been set to protect the global for 
two days.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;57 SEQ #50</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2005-05-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Missing CMOP multiples.
 
Error when site street address is not completed.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;48 SEQ #51</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-05-25 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This project involves six different applications that have been significantly
changed to enable VA Medical Centers to perform third party electronic billing
for prescriptions. 
 
Below is a list of all the applications involved in this project along with
their patch number:
  
   APPLICATION/VERSION                                  PATCH
   -----------------------------------------------------------------
   OUTPATIENT PHARMACY (OP) V. 7.0                      PSO*7*148
   INTEGRATED BILLING (IB) V. 2.0                       IB*2*276
   PHARMACY DATA MANAGEMENT (PDM) V. 1.0                PSS*1*90
   CONSOLIDATED MAIL OUTPATIENT PHARMACY (CMOP) V. 2.0  PSX*2*48
   ACCOUNTS RECEIVABLE (AR) V. 4.5                      PRCA*4.5*230
   ELECTRONIC CLAIMS MANAGEMENT ENGINE (ECME) V. 1.0    BPS*1*1
 
Veterans Health Information Systems and Technology Architecture (VistA) 
software applications and infrastructure were enhanced, in order to allow the
electronic transmission of outpatient pharmacy prescription claims (WINDOW and
MAIL fills) to third party payers via the network connections available
through the Austin Automation Center (AAC). VistA will be enhanced to receive
electronic adjudicated responses from the third party payers, which include
real-time processing for Drug Review Utilization and Refill Too Soon rejects.
Reject information will be displayed to the pharmacist as the prescription is
being processed. The pharmacist will have the capability to take the
appropriate action to ensure patient safety or to override the reject and
resubmit the claim to the payer for payment. When a status of "PAYABLE" is
returned by the payer for a released prescription, VistA will automatically 
create the bill in IB, authorize it and immediately create the receivable in
the AR application. Since the exact amount being paid by the payer is known,
a decrease adjustment will be automatically generated and applied so that the
receivable is equal to the net amount due from the payer.
 
The system also provides electronic payment matching capability (for
electronically billable outpatient pharmacy prescriptions) using the existing
Electronic Data Interchange (EDI) Lockbox functionality which processes other
electronic payments from third party payers. This real-time electronic claims
processing capability will be provided in accordance with the Healthcare
Insurance Portability and Accountability Act (HIPAA), EDI transactions and 
the National Council for Prescription Drug Programs (NCPDP) mandated format 
standards, specifically NCPDP Telecommunication Standard V. 5.1. Additional 
functionality delivered with this project includes: 
 
   . Auto-Release/Outpatient Pharmacy Automation Interface (OPAI) Integration.
   . Back-billing capability to allow electronic billing of claims from within 
     the IB application.
   . Capability to MOVE a group of subscribers from one insurance plan to 
     another while automatically "expiring" the old plan, which is a major
     time saver.
   . Pharmacy Dispensed As Written (DAW) prescription processing.
  
Overview of the Process:
  
When a prescription is about to be filled and dispensed by the pharmacy, the 
OP application submits the prescription to the new ECME application. ECME then
contacts IB to verify whether or not the prescription is electronically
billable. If so, ECME gathers the information necessary to generate a NCPDP
claim. The claim information is passed to the VistA Health Level Seven (HL7)
package. The HL7 package then sends the billing information to the AAC, where
it is routed to the corresponding third party insurance via Emdeon (formerly
WebMD).
  
Once the payer processes the information, the response coming back from the
payer is passed back to the site that made the request, and the information
is stored in the ECME package. If the third party payer accepted the claim,
the adjudicated information is passed along to IB. If the claim was rejected
the problem can be worked on and a new claim can be submitted to the payer.
  
For electronically billable CMOP prescription processing, the third party
claim is sent before the prescription information is transmitted to the
CMOP facility to be filled. Once the adjudicating response is electronically 
received from the third party payer, if there are no Drug Utilization Review
or Refill Too Soon rejects, the prescription is then transmitted to the CMOP 
facility. When the CMOP center sends the dispensing information back to VistA,
the National Drug Code (NDC) information is checked against the NDC sent to 
the third party payer and, if different, a new claim is generated in the 
background and is sent to the third party payer. In case the CMOP facility 
indicates that it is unable to fill a "PAYABLE  prescription fill, a reversal
is automatically submitted to the third party payer for the corresponding 
fill.
   
This patch modifies the CMOP application to submit electronic claims for 
prescriptions that are transmitted to CMOP centers to be filled and dispensed 
remotely. All the prescriptions ready to be included on the batch to be
transmitted to CMOP are first transmitted to the third party insurance. Once
this step is completed, the system waits 60 seconds before the actual
transmission to CMOP starts. This process will affect the existing CMOP
functionality in two ways: 
   
 1) If a response from the third party payer is not received by the time the 
    prescription is ready to be transmitted to CMOP, the prescription is
    skipped and remains in the queue for the next CMOP transmission. A Mailman
    message containing all the prescriptions in this category is generated at 
    the end of the process and it is transmitted to all the holders of the 
    PSXMAIL security key. If no users on the system have this key, the Mailman
    message is sent to all the users holding the PSXCMOPMGR security key.
 
 2) If the third party payer rejects the claim due to a DUR (Drug Utilization
    Review) or a 'REFILL TOO SOON' reject, the prescription is not sent to
    CMOP and remains in the queue to be transmitted in the next CMOP 
    transmission. The prescription will not be transmitted to CMOP until the
    reject is resolved by the user through the Outpatient Pharmacy V. 7.0 
    application. No message is generated for prescriptions in this category.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;62 SEQ #52</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch supports the National Council for Prescription Drug Programs (NCPDP) 
standard which was adopted under the Healthcare Insurance Portability and 
Accountability Act (HIPAA) for pharmacy claims. This patch is one of six to be
released.  Three patches will be released in a KIDS multi-build distribution 
containing: BPS*1*3, PSO*7*247, and IB*2*342.  Three patches will be released
individually and they are: PRCA*4.5*247, PSX*2*62, and PSS*1*115.
 
Enhancements included in the release of the six patches are a new option that 
will enable the user to reopen a closed Electronic Claims Management Engine
(ECME) claim; updates to the Rx Activity Log; and permanent storage of Claims
activity information as reported by the ECME Billing Events Report.
 
This patch modifies the CMOP application in the following ways:
 
1) The process responsible for transmitting of prescriptions to the 
   Consolidated Mailout Outpatient Pharmacy (CMOP) facilities was changed to
   perform the following check: 
 
   For ePharmacy prescriptions only, before a fill can be transmitted to 
   the CMOP facility, the previous fill cannot be pending to be filled at
   the CMOP facility. For example, before transmitting refill 1 to the 
   CMOP facility, the software will check if the original is currently
   being filled by CMOP. If so, the refill 1 will be held until the 
   original fill process is completed by the CMOP facility. 
 
2) Changed the second line of the routine PSXVND by adding the patch
   numbers 1 and 2 to the list of patches. These patch numbers were
   unintentionally removed by patch PSX*2*48.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;61 SEQ #53</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2006-09-23 00:00:00</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch contains an Application Program Interface (API) that will be 
used by calling applications that currently do direct global reads or 
writes to the CMOP SYSTEM file (#550). Since this file is being replaced 
as part of the Pharmacy Re-engineering project, any direct M-based global 
reads or writes to this file must be replaced by calling the APIs provided 
in this patch. When the new data source is in place, the calling 
applications will not be required to make any changes, because these APIs 
will be flexible enough to retrieve the requested data from the new data 
source, when the time comes.
 
This API replaces the following integration agreements:
 
DBIA #  Affected Package(s)
---------------------------
2199    CPRS
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;54 SEQ #54</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-06-27 22:15:20</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
As part of the Outpatient Pharmacy V. 7.0 Laser Labels Phase II project, 
a new commercial data source is utilized to provide warning label source
information. The new warning labels are enabled for printing on the laser 
labels when the WARNING LABEL SOURCE field (#16) of the PHARMACY SYSTEM
file (#59.7) is set to "N" for "New". Parameters for using the new 
warning labels are set using the Pharmacy System Parameters Edit [PSS SYS 
EDIT] option.
 
For the Consolidated Mail Outpatient Pharmacy (CMOP) to utilize the new 
warning labels, this patch uses a new CMOP WARNING LABEL SOURCE field 
(#16.1) in the PHARMACY SYSTEM file (#59.7), also set by using the 
Pharmacy System Parameters Edit [PSS SYS EDIT] option. This should be set
to "N" for "New" to send the new warnings to CMOP. This field is added by 
patch PSS*1*120.
 
If the BAD ADDRESS INDICATOR field (#.121) in the PATIENT file (#2) is set
and there is no active temporary address for the patient, the fill will
appear on the CMOP reject log and will remain in suspense, but unmarked
for CMOP. It will print when the local print from suspense is done to be 
filled locally.
 
 
**************** NOTE ***************************************************
As the CMOP side also had to make programming changes, verify that the
CMOP that your site sends to can receive the new warning label format.
Then after setting the CMOP WARNING LABEL SOURCE field (#16.1) to "New",
send a small batch and verify that it was received and able to be
processed successfully. (As of the release of this patch, only the Bedford
CMOP was not yet ready to receive the new format).
**************************************************************************
 
This patch adds the sending of the INTEGRATION CONTROL NUMBER field 
(#991.01) from the PATIENT file (#2) if it is a national number. This 
number is concatenated with the letter "V" and the ICN CHECKSUM field
(#991.02) from the PATIENT file (#2) and is sent as the 18th subscript of
the PID segment. (See example under item 1 below).
 
 
When the CMOP WARNING LABEL SOURCE is "New", the format and/or content of
the following segments will be changed:
 
1. For the Patient Identification (PID) segment, the Patient Medication
Instruction (PMI) preference will be sent as "ENG" for English or "SPA"
for Spanish instead of the current numeric values.
 
   Example:
PID||000007890^1^M11||OPPATIENT^ONE||||12345 S MAIN ST^ADDRESS |
LINE2^MADISON ^WI^53705|(000)555-1212|SPA||1011007381V739824
 
2. Currently, the first part of the English language medication 
instruction (SIG) is sent in the RX1 segment and continuations are sent in
NTE|7 segments. Additional fields added to the NTE|7| segment when the 
new|
warning source flag is set are:
 
NTE|7|RX NUMBER|LANGUAGE CODE|NUMBER|TEXT  (TEXT is up to 100 characters |
per NTE|7| segment) 
Where: 
       RX NUMBER is the external prescription number from the PRESCRIPTION
         file (#52). 
       LANGUAGE CODE will be "ENG" for English or "SPA" for Spanish. 
       NUMBER is a sequence number for the SIG lines starting at 1 for
         each different language code.
 
   Example:
RX1|500-300993-1||||||90|D0132^DOXEPIN HCL 25MG CAP^L|||11|
20061122|11| |20071123|20061122|300993||TAKE TWO CAPSULES MOUTH THREE
TIMES A DAY FOR 7 D AYS, THEN TAKE ONE CAPSULE
NTE|7|300993|ENG|1|TWICE A DAY FOR 7 DAYS, THEN TAKE ONE CAPSULE AT |
BEDTIME FOR 7 DAYS, THEN TAKE
NTE|7|300993|ENG|2|ONE CAPSULE EVERY OTHER DAY FOR 7 DAYS |
NTE|7|300993|SPA|1|TAKE DOS CAPSULES MOUTH THREE TIMES A DAY PARA 7 DIAS, 
|
THEN TAKE UNO CAPSULE
NTE|7|300993|SPA|2|TWICE A DAY PARA 7 DIAS, THEN TAKE UNO CAPSULE AT |
BEDTIME PARA 7 DIAS, THEN
NTE|7|300993|SPA|3|TAKE UNO CAPSULE EVERY OTHER DAY PARA 7 DIAS |
 
 
3. Instead of sending warning label numbers in the ZX1 segment, the 
warning label text will be sent in the new NTE|11|segments.
 
Note: A maximum of 5 warning labels can be printed, so only the first 5 
for a drug will be sent to CMOP. If the patient has a PMI Language 
Preference other than English, the first 5 warning labels in each 
language will be sent.
 
The fields for the new warning labels are: 
NTE|11|RX NUMBER|LANGUAGE CODE|RECORD NUMBER|WARNING LABEL TEXT|
Where: 
       RX NUMBER is the external prescription number from the  
         PRESCRIPTION file (#52). 
       LANGUAGE CODE will be "ENG" for English or "SPA" for Spanish. 
       RECORD NUMBER is either the internal entry number from the RX 
         CONSULT file (#54) or the internal entry number from the WARNING
         LABEL-ENGLISH file (#50.625) followed by an "N" when the LANGUAGE
         CODE is "ENG" or the internal entry number from the WARNING
         LABEL-SPANISH file (#50.626) followed by an "N" when the LANGUAGE
         CODE is "SPA". 
       WARNING LABEL TEXT is the complete text of the specified warning 
         number (maximum length is 200 characters). 
   
   Example: 
ZX1|300993|514^TROY|M|1|(1of12)|WHITE,ELAINE|1|(***/***)|20061122|1|1|1|30
|
|500
-5294709|SCL50|UNKNOWN|
NTE|11|300993|ENG|1N|May cause drowsiness.  Alcohol may intensify this |
effect. Use care when operating a car or dangerous machines.
NTE|11|300993|ENG|62N|May cause dizziness|
NTE|11|300993|ENG|11N|Avoid prolonged or excessive exposure to direct |
and/or ar
tificial sunlight while taking this medication.
NTE|11|300993|ENG|61N|May cause blurred vision|
NTE|11|300993|ENG|13N|It is very important that you take or use this |
exactly as directed.  Do not skip doses or discontinue unless directed by
your doctor.
NTE|11|300993|SPA|1N|Puede causar somnolencia. El alcohol puede |
intensificar es te efecto. Tenga cuidado cuando conduzca veh!culos
automotores u opere maquinar ia peligrosa.
NTE|11|300993|SPA|62N|Puede causar mareo.|
NTE|11|300993|SPA|11N|Evite exponerse excesivamente o por per!odos |
prolongados a los rayos solares directos y/o artificiales mientras tome
este medicamento.
NTE|11|300993|SPA|61N|Puede causar visi"n borrosa.|
NTE|11|300993|SPA|13N|Es muy importante que lo tome o lo use exactamente |
seg#n las indicaciones. No omita ninguna dosis ni lo deje de usar a menos
que lo mande el mdico.
 
 
Also included in this patch is a fix for several Remedy tickets regarding 
a null subscript when a prescription was discontinued during transmission.
If the prescription was discontinued, the CMOP TRANSMISSION file (#550.2)
reference for that prescription is cleaned up.
 
Also added to this patch is the check for the value of the PROJ 112/SHAD
field (#122.01) in the PRESCRIPTION file (#52) as an additional
Environmental Indicator check to determine whether to send a copay or no 
copay indicator to CMOP. The patch that creates this new field, PSO*7*225,
will be released along with Computerized Patient Record System (CPRS)
GUI27. The added check in this patch will have no effect until PSO*7*225 
is installed.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;58 SEQ #55</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-12-12 20:53:12</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch checks for the BAD ADDRESS INDICATOR field (#.121) of the
PATIENT file (#2) being set or for the patient having a foreign address
when queueing transactions to Consolidated Mail Outpatient Pharmacy
(CMOP). If found, the fill stays on suspense for CMOP, but only prints the
reject MailMan message the first time for the fill. The reject MailMan
message is sent to holders of the PSXMAIL key and the person who queued
the CMOP transmission. An entry is made into the PRESCRIPTION file (#52) 
activity log the first time the fill cannot be transmitted due to one of 
these two conditions.
 
This patch corrects the numbering of refills in the RX REFERENCE field 
(#.04) of the ACTIVITY LOG multiple (#52.3) of the PRESCRIPTION file
(#52). A number 6 in the  field should mean a partial and any refills 
greater than the 5th refill should be stored as 1 plus the actual refill 
number. 
 
This patch also removes a call to a routine that is not used (related to 
Outpatient Pharmacy V. 6.0 sending information to the CLINICAL INFO
RESOURCE NETWORK (CIRN) package). Outpatient Pharmacy will be removed as a
subscriber to Data Base Integration Agreement (DBIA) 2382.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;63 SEQ #56</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2007-12-12 21:47:56</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
The general purpose of this patch is to meet the requirements in support 
of the Phase 4 ePharmacy enhancements. This patch is one of five to be 
released.  Three patches will be released in the KIDS multi-build 
distribution, BPS PSO IB BUNDLE 2.0, containing: BPS*1*5, IB*2*363,
PSO*7*260.  PSX*2*63 and PSS*1*127 will be released as stand-alone 
patches. The recommended order for installing the patches is to install
the stand-alone patch first and multi-build must be installed afterwards.
since there is a implementation dependency between the multi-build 
distribution and the stand-alone patch.  For more specific instructions 
please refer to the installation steps provided in each of the stand-alone
patches.
 
The software changes distributed by this patch are exclusively for
supporting the Electronic Claims Management Engine (ECME) application for
the ePharmacy/ECME Enhancements project (BPS*1*4). There is no functional
impact to the Consolidated Mailout Outpatient Pharmacy (CMOP) application.
The change is technical in nature and is explained below:
 
  The PSXBPSRP routine was created to replace the BPSCEAR routine, which
  was previously used by ECME to run the CMOP/ECME Activity Report [BPS 
RPT
  CMOP/ECME ACTIVITY] option. This option will be changed to call the 
  PSXBPSRP routine instead. This call is supported by the Database
  Integration Agreement #4968.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;64 SEQ #57</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2008-07-22 07:40:46</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-1.html">USER,ONE</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Overview of Remedy Ticket(s):
-----------------------------
Problem: HD200299
----------------------------------------------------
If the Pharmacy Site instruction(s) exceed seven lines a warning
message will be generated and sent to the CMOP Managers.  This
mail message that is sent includes the following line:
 
Lines beyond seven are not being sent to the CMOP.
 
The word "beyond" is mis-spelled "beyound".
 
Problem: HD225944
----------------------------------------------------
While using the option Scheduled Non-CS Transmission (PSXR SCHEDULED
NON-CS TRANS) the possibility exists to receive the following error:
&lt;COMMAND&gt;GETDATA+13^PSXRPPL
 
 
Resolution: HD200299
----------------------------------------------------
The word "beyound" has been changed to "beyond"
 
Resolution: HD225944
----------------------------------------------------
The program PSXMISC1 will be modified to return a value to the calling
Routine.  This will allow the Scheduled Non-CS Transmission to
continue without error.
 
The following is a list of the routines included in this patch.  
The second line of each of these routines now looks like: 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;66 SEQ #58</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-04-21 16:20:49</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is one of four patches that enhance ePharmacy, which provides 
limited support to Tricare and Active Duty outpatient pharmacy billing.
 
Below is a list of all the applications involved in this project along 
with their associated patch number:
 
       APPLICATION/VERSION                                  PATCH
     --------------------------------------------------------------
 1.  CONSOLIDATED MAIL OUTPATIENT PHARMCY (CMOP) V. 2.0   PSX*2*66
 2.  OUTPATIENT PHARMACY (OP) V. 7.0                      PSO*7*287
 3.  ELECTRONIC CLAIMS MANAGEMENT ENGINE (ECME) V. 1.0    BPS*1*6
 4.  INTEGRATED BILLING (IB) V. 2.0                       IB*2*383
 
All four patches are being released separately with a requirement that 
they be installed in the order outlined above.  There are no other 
dependencies between these patches, except that Tricare/Active Duty 
billing will not be supported by ePharmacy until all 4 patches are 
installed.
 
This patch modifies the Consolidated Mail Outpatient Pharmacy v2.0
application.  
 
For Tricare prescriptions, CMOP background processing was modified to
retain prescriptions in suspense when the third party claim remains in an 
ECME 'IN PROGESS' status or when it is flagged as non-billable. These 
prescriptions will be listed on the existing MailMan message 
with a subject line of 'ePharmacy - CMOP Not TRANSMITTED Rx List'.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;65 SEQ #59</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2009-07-14 09:09:59</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch has enhancements which extend the capabilities of the Veterans 
Health Information Systems and Technology Architecture (VistA) electronic 
pharmacy (ePharmacy) billing system.  Below is a list of all the 
applications involved in this project along with their patch number:
 
   APPLICATION/VERSION                                  PATCH
   --------------------------------------------------------------
   CONSOLIDATED MAIL OUTPATIENT PHARMACY (CMOP) V. 2.0  PSX*2*65
   PHARMACY DATA MANAGEMENT (PDM) V. 1.0                PSS*1*131
   OUTPATIENT PHARMACY (OP) V. 7.0                      PSO*7*289
   INTEGRATED BILLING (IB) V. 2.0                       IB*2*384
   ELECTRONIC CLAIMS MANAGEMENT ENGINE (ECME) V. 1.0    BPS*1*7
 
The last three patches (PSO*7*289, IB*2*384 and BPS*1*7) will be released 
in the Kernel Installation and Distribution System (KIDS) multi-build 
distribution BPS PSO IB BUNDLE 3.0.  Patches PSX*2*65 and PSS*1*131 will 
be released as stand-alone patches.  Since there is an implementation 
dependency between the multi-build distribution and the stand-alone 
patches, PSX*2*65 and PSS*1*131 must be installed prior to the 
installation of the multi-build.  For more specific instructions please 
refer to the installation steps provided in each of the patches.
 
All sites should install these patches regardless of whether or not they 
have been activated for ePharmacy by the Central Business Office (CBO).  
After the installation of these patches, the activation status of the 
site will not be impacted.  As before, activation of the ePharmacy 
product will require instructions provided by the CBO.  Sites are not to 
activate unless instructed specifically by the CBO.
 
This patch modifies the CMOP v2.0 application as described
below:
 
 
1.      A modification was made to allow for CMOP Suspense Date Rx's 
picked up after midnight to be sent to ECME appropriately. When the CMOP 
transmission starts, all Rx's in the suspense file are evaluated to see 
if they should be submitted to ECME first and if so are submitted. Then 
the system re-evaluates the suspense file to pull the latest list of Rx's 
to send to CMOP using the current date and time. When the CMOP evaluation 
runs past midnight, any Rx's with the suspense dates changed to that day 
are sent to CMOP. However, since the ECME submission ran before midnight, 
those Rx's would not have been sent. This modification will re-check the 
Rx's in suspense for the new date after the CMOP transmission completes 
in order to pick up Rx's that need to be sent to ECME after midnight.
 
2.      New functionality was added to prevent prescriptions from being 
filled/sent to CMOP when a host processing error occurs when a claim is 
submitted through ECME. The host processing errors are identified by 
reject codes M6, M8, NN, and 99. The following conditions apply when this 
scenario occurs.
a.      The transmission of the Rx/fill will be delayed 1 day in hopes 
that the host processing issues will be resolved.
b.      An activity log entry will be defined to state the date/time 
along with a comment stating that the Rx/fill was left in suspense hold 
due to a host processing error.
c.      This added functionality does not include the Pull Early from 
Suspense function.
 
3.      New functionality was added to the Print from Suspense File [PSO 
PNDLBL] option to prevent prescriptions from being pulled early from 
suspense until 3/4 of the days supply of the Rx/fill has elapsed.
 
4.      The 'CMOP/ECME Activity Report' [BPS RPT CMOP/ECME ACTIVITY] has 
been modified. 
a.      The CMOP-STATUS column will display 'D' for Dispense or 'T' for 
Transmit instead of partially spelling out the status.
b.      A prompt will be added to select detailed or summary 
information.  Detailed information will reflect what is currently 
displayed.  Summary information will shorten the batch header section of 
the report.
c.      A prompt will be added to select a list of patients (or ^ALL).  
Only patients on the list will be included in the detail.
d.      The division prompt will be modified to be consistent with other 
ECME options, i.e., the selection prompt will show 'A ALL DIVISIONS' 
first, 'S SELECT DIVISIONS' second, and will roll into particular 
divisions if the user selects an 'S'.
e.      A prompt will be added to select released, unreleased, or all 
prescriptions.
f.      Detailed reports will only display information from batches that 
have ECME Rxs.
g.      Header information will be centered. 
5.
 
 
 
 
This patch addresses the following New Service Request (NSR):
-------------------------------------------------------------
There is no NSR associated with this patch.
 
 
This patch addresses the following Remedy Ticket(s):
----------------------------------------------------
There is no Remedy Tickets associated with this patch.
 
 
 
Overview of Remedy Ticket(s):
-----------------------------
 
 
 
Components Sent With Patch
--------------------------
The following is a list of files included in this patch:
 
                                          UP    SEND  DATA
                                          DATE  SEC.  COMES  SITE   RSLV
FILE #        NAME                        DD    CODE  W/FILE DATA   PTS
-----------------------------------------------------------------------
 
 
The following is a list of files deleted in this patch:
 
FILE #        NAME
-------------------------------------
 
 
The following is a list of sub-files and related fields deleted in this 
patch:
 
Subfile Name (Number)                 File Name (Number)
  Field Name (Number)
---------------------                 ---------------------
 
 
The following is a list of fields included in this patch:
 
Field Name (Number)                   File Name (Number)
                                      Subfile Name (Number)
-------------------                   ------------------
CERTIFICATION IEN (902.23)            BPS TRANSACTIONS (9002313.59)
 
 
The following is a list of fields deleted in this patch:
 
Field Name (Number)                   File Name (Number)
                                      Subfile Name (Number)
-------------------                   ------------------
 
 
The following is a list of print templates deleted in this patch:
 
Template Name               File Name (Number)
-------------               ------------------
 
 
The following is a list of sort templates deleted in this patch:
 
Template Name                File Name (Number)
-------------                ------------------
 
 
The following is a list of list templates included in this patch:
 
Template Name
-------------
 
 
The following is a list of options included in this patch:
 
Option Name                  Type               New/Modified
-----------                  ----               ------------
 
 
The following is a list of protocols included in this patch:
 
Protocol Name
-----------
 
 
The following is a list of forms deleted in this patch:
 
Template Name               File Name (Number)
-------------               ------------------
 
 
 
Documentation Retrieval:
========================
Sites may retrieve documentation in one of the following ways:
 
 1.  The preferred method is to FTP the files from 
     download.vista.domain.ext, which will transmit the files from the
     first available FTP server.
 
 2.  Sites may also elect to retrieve documentation directly from a 
     specific server as follows:
 
     Albany          ftp.fo-albany.domain.ext
     Hines           ftp.fo-hines.domain.ext
     Salt Lake City  ftp.fo-slc.domain.ext
 
 3.  Documentation can also be retrieved from the VistA Documentation 
     Library (VDL) on the Internet at the following address,
     http://www.domain.ext/vdl.
 
The documentation distribution includes:
 
    FILE NAME                             DESCRIPTION
    
    ---------------------------------------------------------------------
 
 
 
 
Test Sites:
===========
 
 
 
 
       ================INSTALLATION INSTRUCTIONS =================
 
To avoid disruptions, these patches should be installed when users are 
not on the system and during non-peak hours.  Of particular concern would 
be the items below.
 
    1.  Do not install the patch when ECME claims are being generated
        by the BPS Nightly Background Job option [BPS NIGHTLY
        BACKGROUND JOB].  Wait for this job to finish or complete the
        installation before this job starts.
    2.  Do not install the patch when prescriptions are being 
        transmitted to CMOP.  Wait for the CMOP transmission to finish 
        or complete the installation before the transmission starts.  
        Check with Pharmacy Service or your pharmacy Automated Data
        Processing Application Coordinator (ADPAC) to find out when
        CMOP transmissions occur.
    3.  In addition, note that you will be prompted to disable the
        following options during the installation:
 
 
 
 
Install Time - Approximately 30 minutes
 
 
 
1.  OBTAIN PATCHES
    --------------
    Patches PSX*2*65 and PSS*1*131 will be sent to your system upon
    release from the National Patch Module.
 
    Obtain the host file BPS_1_7_PSO_IB.KID, which contains the following
    three patch installs:
 
        BPS*1.0*7
        PSO*7.0*289
        IB*2.0*384
 
     Sites can retrieve VistA software from the following FTP addresses.
     The preferred method is to FTP the files from:
 
                    download.vista.domain.ext
 
     This will transmit the files from the first available FTP server.
     Sites may also elect to retrieve software directly from a specific
     server as follows:
 
       Albany                  ftp.fo-albany.domain.ext
       Hines                   ftp.fo-hines.domain.ext
       Salt Lake City          ftp.fo-slc.domain.ext
 
     The BPS_1_7_PSO_IB.KID host file is located in the anonymous.software
     directory.  Use ASCII Mode when downloading the file.
 
2.  LOAD TRANSPORT GLOBAL FOR STAND-ALONE PATCHES
    ---------------------------------------------
    For patches PSX*2*65 and PSS*1*131, choose the PackMan message
    containing each of these patches and invoke the INSTALL/CHECK MESSAGE
    PackMan option.
 
3.  START UP KIDS
    -------------
    Start up the Kernel Installation and Distribution System Menu option
    [XPD MAIN]:
 
         Edits and Distribution ...
         Utilities ...
         Installation ...
 
    Select Kernel Installation &amp; Distribution System Option: INStallation
                                                             ---
         Load a Distribution
         Print Transport Global
         Compare Transport Global to Current System
         Verify Checksums in Transport Global
         Install Package(s)
         Restart Install of Package(s)
         Unload a Distribution
         Backup a Transport Global
 
    Select Installation Option:
 
4.  RUN OPTIONAL INSTALLATION OPTIONS FOR STAND-ALONE PATCHES
    ---------------------------------------------------------
    From the Installation menu, you may select to use the following
    options (when prompted for the INSTALL NAME, enter each of the
    stand-alone patches (PSX*2.0*65 and PSS*1.0*131)):
 
    a.  Backup a Transport Global - This option will create a backup
        message of any routines exported with this patch.  It will not
        backup any other changes such as Database Definitions (DD's) or
        templates.
    b.  Compare Transport Global to Current System - This option will
        allow you to view all changes that will be made when this patch
        is installed.  It compares all components of this patch
        (routines, DD's, templates, etc.).
    c.  Verify Checksums in Transport Global - This option will allow
        you to ensure the integrity of the routines that are in the
        transport global.
 
5.  INSTALL STAND-ALONE PATCHES
    ---------------------------
    This is the step to start the installation of this KIDS patch.  This
    will need to be run for each of the stand-alone patches (PSX*2*65 and
    PSS*1*131).
 
    a.  Choose the Install Package(s) option to start the patch
        install.
    b.  When prompted for the "Select INSTALL NAME:", enter the patch
        name.
    c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
        YES//" answer NO.
    d.  When prompted "Want to DISABLE Scheduled Options, Menu
        Options, and Protocols? YES//" answer NO.
    e.  When prompted, "Device: Home//" respond with the correct device.
 
6.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
    -------------------------------------
    After the installation of the stand-alone patches is complete, return
    to the Installation menu.
 
    From the Installation menu, select the Load a Distribution option.
 
    When prompted for "Enter a Host File:", enter the full directory path
    where you saved the host file BPS_1_7_PSO_IB.KID (e.g.,
    SYS$SYSDEVICE:[ANONYMOUS]BPS_1_7_PSO_IB.KID).
 
    When prompted for "OK to continue with Load? NO//", enter "YES."
 
    The following will display:
 
      Loading Distribution...
 
        BPS PSO IB BUNDLE 3.0
        BPS*1.0*7
        PSO*7.0*289
        IB*2.0*384
      Use INSTALL NAME: BPS PSO IB BUNDLE 3.0 to install this
      Distribution.
 
7.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
    -------------------------------------------------
    From the Installation menu, you may select to use the following
    options (when prompted for the INSTALL NAME, enter
    BPS PSO IB BUNDLE 3.0):
 
    a.  Backup a Transport Global - This option will create a backup
        message of any routines exported with this patch.  It will not
        backup any other changes such as DD's or templates.
    b.  Compare Transport Global to Current System - This option will
        allow you to view all changes that will be made when this patch
        is installed.  It compares all components of this patch
        (routines, DD's, templates, etc.).
    c.  Verify Checksums in Transport Global - This option will allow
        you to ensure the integrity of the routines that are in the
        transport global.
 
8.  INSTALL MULTI-BUILD
    -------------------
    This is the step to start the installation of this KIDS patch.  This
    will need to be run for the BPS PSO IB BUNDLE 3.0.
    
    a.  Choose the Install Package(s) option to start the patch
        install.
    b.  When prompted for the "Select INSTALL NAME:", enter BPS PSO IB
        BUNDLE 3.0.
    c.  For the BPS*1*7 patch, when prompted "Want KIDS to Rebuild Menu
        Trees Upon Completion of Install? YES//"  enter YES unless your
        system does this in a nightly TaskMan process.
    d.  For the PSO*7*289 patch, when prompted "Want KIDS to Rebuild Menu
        Trees Upon Completion of Install? YES//"  enter YES unless your
        system does this in a nightly TaskMan process.
    e.  When prompted "Want KIDS to INHIBIT LOGONs during the
        install? YES//"  enter NO.
    f.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
        and Protocols? YES//"  enter YES.
    g.  When prompted "Enter options you wish to mark as 'Out Of
        Order':"  enter the following options:
 
    h.  When prompted "Enter protocols you wish to mark as 'Out Of
        Order':"  enter &lt;return&gt;.
    i.  When prompted "Delay Install (Minutes):  (0-60): 0//"  enter an
        appropriate number of minutes to delay the installation in 
        order to give users enough time to exit the disabled options
        before the installation starts.
    j.  When prompted "Device: Home//"  respond with the correct device.
 
 
 
The BPS post-install routine delivered with BPS*1*7 will do the tasks
listed below.  This post-install will be tasked and may take several
hours to run.  The post-install routine BPS01P7 is being left on the 
system after the install.  They will be deleted with a future patch.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;68 SEQ #60</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-02-17 10:48:15</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch is part of the FY09-Q3 Enhancement release and must be
installed along with Outpatient Pharmacy V. 7.0 patch PSO*7*324, which
addresses PSI-07-181 (PSPO# 865) - Remedy Ticket # HD208961. A new mail
group named PSX EXTERNAL DISPENSE ALERTS is created in this patch to
support the functionality provided by patch PSO*7*324.
 
When a Consolidated Mail Outpatient Pharmacy (CMOP) prescription with a
status of Transmitted or Retransmitted is discontinued by a background
job other than Outpatient Pharmacy options, e.g. Computerized Patient
Record System V. 1.0 (CPRS) or Registration V. 5.3 packages, then an
email notifying that a prescription was just discontinued for that Rx
will be sent to the new PSX EXTERNAL DISPENSE ALERTS mail group. If no
recipients are defined in the new mail group, then the email alert will be
sent to PSXCMOPMGR key holders. The email alert will inform the group that
the CMOP status for the Rx just discontinued was either Transmitted or
Retransmitted as seen in the example below.
 
  Subj: TROY - DC Alert on CMOP Rx 123456789 TRANSMITTED  [#90494]
  03/03/09@17:37 8 lines
  From: POSTMASTER  In 'IN' basket.   Page 1  *New*
  ------------------------------------------------------------------------
               Rx #: 123456789   Fill: 0
            Patient: OUTPATIENT,DCONE (6660)
               Drug: TAMOXIFEN CITRATE 10MG TABS
          Rx Status: DISCONTINUED BY PROVIDER
  Processing Status: TRANSMITTED to CMOP on 02/27/09
           Provider: OPPROVIDER, PROV
 
  ********    Please contact CMOP or take appropriate action    ********
 
  Enter message action (in IN basket): Ignore//
  ------------------------------------------------------------------------
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;69 SEQ #61</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-06-24 15:50:51</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch modifies the CMOP v2.0 application as described below:
 
1. An entry was being added to the ECME LOG every time an Rx is evaluated
for ECME claim submissions and the Rx was flagged for Bad Address. A
modification was made to only allow the Rx to be evaluated for ECME claim
submission if a Bad Address indicator is not present. 
 
2. There is a known issue where the system may not automatically resubmit
all claims rejected due to a host processing error. A test facility found
where the software did not resubmit an electronic pharmacy claim
automatically when a claim rejected for a host processing error. The
following day the prescription was transmitted to CMOP as anticipated and
was filled. The claim did appear on the ECME User Screen so it could be
manually resubmitted, which is the process facilities followed before this
patch was installed.  Based upon analysis, this is an infrequent scenario
(less than 1%) and will only occur in a particular set of circumstances.
 
Host processing errors are identified by reject codes M6, M8, NN, and 99.
The following conditions apply when this scenario occurs.
 
     a. The transmission of the Rx/fill will be delayed 1 day in hopes
        that the host processing issues will be resolved.
     b. An activity log entry will be defined to state the date/time along
        with a comment stating that the Rx/fill was left in suspense hold 
        due to a host processing error.
     c. This added functionality does not include the Pull Early from
        Suspense function.
 
This issue has been corrected in this patch.
 
3.  The system was allowing rejected Tricare prescriptions to be sent to 
CMOP.  Tricare rejected prescriptions should be held in suspense until 
the reject has been resolved.  This patch corrects this issue. 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;71 SEQ #62</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2010-12-07 11:03:35</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
Currently in backdoor Pharmacy, all warning labels are printed.
However, when Prescription Warning labels are transmitted to the
Consolidated Mail Outpatient Pharmacy (CMOP), there is a limit of 5
warnings per prescription. CMOP has requested that all warning labels be
sent with every prescription. This patch therefore allows more than five
warnings per prescription to be transmitted to CMOP, and also allows
warning text that is greater than 220 characters per warning.
 
Prescription Warning labels are currently transmitted to CMOP via Health
Level Seven (HL7) messages in segment NTE|11|, with a limit of 220
characters. This patch creates a continuation segment in NTE|11A| to
contain the warning text that is greater than the initial 220 characters,
up to an additional 220 characters. The continuation segment immediately
follows the NTE|11| segment of the warning. This means all warning labels
will be transmitted to CMOP.
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;73</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-02-16 14:00:25</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
ePharmacy Phase 6
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;70 SEQ #64</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2012-03-29 18:36:01</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
This patch contains software modifications to the Consolidated Mail 
Outpatient Pharmacy (CMOP) V. 2.0 application to support the Food and Drug
Administration (FDA) Medication Guides - Increment 3 project. The project
objective is to allow pharmacy staff to retrieve the FDA Medication Guide
for prescription items that contain FDA approved information that can help
patients avoid adverse events. The FDA requires that Medication Guides be
included with certain prescribed drugs and biological products when the
Agency determines that:
 
 . Certain information is necessary to prevent serious adverse effects 
 . Patient decision-making should be advised by information about a known
   serious side effect with a product, or 
 . Patient adherence to directions for the use of a product is essential
   to its effectiveness. 
 
The features in the FDA Medication Guides project are being delivered in
incremental releases. This patch is part of the Increment 3 release, which
is the last planned release. The features included in this release are:
 
 . Ability to create and maintain a list of FDA Medication Guide printers
   for a specific pharmacy division.
 
 . Automatic printing of FDA Medication Guide along with prescription 
   labels.
 
 . Ability to reprint the FDA Medication Guide when reprinting a 
   prescription label.
 
 . Ability to change the FDA Medication Guide printer at any point in the
   dispensing process, similar to changing the label printer.
 
 . Ability to reprint the FDA Medication Guide for any given prescription
   fill or the latest FDA Mediation Guide available for the medication on
   the prescription.
  
 . Identification on the label document that an FDA Medication Guide was
   printed as well and needs to be collated to the documentation before
   being handed over to the patient.
 
 . Changes to the prescription label activity logs showing which specific
   FDA Medication Guide document printed along with the label.
 
 . Changes to the Consolidated Mail Outpatient Pharmacy (CMOP) Event log
   showing which specific FDA Medication Guide document was available 
   for the medication when the prescription fill was transmitted to CMOP.
 
 . Introduction of a PC based Java software component to enable the
   automatic printing of an FDA Medication Guide from within VistA. The
   software does not require any direct user interaction. The software 
   identifies a request from VistA for a specific FDA Medication Guide
   and automatically sends it to the FDA Medication Guide printer
   selected by the user within VistA when dispensing the medication.
 
 . Ability to update the Windows network printer name for a specific
   device through the Kernel application. Once the pharmacist selects a
   printer to print the FDA Medication Guide Vista will retrieve the 
   Windows name for the printer and will pass it on to the Java
   application responsible for printing the document.
    
Below is a list of all the applications involved in this release along
with their patch number:
  
   APPLICATION/VERSION                                    PATCH
   -----------------------------------------------------------------
   CONSOLIDATED MAIL OUTPATIENT PHARMACY (CMOP) V. 4.0    PSX*2*70
   NATIONAL DRUG FILE (NDF) V. 4.0                        PSN*4*264
   OUTPATIENT PHARMACY (OP) V. 7.0                        PSO*7*367
   KERNEL V. 8.0                                          XU*8*566
   
The following modification is included in this patch (PSX*2*70):
 
The process responsible for the transmission of prescriptions from Outpatient
Pharmacy to CMOP will be modified to record the current FDA Medication Guide
document name in the CMOP Event Log in the PRESCRIPTION file (#52) if one 
exists for the medication in the prescription being transmitted. Such 
information will be displayed within Outpatient Pharmacy application when the
user selects to view the CMOP Event Log for a specific prescription.
 
</pre>
</dt>
</li>
<li>
<dt>PATCH APPLICATION HISTORY:  &nbsp;&nbsp;74</dt>
<dt>DATE APPLIED:  &nbsp;&nbsp;2014-01-06 16:16:56</dt>
<dt>APPLIED BY:  &nbsp;&nbsp;<a href="200-17.html">USER,SEVENTEEN</a></dt>
<dt>DESCRIPTION:  &nbsp;&nbsp;<pre>
EPHARMACY OPERATING RULES
</pre>
</dt>
</li>
</ol>
</dd></dl>
</li>
</ol>
</td>
</tr>
<tr>
<td>ENVIRONMENT CHECK ROUTINE</td>
<td><a href="http://code.osehra.org/dox/Routine_PSXPRE.html">PSXPRE</a></td>
</tr>
<tr>
<td>ENVIRONMENT CHECK DONE DATE</td>
<td>1996-07-18 15:52:45</td>
</tr>
<tr>
<td>POST-INITIALIZATION ROUTINE</td>
<td><a href="http://code.osehra.org/dox/Routine_PSXPOST.html">PSXPOST</a></td>
</tr>
<tr>
<td>POST-INIT COMPLETION DATE</td>
<td>1996-07-18 15:55:18</td>
</tr>
</tbody>
</table>
</div>
</div>
</body></html>